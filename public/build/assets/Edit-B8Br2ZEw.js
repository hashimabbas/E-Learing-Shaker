import{d as os,r as se,j as t,c as ze,a as Dt,t as Ae,b as Me,H as Rs,L as Vs,C as Os}from"./app-DyKQlprP.js";import{g as Us,L as _s,c as Bs}from"./app-layout-CNoPMChV.js";import{c as $e,B as L}from"./button-DPAe4nkm.js";import{a as Le,C as Fe,b as Qe,c as ge,d as is}from"./card-B-ZoIeNY.js";import{c as Hs,P as Gs,a as fs,u as Ks}from"./index-Db6oHuYG.js";import{f as Cs,I as Ys,R as Ws,u as Xs,g as Js,s as xs}from"./sheet-CgJcP9pL.js";import{P as cs}from"./index-RQsC1uI6.js";import{I as ke}from"./input-DlqnpI4Y.js";import{L as U}from"./label-CfWfEvQV.js";import{T as Lt}from"./textarea-C45VYLx8.js";import{I as de}from"./input-error-CtY8HDXs.js";import{d as hs,S as ps,a as gs,b as bs,c as Ie}from"./select-Da2nNzwb.js";import{D as Zs,a as el,d as tl,e as sl}from"./dialog-Dh2j6-74.js";import{V as as}from"./video-DTPFoJlt.js";import{D as ll}from"./download-QykZuc6k.js";import{C as rl}from"./checkbox-BI0rtX_G.js";import{C as il}from"./circle-check-big-BFluiIGh.js";import{C as al}from"./circle-x-BZoiK9qW.js";import{T as Mt}from"./trash-2-CHInLlnk.js";import{C as It}from"./circle-plus-BBNtMoNT.js";import{S as Ns}from"./square-pen-DQ2d603Y.js";import{B as $t}from"./badge-BuGvogzK.js";import{S as ws}from"./separator-DcTZen95.js";import{C as De}from"./circle-help-Bz4DXWqL.js";import{A as nl}from"./arrow-left-B6AY6zbg.js";import{U as ol}from"./users-3NLWVyAt.js";import{B as cl}from"./badge-dollar-sign-rcrBD1P9.js";import{F as dl}from"./file-text-CcV67BcZ.js";/* empty css            */import"./index-Dc5gxj5P.js";import"./index-81r5FwrH.js";import"./chevron-down-Cb4dscRe.js";import"./check-BLgxyM_v.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],js=os("ListOrdered",ml);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ks=os("Pen",ul);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xl=os("Save",fl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],pl=os("Upload",hl);var ds="Tabs",[gl,wr]=Hs(ds,[Cs]),zs=Cs(),[bl,vs]=gl(ds),Ts=se.forwardRef((i,e)=>{const{__scopeTabs:s,value:r,onValueChange:n,defaultValue:o,orientation:m="horizontal",dir:h,activationMode:v="automatic",...w}=i,y=Xs(h),[g,f]=Ks({prop:r,onChange:n,defaultProp:o??"",caller:ds});return t.jsx(bl,{scope:s,baseId:Js(),value:g,onValueChange:f,orientation:m,dir:y,activationMode:v,children:t.jsx(cs.div,{dir:y,"data-orientation":m,...w,ref:e})})});Ts.displayName=ds;var qs="TabsList",Qs=se.forwardRef((i,e)=>{const{__scopeTabs:s,loop:r=!0,...n}=i,o=vs(qs,s),m=zs(s);return t.jsx(Ws,{asChild:!0,...m,orientation:o.orientation,dir:o.dir,loop:r,children:t.jsx(cs.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:e})})});Qs.displayName=qs;var As="TabsTrigger",Es=se.forwardRef((i,e)=>{const{__scopeTabs:s,value:r,disabled:n=!1,...o}=i,m=vs(As,s),h=zs(s),v=Ds(m.baseId,r),w=Ls(m.baseId,r),y=r===m.value;return t.jsx(Ys,{asChild:!0,...h,focusable:!n,active:y,children:t.jsx(cs.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":w,"data-state":y?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:v,...o,ref:e,onMouseDown:fs(i.onMouseDown,g=>{!n&&g.button===0&&g.ctrlKey===!1?m.onValueChange(r):g.preventDefault()}),onKeyDown:fs(i.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&m.onValueChange(r)}),onFocus:fs(i.onFocus,()=>{const g=m.activationMode!=="manual";!y&&!n&&g&&m.onValueChange(r)})})})});Es.displayName=As;var Fs="TabsContent",Is=se.forwardRef((i,e)=>{const{__scopeTabs:s,value:r,forceMount:n,children:o,...m}=i,h=vs(Fs,s),v=Ds(h.baseId,r),w=Ls(h.baseId,r),y=r===h.value,g=se.useRef(y);return se.useEffect(()=>{const f=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(f)},[]),t.jsx(Gs,{present:n||y,children:({present:f})=>t.jsx(cs.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":v,hidden:!f,id:w,tabIndex:0,...m,ref:e,style:{...i.style,animationDuration:g.current?"0s":void 0},children:f&&o})})});Is.displayName=Fs;function Ds(i,e){return`${i}-trigger-${e}`}function Ls(i,e){return`${i}-content-${e}`}var jl=Ts,vl=Qs,yl=Es,_l=Is;function Ms(i){const e=ze.c(8);let s,r;e[0]!==i?({className:s,...r}=i,e[0]=i,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=$e("flex flex-col gap-2",s),e[3]=s,e[4]=n):n=e[4];let o;return e[5]!==r||e[6]!==n?(o=t.jsx(jl,{"data-slot":"tabs",className:n,...r}),e[5]=r,e[6]=n,e[7]=o):o=e[7],o}function $s(i){const e=ze.c(8);let s,r;e[0]!==i?({className:s,...r}=i,e[0]=i,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=$e("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),e[3]=s,e[4]=n):n=e[4];let o;return e[5]!==r||e[6]!==n?(o=t.jsx(vl,{"data-slot":"tabs-list",className:n,...r}),e[5]=r,e[6]=n,e[7]=o):o=e[7],o}function Et(i){const e=ze.c(8);let s,r;e[0]!==i?({className:s,...r}=i,e[0]=i,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=$e("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[3]=s,e[4]=n):n=e[4];let o;return e[5]!==r||e[6]!==n?(o=t.jsx(yl,{"data-slot":"tabs-trigger",className:n,...r}),e[5]=r,e[6]=n,e[7]=o):o=e[7],o}function Ft(i){const e=ze.c(8);let s,r;e[0]!==i?({className:s,...r}=i,e[0]=i,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let n;e[3]!==s?(n=$e("flex-1 outline-none",s),e[3]=s,e[4]=n):n=e[4];let o;return e[5]!==r||e[6]!==n?(o=t.jsx(_l,{"data-slot":"tabs-content",className:n,...r}),e[5]=r,e[6]=n,e[7]=o):o=e[7],o}function Nl(i){const e=ze.c(92),{courseId:s,lesson:r,onSave:n,onCancel:o}=i,m=!!r?.id,h=r?.id||null,v=r?.title||"",w=r?.description||"",y=r?.type||"video",g=r?.order||0,f=r?.is_free_preview||!1;let Q;e[0]!==s||e[1]!==h||e[2]!==v||e[3]!==w||e[4]!==y||e[5]!==g||e[6]!==f?(Q={id:h,course_id:s,title:v,description:w,type:y,order:g,is_free_preview:f},e[0]=s,e[1]=h,e[2]=v,e[3]=w,e[4]=y,e[5]=g,e[6]=f,e[7]=Q):Q=e[7];const{data:u,setData:a,post:l,patch:d,processing:z,errors:c,reset:k}=Dt(Q);let b;e[8]!==u.id||e[9]!==m||e[10]!==n||e[11]!==d||e[12]!==l||e[13]!==k?(b=p=>{p.preventDefault();const A=m?"instructor.lessons.update":"instructor.lessons.store",E=m?u.id:void 0;m?d(route(A,E),{onSuccess:()=>{n(),k()},preserveScroll:!0}):l(route(A,E),{onSuccess:()=>{n(),k()},preserveScroll:!0})},e[8]=u.id,e[9]=m,e[10]=n,e[11]=d,e[12]=l,e[13]=k,e[14]=b):b=e[14];const _=b,S=m?"Edit Lesson":"Add New Lesson";let C;e[15]!==S?(C=t.jsx(Le,{children:t.jsx(Fe,{children:S})}),e[15]=S,e[16]=C):C=e[16];let j;e[17]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(U,{htmlFor:"title",children:"Title"}),e[17]=j):j=e[17];let q;e[18]!==a?(q=p=>a("title",p.target.value),e[18]=a,e[19]=q):q=e[19];let T;e[20]!==u.title||e[21]!==q?(T=t.jsx(ke,{id:"title",value:u.title,onChange:q,required:!0}),e[20]=u.title,e[21]=q,e[22]=T):T=e[22];let x;e[23]!==c.title?(x=t.jsx(de,{message:c.title}),e[23]=c.title,e[24]=x):x=e[24];let F;e[25]!==T||e[26]!==x?(F=t.jsxs("div",{className:"space-y-2",children:[j,T,x]}),e[25]=T,e[26]=x,e[27]=F):F=e[27];let D;e[28]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(U,{htmlFor:"description",children:"Description"}),e[28]=D):D=e[28];let $;e[29]!==a?($=p=>a("description",p.target.value),e[29]=a,e[30]=$):$=e[30];let P;e[31]!==u.description||e[32]!==$?(P=t.jsx(Lt,{id:"description",value:u.description,onChange:$,rows:3}),e[31]=u.description,e[32]=$,e[33]=P):P=e[33];let I;e[34]!==c.description?(I=t.jsx(de,{message:c.description}),e[34]=c.description,e[35]=I):I=e[35];let me;e[36]!==P||e[37]!==I?(me=t.jsxs("div",{className:"space-y-2",children:[D,P,I]}),e[36]=P,e[37]=I,e[38]=me):me=e[38];let fe;e[39]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(U,{htmlFor:"order",children:"Order"}),e[39]=fe):fe=e[39];let Z;e[40]!==a?(Z=p=>a("order",parseInt(p.target.value)),e[40]=a,e[41]=Z):Z=e[41];let ee;e[42]!==u.order||e[43]!==Z?(ee=t.jsx(ke,{id:"order",type:"number",value:u.order,onChange:Z,required:!0}),e[42]=u.order,e[43]=Z,e[44]=ee):ee=e[44];let le;e[45]!==c.order?(le=t.jsx(de,{message:c.order}),e[45]=c.order,e[46]=le):le=e[46];let B;e[47]!==ee||e[48]!==le?(B=t.jsxs("div",{className:"space-y-2",children:[fe,ee,le]}),e[47]=ee,e[48]=le,e[49]=B):B=e[49];let re;e[50]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(U,{htmlFor:"type",children:"Lesson Type"}),e[50]=re):re=e[50];let H;e[51]!==a?(H=p=>a("type",p),e[51]=a,e[52]=H):H=e[52];let je;e[53]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(ps,{children:t.jsx(gs,{placeholder:"Select Type"})}),e[53]=je):je=e[53];let xe;e[54]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs(bs,{children:[t.jsx(Ie,{value:"video",children:"Video"}),t.jsx(Ie,{value:"downloadable",children:"E-book/PDF"}),t.jsx(Ie,{value:"quiz",children:"Quiz"}),t.jsx(Ie,{value:"text",children:"Text"})]}),e[54]=xe):xe=e[54];let ie;e[55]!==u.type||e[56]!==H?(ie=t.jsxs(hs,{onValueChange:H,value:u.type,children:[je,xe]}),e[55]=u.type,e[56]=H,e[57]=ie):ie=e[57];let ae;e[58]!==c.type?(ae=t.jsx(de,{message:c.type}),e[58]=c.type,e[59]=ae):ae=e[59];let R;e[60]!==ie||e[61]!==ae?(R=t.jsxs("div",{className:"space-y-2",children:[re,ie,ae]}),e[60]=ie,e[61]=ae,e[62]=R):R=e[62];let G;e[63]!==B||e[64]!==R?(G=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B,R]}),e[63]=B,e[64]=R,e[65]=G):G=e[65];let K;e[66]!==a?(K=p=>a("is_free_preview",p.target.checked),e[66]=a,e[67]=K):K=e[67];let ne;e[68]!==u.is_free_preview||e[69]!==K?(ne=t.jsx("input",{type:"checkbox",id:"preview",checked:u.is_free_preview,onChange:K,className:"form-checkbox"}),e[68]=u.is_free_preview,e[69]=K,e[70]=ne):ne=e[70];let oe;e[71]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(U,{htmlFor:"preview",className:"font-normal",children:"Allow Free Preview"}),e[71]=oe):oe=e[71];let V;e[72]!==ne?(V=t.jsxs("div",{className:"flex items-center space-x-2",children:[ne,oe]}),e[72]=ne,e[73]=V):V=e[73];let Y;e[74]!==o?(Y=t.jsx(L,{type:"button",variant:"secondary",onClick:o,children:"Cancel"}),e[74]=o,e[75]=Y):Y=e[75];const ce=m?"Save Changes":"Add Lesson";let O;e[76]!==z||e[77]!==ce?(O=t.jsx(L,{type:"submit",disabled:z,children:ce}),e[76]=z,e[77]=ce,e[78]=O):O=e[78];let W;e[79]!==Y||e[80]!==O?(W=t.jsxs("div",{className:"flex justify-end space-x-2",children:[Y,O]}),e[79]=Y,e[80]=O,e[81]=W):W=e[81];let X;e[82]!==_||e[83]!==F||e[84]!==me||e[85]!==G||e[86]!==V||e[87]!==W?(X=t.jsx(Qe,{children:t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[F,me,G,V,W]})}),e[82]=_,e[83]=F,e[84]=me,e[85]=G,e[86]=V,e[87]=W,e[88]=X):X=e[88];let te;return e[89]!==C||e[90]!==X?(te=t.jsxs(ge,{className:"shadow-lg border-primary/50",children:[C,X]}),e[89]=C,e[90]=X,e[91]=te):te=e[91],te}function wl(i){const e=ze.c(34),{lessonId:s,lessonType:r,onUploadSuccess:n}=i;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={resource_file:null},e[0]=o):o=e[0];const{data:m,setData:h,post:v,processing:w,errors:y,reset:g}=Dt(o),f=r==="video",Q=f?"video/mp4,video/quicktime":"application/pdf";let u;e[1]!==f?(u=f?t.jsx(as,{className:"h-4 w-4 mr-2"}):t.jsx(ll,{className:"h-4 w-4 mr-2"}),e[1]=f,e[2]=u):u=e[2];const a=u;let l;e[3]!==m.resource_file||e[4]!==s||e[5]!==n||e[6]!==v||e[7]!==g?(l=D=>{if(D.preventDefault(),!m.resource_file){alert("Please select a file to upload.");return}v(route("instructor.lessons.upload_resource",s),{forceFormData:!0,onSuccess:()=>{n(),g("resource_file")},onError:Sl,preserveScroll:!0})},e[3]=m.resource_file,e[4]=s,e[5]=n,e[6]=v,e[7]=g,e[8]=l):l=e[8];const d=l,z=f?"Video Lecture":"E-Book PDF";let c;e[9]!==z||e[10]!==a?(c=t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a," Upload ",z]}),e[9]=z,e[10]=a,e[11]=c):c=e[11];const k=f?"Select Video File":"Select PDF File";let b;e[12]!==k?(b=t.jsx(U,{htmlFor:"resource_file",children:k}),e[12]=k,e[13]=b):b=e[13];let _;e[14]!==h?(_=D=>h("resource_file",D.target.files?D.target.files[0]:null),e[14]=h,e[15]=_):_=e[15];let S;e[16]!==Q||e[17]!==_?(S=t.jsx(ke,{id:"resource_file",type:"file",accept:Q,onChange:_,required:!0}),e[16]=Q,e[17]=_,e[18]=S):S=e[18];let C;e[19]!==y.resource_file?(C=t.jsx(de,{message:y.resource_file}),e[19]=y.resource_file,e[20]=C):C=e[20];let j;e[21]!==C||e[22]!==b||e[23]!==S?(j=t.jsxs("div",{className:"space-y-2",children:[b,S,C]}),e[21]=C,e[22]=b,e[23]=S,e[24]=j):j=e[24];let q;e[25]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(pl,{className:"w-4 h-4 mr-2"}),e[25]=q):q=e[25];const T=w?"Uploading...":"Start Upload";let x;e[26]!==w||e[27]!==T?(x=t.jsxs(L,{type:"submit",disabled:w,className:"w-full",children:[q," ",T]}),e[26]=w,e[27]=T,e[28]=x):x=e[28];let F;return e[29]!==d||e[30]!==j||e[31]!==x||e[32]!==c?(F=t.jsxs("form",{onSubmit:d,className:"space-y-4 p-4 border rounded-lg bg-neutral-50 dark:bg-neutral-800",children:[c,j,x]}),e[29]=d,e[30]=j,e[31]=x,e[32]=c,e[33]=F):F=e[33],F}function Sl(i){return console.error(i)}function Cl(i){const e=ze.c(34),{lessonId:s,initialContent:r,initialTitle:n,initialOrder:o,initialIsFreePreview:m,onSave:h}=i;let v;e[0]!==r||e[1]!==m||e[2]!==o||e[3]!==n?(v={description:r,title:n,order:o,is_free_preview:m},e[0]=r,e[1]=m,e[2]=o,e[3]=n,e[4]=v):v=e[4];const{data:w,setData:y,patch:g,processing:f,errors:Q}=Dt(v);let u;e[5]!==s||e[6]!==h||e[7]!==g?(u=T=>{T.preventDefault(),g(route("instructor.lessons.update",s),{onSuccess:()=>{Ae.success("Text content saved successfully."),h()},onError:kl,preserveScroll:!0})},e[5]=s,e[6]=h,e[7]=g,e[8]=u):u=e[8];const a=u;let l;e[9]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("h3",{className:"text-lg font-semibold",children:"Edit Text Content"}),e[9]=l):l=e[9];let d;e[10]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(U,{htmlFor:"content",children:"Lesson Text Content (Supports Markdown)"}),e[10]=d):d=e[10];let z;e[11]!==y?(z=T=>y("description",T.target.value),e[11]=y,e[12]=z):z=e[12];let c;e[13]!==w.description||e[14]!==z?(c=t.jsx(Lt,{id:"content",value:w.description,onChange:z,rows:10,required:!0}),e[13]=w.description,e[14]=z,e[15]=c):c=e[15];let k;e[16]!==Q.description?(k=t.jsx(de,{message:Q.description}),e[16]=Q.description,e[17]=k):k=e[17];let b;e[18]!==c||e[19]!==k?(b=t.jsxs("div",{className:"space-y-2",children:[d,c,k]}),e[18]=c,e[19]=k,e[20]=b):b=e[20];const _=f?"Saving...":"Save Text Content";let S;e[21]!==f||e[22]!==_?(S=t.jsx(L,{type:"submit",disabled:f,children:_}),e[21]=f,e[22]=_,e[23]=S):S=e[23];let C;e[24]!==w.order||e[25]!==w.title?(C=t.jsxs("p",{className:"text-sm text-muted-foreground pt-2 border-t mt-4",children:["Updating content for: **",w.title,"** (Order: ",w.order,")"]}),e[24]=w.order,e[25]=w.title,e[26]=C):C=e[26];let j;e[27]!==S||e[28]!==C?(j=t.jsxs("div",{className:"flex justify-end space-x-2",children:[S,C]}),e[27]=S,e[28]=C,e[29]=j):j=e[29];let q;return e[30]!==a||e[31]!==j||e[32]!==b?(q=t.jsxs("form",{onSubmit:a,className:"space-y-4 p-4 border rounded-lg bg-white dark:bg-neutral-900",children:[l,b,j]}),e[30]=a,e[31]=j,e[32]=b,e[33]=q):q=e[33],q}function kl(i){return console.error("Text content save failed:",i)}const ns=()=>Date.now()+Math.random(),Ss=[{local_id:ns(),text:"",is_correct:!0},{local_id:ns(),text:"",is_correct:!1}],zl=i=>i.map(e=>({local_id:e.id||ns(),id:e.id,text:e.text,is_correct:e.is_correct}));function Tl(i){const e=ze.c(116),{lessonId:s,quizId:r,lessonTitle:n,onQuizCreated:o,onQuestionSaved:m,initialQuestion:h}=i;let v;e[0]!==h||e[1]!==r?(v=h?{id:h.id,text:h.text,type:h.type,answers:zl(h.answers),quiz_id:r}:{id:null,text:"",type:"single_choice",answers:Ss,quiz_id:r},e[0]=h,e[1]=r,e[2]=v):v=e[2];const w=v;let y;e[3]!==s||e[4]!==n?(y={lesson_id:s,title:n,pass_percentage:70},e[3]=s,e[4]=n,e[5]=y):y=e[5];const{data:g,setData:f,post:Q,processing:u,errors:a}=Dt(y),{data:l,setData:d,post:z,put:c,processing:k,errors:b,reset:_}=Dt(w);let S;e[6]!==l.quiz_id||e[7]!==r||e[8]!==d?(S=()=>{r&&l.quiz_id!==r&&d("quiz_id",r)},e[6]=l.quiz_id,e[7]=r,e[8]=d,e[9]=S):S=e[9];let C;e[10]!==r?(C=[r],e[10]=r,e[11]=C):C=e[11],se.useEffect(S,C);let j;e[12]!==l.answers||e[13]!==d?(j=(p,A)=>{const E=l.answers.map((M,J)=>J===p?{...M,text:A}:M);d("answers",E)},e[12]=l.answers,e[13]=d,e[14]=j):j=e[14];const q=j;let T;e[15]!==l.answers||e[16]!==l.type||e[17]!==d?(T=p=>{let A;l.type==="single_choice"||l.type==="true_false"?A=l.answers.map((E,M)=>({...E,is_correct:M===p})):A=l.answers.map((E,M)=>({...E,is_correct:M===p?!E.is_correct:E.is_correct})),d("answers",A)},e[15]=l.answers,e[16]=l.type,e[17]=d,e[18]=T):T=e[18];const x=T;let F;e[19]!==l.answers||e[20]!==d?(F=()=>{d("answers",[...l.answers,{local_id:ns(),text:"",is_correct:!1}])},e[19]=l.answers,e[20]=d,e[21]=F):F=e[21];const D=F;let $;e[22]!==o||e[23]!==Q?($=p=>{p.preventDefault(),Q(route("instructor.quizzes.store"),{onSuccess:()=>o(),preserveScroll:!0,onError:Al})},e[22]=o,e[23]=Q,e[24]=$):$=e[24];const P=$;let I;e[25]!==m||e[26]!==z||e[27]!==c||e[28]!==l||e[29]!==_||e[30]!==r||e[31]!==d?(I=p=>{p.preventDefault();const A=l.answers.filter(Ql).length;if(l.answers.length<2||A===0){Ae.error("Question must have at least two answers and one correct answer.");return}const E=!!l.id,M=E?c:z,J=E?"instructor.quizzes.question.update":"instructor.quizzes.question.add",he=E?{question:l.id}:{quiz:r};M(route(J,he),l,{onSuccess:()=>{_("text"),d("answers",Ss),m(),Ae.success(`Question ${E?"updated":"added"} successfully!`)},onError:ql,preserveScroll:!0})},e[25]=m,e[26]=z,e[27]=c,e[28]=l,e[29]=_,e[30]=r,e[31]=d,e[32]=I):I=e[32];const me=I;if(!r){let p;e[33]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(Le,{children:t.jsx(Fe,{className:"text-xl",children:"Quiz Not Initialized"})}),e[33]=p):p=e[33];let A;e[34]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("p",{className:"mb-4 text-muted-foreground",children:"This lesson does not have a Quiz record yet. You must create the Quiz before adding questions."}),e[34]=A):A=e[34];let E;e[35]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(U,{htmlFor:"quiz-title",children:"Quiz Title"}),e[35]=E):E=e[35];let M;e[36]!==f?(M=Te=>f("title",Te.target.value),e[36]=f,e[37]=M):M=e[37];let J;e[38]!==g.title||e[39]!==M?(J=t.jsx(ke,{id:"quiz-title",value:g.title,onChange:M,required:!0}),e[38]=g.title,e[39]=M,e[40]=J):J=e[40];let he;e[41]!==a.title?(he=t.jsx(de,{message:a.title}),e[41]=a.title,e[42]=he):he=e[42];let pe;e[43]!==J||e[44]!==he?(pe=t.jsxs("div",{className:"space-y-2",children:[E,J,he]}),e[43]=J,e[44]=he,e[45]=pe):pe=e[45];let ve;e[46]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(U,{htmlFor:"pass-percentage",children:"Pass Percentage (%)"}),e[46]=ve):ve=e[46];let ye;e[47]!==f?(ye=Te=>f("pass_percentage",parseInt(Te.target.value)),e[47]=f,e[48]=ye):ye=e[48];let _e;e[49]!==g.pass_percentage||e[50]!==ye?(_e=t.jsx(ke,{id:"pass-percentage",type:"number",min:"1",max:"100",value:g.pass_percentage,onChange:ye,required:!0}),e[49]=g.pass_percentage,e[50]=ye,e[51]=_e):_e=e[51];let Ne;e[52]!==a.pass_percentage?(Ne=t.jsx(de,{message:a.pass_percentage}),e[52]=a.pass_percentage,e[53]=Ne):Ne=e[53];let we;e[54]!==_e||e[55]!==Ne?(we=t.jsxs("div",{className:"space-y-2",children:[ve,_e,Ne]}),e[54]=_e,e[55]=Ne,e[56]=we):we=e[56];const Ee=u?"Creating...":"Initialize Quiz";let Se;e[57]!==u||e[58]!==Ee?(Se=t.jsx(L,{type:"submit",disabled:u,children:Ee}),e[57]=u,e[58]=Ee,e[59]=Se):Se=e[59];let Ce;return e[60]!==P||e[61]!==pe||e[62]!==we||e[63]!==Se?(Ce=t.jsxs(ge,{children:[p,t.jsxs(Qe,{children:[A,t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[pe,we,Se]})]})]}),e[60]=P,e[61]=pe,e[62]=we,e[63]=Se,e[64]=Ce):Ce=e[64],Ce}const fe=l.id?"Editing Question":"Add New Question";let Z;e[65]!==fe?(Z=t.jsx(Le,{className:"p-0",children:t.jsx(Fe,{className:"text-lg",children:fe})}),e[65]=fe,e[66]=Z):Z=e[66];let ee;e[67]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(U,{htmlFor:"question-text",children:"Question Text"}),e[67]=ee):ee=e[67];let le;e[68]!==d?(le=p=>d("text",p.target.value),e[68]=d,e[69]=le):le=e[69];let B;e[70]!==l.text||e[71]!==le?(B=t.jsx(Lt,{id:"question-text",value:l.text,onChange:le,required:!0,rows:3}),e[70]=l.text,e[71]=le,e[72]=B):B=e[72];let re;e[73]!==b.text?(re=t.jsx(de,{message:b.text}),e[73]=b.text,e[74]=re):re=e[74];let H;e[75]!==B||e[76]!==re?(H=t.jsxs("div",{className:"space-y-2",children:[ee,B,re]}),e[75]=B,e[76]=re,e[77]=H):H=e[77];let je;e[78]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(U,{htmlFor:"type",children:"Question Type"}),e[78]=je):je=e[78];let xe;e[79]!==d?(xe=p=>d("type",p),e[79]=d,e[80]=xe):xe=e[80];let ie;e[81]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(ps,{id:"type",children:t.jsx(gs,{placeholder:"Select Type"})}),e[81]=ie):ie=e[81];let ae;e[82]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs(bs,{children:[t.jsx(Ie,{value:"single_choice",children:"Single Choice"}),t.jsx(Ie,{value:"multiple_choice",children:"Multiple Choice"}),t.jsx(Ie,{value:"true_false",children:"True/False"})]}),e[82]=ae):ae=e[82];let R;e[83]!==l.type||e[84]!==xe?(R=t.jsxs(hs,{onValueChange:xe,value:l.type,children:[ie,ae]}),e[83]=l.type,e[84]=xe,e[85]=R):R=e[85];let G;e[86]!==b.type?(G=t.jsx(de,{message:b.type}),e[86]=b.type,e[87]=G):G=e[87];let K;e[88]!==R||e[89]!==G?(K=t.jsxs("div",{className:"space-y-2",children:[je,R,G]}),e[88]=R,e[89]=G,e[90]=K):K=e[90];const ne=Array.isArray(l.answers)?l.answers.length:0;let oe;e[91]!==ne?(oe=t.jsxs("h4",{className:"font-semibold border-b pb-2",children:["Answers (",ne,")"]}),e[91]=ne,e[92]=oe):oe=e[92];let V;e[93]!==q||e[94]!==x||e[95]!==l.answers||e[96]!==l.type||e[97]!==d?(V=Array.isArray(l.answers)&&l.answers.map((p,A)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[l.type==="multiple_choice"?t.jsxs("div",{className:"flex h-9 items-center space-x-2",children:[t.jsx(rl,{id:`answer-check-${A}`,checked:p.is_correct,onCheckedChange:()=>x(A)}),t.jsx(U,{htmlFor:`answer-check-${A}`,className:"font-normal cursor-pointer",children:"Correct"})]}):t.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-md border text-sm font-medium transition-colors cursor-pointer
                        ${p.is_correct?"bg-green-500 text-white hover:bg-green-600":"bg-background hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,onClick:()=>x(A),title:p.is_correct?"Correct Answer":"Mark as Correct",children:p.is_correct?t.jsx(il,{className:"w-4 h-4"}):t.jsx(al,{className:"w-4 h-4"})}),t.jsx(ke,{placeholder:`Answer Option ${A+1}`,value:p.text,onChange:E=>q(A,E.target.value),required:!0}),t.jsx(L,{type:"button",variant:"destructive",size:"icon",disabled:l.answers.length<=2,onClick:()=>d("answers",l.answers.filter((E,M)=>M!==A)),children:t.jsx(Mt,{className:"w-4 h-4"})})]},p.local_id)),e[93]=q,e[94]=x,e[95]=l.answers,e[96]=l.type,e[97]=d,e[98]=V):V=e[98];let Y;e[99]!==V?(Y=t.jsx("div",{className:"space-y-3",children:V}),e[99]=V,e[100]=Y):Y=e[100];let ce;e[101]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(It,{className:"w-4 h-4 mr-2"}),e[101]=ce):ce=e[101];let O;e[102]!==D?(O=t.jsxs(L,{type:"button",variant:"secondary",onClick:D,children:[ce," Add Answer Option"]}),e[102]=D,e[103]=O):O=e[103];const W=k?"Saving...":"Save Question";let X;e[104]!==k||e[105]!==W?(X=t.jsx(L,{type:"submit",disabled:k,className:"w-full",children:W}),e[104]=k,e[105]=W,e[106]=X):X=e[106];let te;return e[107]!==me||e[108]!==Z||e[109]!==H||e[110]!==K||e[111]!==oe||e[112]!==Y||e[113]!==O||e[114]!==X?(te=t.jsx(ge,{children:t.jsx(Qe,{children:t.jsxs("form",{onSubmit:me,className:"space-y-6",children:[Z,H,K,oe,Y,O,X]})})}),e[107]=me,e[108]=Z,e[109]=H,e[110]=K,e[111]=oe,e[112]=Y,e[113]=O,e[114]=X,e[115]=te):te=e[115],te}function ql(i){console.error("Submission Error:",i)}function Ql(i){return i.is_correct&&i.text.trim()!==""}function Al(i){return console.error("Quiz Creation Error:",i)}function El(i){const e=ze.c(35),{lessonId:s,quizId:r,lessonTitle:n,onQuizCreated:o,onQuestionSaved:m,existingQuestions:h}=i,[v,w]=se.useState("manage"),[y,g]=se.useState(h),[f,Q]=se.useState(null),u=f?"Edit Question":"Add New Question";let a,l;e[0]!==h?(a=()=>{g(h)},l=[h],e[0]=h,e[1]=a,e[2]=l):(a=e[1],l=e[2]),se.useEffect(a,l);let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=I=>{Q(I),w("add")},e[3]=d):d=e[3];const z=d;let c;e[4]!==m?(c=()=>{Q(null),w("manage"),m()},e[4]=m,e[5]=c):c=e[5];const k=c;let b;e[6]!==m?(b=I=>{confirm("Are you sure you want to delete this question?")&&Me.delete(route("instructor.quizzes.question.destroy",I),{onSuccess:()=>{Ae.success("Question deleted successfully!"),m()},preserveScroll:!0})},e[6]=m,e[7]=b):b=e[7];const _=b;let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs(Et,{value:"manage",className:"flex items-center",children:[t.jsx(js,{className:"w-4 h-4 mr-2"})," View/Manage Questions"]}),e[8]=S):S=e[8];let C;e[9]!==f?(C=f?t.jsx(Ns,{className:"w-4 h-4 mr-2"}):t.jsx(It,{className:"w-4 h-4 mr-2"}),e[9]=f,e[10]=C):C=e[10];let j;e[11]!==C||e[12]!==u?(j=t.jsxs($s,{className:"grid w-full grid-cols-2",children:[S,t.jsxs(Et,{value:"add",className:"flex items-center",children:[C,u]})]}),e[11]=C,e[12]=u,e[13]=j):j=e[13];let q;e[14]!==_||e[15]!==y?(q=y.length===0?t.jsx("p",{className:"text-muted-foreground",children:"No questions found for this quiz."}):y.map(I=>t.jsxs("div",{className:"border p-4 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("p",{className:"font-semibold",children:I.text}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(L,{size:"icon",variant:"outline",title:"Edit",onClick:()=>z(I),children:[" ",t.jsx(Ns,{className:"w-4 h-4"})]}),t.jsx(L,{size:"icon",variant:"destructive",onClick:()=>_(I.id),children:t.jsx(Mt,{className:"w-4 h-4"})})]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Answers: ",I.answers.length]})]},I.id)),e[14]=_,e[15]=y,e[16]=q):q=e[16];let T;e[17]===Symbol.for("react.memo_cache_sentinel")?(T=()=>w("add"),e[17]=T):T=e[17];const x=!r;let F;e[18]!==x?(F=t.jsx(L,{onClick:T,disabled:x,className:"w-full",children:"Add First Question"}),e[18]=x,e[19]=F):F=e[19];let D;e[20]!==F||e[21]!==q?(D=t.jsx(Ft,{value:"manage",className:"mt-4 max-h-[60vh] overflow-y-auto",children:t.jsx(ge,{children:t.jsxs(Qe,{className:"space-y-4 pt-4",children:[q,F]})})}),e[20]=F,e[21]=q,e[22]=D):D=e[22];let $;e[23]!==f||e[24]!==k||e[25]!==s||e[26]!==n||e[27]!==o||e[28]!==r?($=t.jsx(Ft,{value:"add",className:"mt-4 max-h-[60vh] overflow-y-auto",children:r?t.jsx(Tl,{lessonId:s,quizId:r,lessonTitle:n,initialQuestion:f,onQuizCreated:o,onQuestionSaved:k}):t.jsxs(ge,{className:"p-4",children:[t.jsx(Fe,{className:"text-lg",children:"Initialize Quiz First"}),t.jsx("p",{className:"text-muted-foreground mt-2",children:"You must initialize the Quiz from the main Curriculum tab before you can add questions here."})]})}),e[23]=f,e[24]=k,e[25]=s,e[26]=n,e[27]=o,e[28]=r,e[29]=$):$=e[29];let P;return e[30]!==v||e[31]!==D||e[32]!==$||e[33]!==j?(P=t.jsxs(Ms,{value:v,onValueChange:w,className:"w-full",children:[j,D,$]}),e[30]=v,e[31]=D,e[32]=$,e[33]=j,e[34]=P):P=e[34],P}const Fl=i=>{const e=ze.c(21),{lessons:s,courseId:r,onUpdate:n,onContentEdit:o}=i,[m,h]=se.useState(!1),[v,w]=se.useState(null),y=Ol;let g;e[0]!==n?(g=()=>{h(!1),w(null),n(),Ae.success("Lesson details saved.")},e[0]=n,e[1]=g):g=e[1];const f=g;let Q;e[2]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Course Curriculum"}),t.jsx("p",{className:"text-muted-foreground font-medium text-sm",children:"Manage lessons, modules, and learning assessments."})]}),e[2]=Q):Q=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>h(!0),e[3]=u):u=e[3];const a=m||!!v;let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx(It,{className:"h-4 w-4 mr-2"}),e[4]=l):l=e[4];let d;e[5]!==a?(d=t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[Q,t.jsxs(L,{onClick:u,disabled:a,className:"rounded-full px-6 font-bold shadow-lg shadow-primary/10",children:[l," New Lesson"]})]}),e[5]=a,e[6]=d):d=e[6];let z;e[7]!==r||e[8]!==v||e[9]!==f||e[10]!==m?(z=(m||v)&&t.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-500",children:t.jsx(Nl,{courseId:r,lesson:v,onSave:f,onCancel:()=>{h(!1),w(null)}})}),e[7]=r,e[8]=v,e[9]=f,e[10]=m,e[11]=z):z=e[11];let c;e[12]!==s||e[13]!==o?(c=s.length>0?s.sort(Ul).map(_=>t.jsx(ge,{className:"group border shadow-sm hover:shadow-md transition-all overflow-hidden bg-card/50",children:t.jsx(Qe,{className:"p-0",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center p-4 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-muted font-black text-muted-foreground text-sm border",children:_.order}),t.jsx("div",{className:$e("flex h-10 w-10 items-center justify-center rounded-xl border relative",_.type==="quiz"?"bg-rose-50 text-rose-600 border-rose-100":_.type==="video"?"bg-blue-50 text-blue-600 border-blue-100":"bg-emerald-50 text-emerald-600 border-emerald-100"),children:_.type==="quiz"?t.jsx(De,{className:"h-5 w-5"}):_.type==="video"?t.jsx(as,{className:"h-5 w-5"}):t.jsx(dl,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left",children:[t.jsx("h4",{className:"font-bold text-lg truncate leading-snug",children:_.title}),t.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3 mt-1",children:[t.jsx($t,{variant:"outline",className:"capitalize text-[10px] h-5 px-1.5 font-bold tracking-widest bg-background",children:_.type}),_.is_free_preview&&t.jsx($t,{className:"bg-green-500 hover:bg-green-600 text-white border-none text-[10px] h-5 px-1.5 font-bold uppercase tracking-widest",children:"Free Preview"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 pt-2 sm:pt-0",children:[t.jsx(L,{variant:"secondary",size:"sm",className:"font-bold h-9 px-4 rounded-lg bg-background border shadow-sm",onClick:()=>o(_),children:"Edit Content"}),t.jsx(L,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg hover:bg-primary/10 hover:text-primary",onClick:()=>w(_),children:t.jsx(ks,{className:"w-4 h-4"})}),t.jsx(L,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg hover:bg-destructive/10 hover:text-destructive",onClick:()=>y(_.id),children:t.jsx(Mt,{className:"w-4 h-4"})})]})]})})},_.id)):t.jsxs("div",{className:"py-12 border-2 border-dashed rounded-3xl text-center space-y-3 bg-muted/20",children:[t.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:t.jsx(js,{className:"h-6 w-6 text-muted-foreground/40"})}),t.jsx("p",{className:"text-muted-foreground font-bold italic",children:"No lessons in this curriculum yet."}),t.jsx(L,{variant:"ghost",className:"text-primary font-black",onClick:()=>h(!0),children:"Create the first lesson"})]}),e[12]=s,e[13]=o,e[14]=c):c=e[14];let k;e[15]!==c?(k=t.jsx("div",{className:"grid gap-3",children:c}),e[15]=c,e[16]=k):k=e[16];let b;return e[17]!==d||e[18]!==z||e[19]!==k?(b=t.jsxs("div",{className:"space-y-6",children:[d,z,k]}),e[17]=d,e[18]=z,e[19]=k,e[20]=b):b=e[20],b};function Sr(i){const e=ze.c(238),{course:s,categories:r}=i,n=s.title||"",o=s.title_ar||"",m=s.description||"",h=s.description_ar||"";let v;e[0]!==s.category_id?(v=s.category_id?s.category_id.toString():"",e[0]=s.category_id,e[1]=v):v=e[1];const w=s.price||0;let y;e[2]!==s.learning_outcomes?(y=s.learning_outcomes?.length>0?s.learning_outcomes:[""],e[2]=s.learning_outcomes,e[3]=y):y=e[3];const g=y;let f;e[4]!==s.learning_outcomes_ar?(f=s.learning_outcomes_ar?.length>0?s.learning_outcomes_ar:[""],e[4]=s.learning_outcomes_ar,e[5]=f):f=e[5];const Q=f;let u;e[6]!==n||e[7]!==Q||e[8]!==o||e[9]!==m||e[10]!==h||e[11]!==v||e[12]!==w||e[13]!==g?(u={title:n,title_ar:o,description:m,description_ar:h,category_id:v,price:w,learning_outcomes:g,learning_outcomes_ar:Q},e[6]=n,e[7]=Q,e[8]=o,e[9]=m,e[10]=h,e[11]=v,e[12]=w,e[13]=g,e[14]=u):u=e[14];const{data:a,setData:l,patch:d,processing:z,errors:c}=Dt(u);let k;e[15]!==a||e[16]!==l?(k=N=>{const be=N==="en"?"learning_outcomes":"learning_outcomes_ar";l(be,[...a[be],""])},e[15]=a,e[16]=l,e[17]=k):k=e[17];const b=k;let _;e[18]!==a||e[19]!==l?(_=(N,be)=>{const ue=N==="en"?"learning_outcomes":"learning_outcomes_ar",qe=[...a[ue]];qe.splice(be,1),l(ue,qe)},e[18]=a,e[19]=l,e[20]=_):_=e[20];const S=_;let C;e[21]!==a||e[22]!==l?(C=(N,be,ue)=>{const qe=N==="en"?"learning_outcomes":"learning_outcomes_ar",ys=[...a[qe]];ys[be]=ue,l(qe,ys)},e[21]=a,e[22]=l,e[23]=C):C=e[23];const j=C,[q,T]=se.useState(!1),[x,F]=se.useState(null),[D,$]=se.useState("details");let P;e[24]!==s.id||e[25]!==d?(P=N=>{N.preventDefault(),d(xs("instructor.courses.update",s.id),{onSuccess:Rl,preserveScroll:!0})},e[24]=s.id,e[25]=d,e[26]=P):P=e[26];const I=P,me=Pl;let fe;e[27]===Symbol.for("react.memo_cache_sentinel")?(fe=N=>{F(N),T(!0)},e[27]=fe):fe=e[27];const Z=fe;let ee;e[28]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>{T(!1),Me.reload({only:["course"]}),Ae.success("Resource attached successfully.")},e[28]=ee):ee=e[28];const le=ee;let B;e[29]!==s.lessons||e[30]!==x?(B=()=>{T(!1),Me.reload({only:["course"]},{onSuccess:()=>{const N=s.lessons.find(be=>be.id===x.id);N&&N.quiz?.id?(F(N),T(!0),Ae.success("Quiz created! Let's add some questions.")):me()}})},e[29]=s.lessons,e[30]=x,e[31]=B):B=e[31];const re=B;let H;e[32]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{T(!1),Me.reload({only:["course"]})},e[32]=H):H=e[32];const je=H,xe=$l,ie=`Edit: ${s.title}`,ae=`Edit: ${s.title}`;let R;e[33]!==ae?(R=t.jsx(Rs,{title:ae}),e[33]=ae,e[34]=R):R=e[34];let G;e[35]===Symbol.for("react.memo_cache_sentinel")?(G=xs("instructor.courses.index"),e[35]=G):G=e[35];let K;e[36]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs(Vs,{href:G,className:"flex items-center text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[t.jsx(nl,{className:"mr-2 h-4 w-4"})," Back to Catalog"]}),e[36]=K):K=e[36];let ne;e[37]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx($t,{variant:"secondary",className:"px-3 py-1 font-bold text-xs bg-primary/10 text-primary border-primary/20",children:"COURSE BUILDER"}),e[37]=ne):ne=e[37];const oe=s.is_published?"text-green-600 bg-green-50 border-green-200":"text-yellow-600 bg-yellow-50 border-yellow-200";let V;e[38]!==oe?(V=$e("px-3 py-1 font-bold text-xs",oe),e[38]=oe,e[39]=V):V=e[39];const Y=s.is_published?"LIVE":"DRAFT";let ce;e[40]!==V||e[41]!==Y?(ce=t.jsxs("div",{className:"flex items-center gap-3",children:[ne,t.jsx($t,{variant:"outline",className:V,children:Y})]}),e[40]=V,e[41]=Y,e[42]=ce):ce=e[42];let O;e[43]!==s.title?(O=t.jsx("h1",{className:"text-4xl font-extrabold tracking-tight md:text-5xl leading-tight text-foreground truncate",children:s.title}),e[43]=s.title,e[44]=O):O=e[44];let W;e[45]!==s.id?(W=t.jsxs("span",{className:"text-foreground tracking-widest",children:["#",s.id]}),e[45]=s.id,e[46]=W):W=e[46];const X=s.category?.name;let te;e[47]!==W||e[48]!==X?(te=t.jsxs("p",{className:"text-muted-foreground text-lg font-medium max-w-xl line-clamp-1",children:["Course ID: ",W," • ",X]}),e[47]=W,e[48]=X,e[49]=te):te=e[49];let p;e[50]!==ce||e[51]!==O||e[52]!==te?(p=t.jsxs("div",{className:"space-y-4 max-w-2xl",children:[ce,O,te]}),e[50]=ce,e[51]=O,e[52]=te,e[53]=p):p=e[53];let A;e[54]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs(ge,{className:"p-4 border-none shadow-sm bg-background flex flex-col items-center justify-center text-center",children:[t.jsx(ol,{className:"h-5 w-5 mb-1 text-primary"}),t.jsx("span",{className:"text-lg font-black leading-none",children:"1.2k"}),t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Students"})]}),e[54]=A):A=e[54];let E;e[55]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsxs(ge,{className:"p-4 border-none shadow-sm bg-background flex flex-col items-center justify-center text-center",children:[t.jsx(cl,{className:"h-5 w-5 mb-1 text-green-600"}),t.jsx("span",{className:"text-lg font-black leading-none",children:"OMR 4.5k"}),t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Revenue"})]}),e[55]=E):E=e[55];let M;e[56]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(Os,{className:"h-5 w-5 mb-1 text-blue-600"}),e[56]=M):M=e[56];let J;e[57]!==s.lessons.length?(J=t.jsx("span",{className:"text-lg font-black leading-none",children:s.lessons.length}),e[57]=s.lessons.length,e[58]=J):J=e[58];let he;e[59]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Lessons"}),e[59]=he):he=e[59];let pe;e[60]!==J?(pe=t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[A,E,t.jsxs(ge,{className:"hidden sm:flex p-4 border-none shadow-sm bg-background flex-col items-center justify-center text-center",children:[M,J,he]})]}),e[60]=J,e[61]=pe):pe=e[61];let ve;e[62]!==p||e[63]!==pe?(ve=t.jsx("div",{className:"border-b bg-muted/30 py-8 lg:py-12",children:t.jsxs("div",{className:"container mx-auto px-4",children:[K,t.jsxs("div",{className:"mt-8 flex flex-col lg:flex-row lg:items-end justify-between gap-10",children:[p,pe]})]})}),e[62]=p,e[63]=pe,e[64]=ve):ve=e[64];let ye;e[65]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsxs(Et,{value:"details",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(ks,{className:"w-4 h-4"})," General Details"]}),e[65]=ye):ye=e[65];let _e;e[66]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(Et,{value:"curriculum",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(js,{className:"w-4 h-4"})," Curriculum Builder"]}),e[66]=_e):_e=e[66];let Ne;e[67]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsxs(Et,{value:"media",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(as,{className:"w-4 h-4"})," Content Status"]}),e[67]=Ne):Ne=e[67];let we;e[68]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx("div",{className:"bg-muted/30 p-1.5 rounded-2xl inline-flex mb-8 border backdrop-blur-sm",children:t.jsxs($s,{className:"bg-transparent h-auto gap-1",children:[ye,_e,Ne,t.jsxs(Et,{value:"quizzes",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(De,{className:"w-4 h-4"})," Assessments"]})]})}),e[68]=we):we=e[68];let Ee;e[69]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(Us,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Fe,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Basic Settings"}),t.jsx(is,{children:"Fundamental details about the course."})]})]})}),e[69]=Ee):Ee=e[69];let Se;e[70]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(U,{htmlFor:"title",className:"text-base font-bold tracking-tight",children:"Title"}),e[70]=Se):Se=e[70];let Ce;e[71]!==l?(Ce=N=>l("title",N.target.value),e[71]=l,e[72]=Ce):Ce=e[72];let Te;e[73]!==a.title||e[74]!==Ce?(Te=t.jsx(ke,{id:"title",className:"h-14 text-lg font-bold border-muted-foreground/20 rounded-xl px-5 bg-muted/10 shadow-inner",value:a.title,onChange:Ce,required:!0}),e[73]=a.title,e[74]=Ce,e[75]=Te):Te=e[75];let Pe;e[76]!==c.title?(Pe=t.jsx(de,{message:c.title}),e[76]=c.title,e[77]=Pe):Pe=e[77];let Re;e[78]!==Te||e[79]!==Pe?(Re=t.jsxs("div",{className:"space-y-3",children:[Se,Te,Pe]}),e[78]=Te,e[79]=Pe,e[80]=Re):Re=e[80];let Pt;e[81]===Symbol.for("react.memo_cache_sentinel")?(Pt=t.jsx(U,{htmlFor:"title_ar",className:"text-base font-bold tracking-tight text-right block",children:"Title (Arabic)"}),e[81]=Pt):Pt=e[81];let Ve;e[82]!==l?(Ve=N=>l("title_ar",N.target.value),e[82]=l,e[83]=Ve):Ve=e[83];let Oe;e[84]!==a.title_ar||e[85]!==Ve?(Oe=t.jsxs("div",{className:"space-y-3",children:[Pt,t.jsx(ke,{id:"title_ar",dir:"rtl",className:"h-14 text-lg font-bold border-muted-foreground/20 rounded-xl px-5 bg-muted/10 shadow-inner",value:a.title_ar,onChange:Ve})]}),e[84]=a.title_ar,e[85]=Ve,e[86]=Oe):Oe=e[86];let Rt;e[87]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx(U,{htmlFor:"description",className:"text-base font-bold tracking-tight",children:"Description"}),e[87]=Rt):Rt=e[87];let Ue;e[88]!==l?(Ue=N=>l("description",N.target.value),e[88]=l,e[89]=Ue):Ue=e[89];let Be;e[90]!==a.description||e[91]!==Ue?(Be=t.jsx(Lt,{id:"description",className:"min-h-[160px] text-lg font-medium border-muted-foreground/20 rounded-xl p-5 bg-muted/10 shadow-inner resize-none leading-relaxed",value:a.description,onChange:Ue,required:!0}),e[90]=a.description,e[91]=Ue,e[92]=Be):Be=e[92];let He;e[93]!==c.description?(He=t.jsx(de,{message:c.description}),e[93]=c.description,e[94]=He):He=e[94];let Ge;e[95]!==Be||e[96]!==He?(Ge=t.jsxs("div",{className:"space-y-3",children:[Rt,Be,He]}),e[95]=Be,e[96]=He,e[97]=Ge):Ge=e[97];let Vt;e[98]===Symbol.for("react.memo_cache_sentinel")?(Vt=t.jsx(U,{htmlFor:"description_ar",className:"text-base font-bold tracking-tight text-right block",children:"Description (Arabic)"}),e[98]=Vt):Vt=e[98];let Ke;e[99]!==l?(Ke=N=>l("description_ar",N.target.value),e[99]=l,e[100]=Ke):Ke=e[100];let Ye;e[101]!==a.description_ar||e[102]!==Ke?(Ye=t.jsxs("div",{className:"space-y-3",children:[Vt,t.jsx(Lt,{id:"description_ar",dir:"rtl",className:"min-h-[160px] text-lg font-medium border-muted-foreground/20 rounded-xl p-5 bg-muted/10 shadow-inner resize-none leading-relaxed",value:a.description_ar,onChange:Ke})]}),e[101]=a.description_ar,e[102]=Ke,e[103]=Ye):Ye=e[103];let Ot;e[104]===Symbol.for("react.memo_cache_sentinel")?(Ot=t.jsx(ws,{className:"my-8 border-dashed"}),e[104]=Ot):Ot=e[104];let Ut;e[105]===Symbol.for("react.memo_cache_sentinel")?(Ut=t.jsx(U,{className:"text-base font-bold tracking-tight",children:"What will students learn?"}),e[105]=Ut):Ut=e[105];let We;e[106]!==b?(We=()=>b("en"),e[106]=b,e[107]=We):We=e[107];let Bt;e[108]===Symbol.for("react.memo_cache_sentinel")?(Bt=t.jsx(It,{className:"w-4 h-4 mr-1"}),e[108]=Bt):Bt=e[108];let Xe;e[109]!==We?(Xe=t.jsxs("div",{className:"flex items-center justify-between",children:[Ut,t.jsxs(L,{type:"button",variant:"ghost",size:"sm",className:"text-primary font-bold",onClick:We,children:[Bt," Add Outcome"]})]}),e[109]=We,e[110]=Xe):Xe=e[110];let Je;if(e[111]!==a.learning_outcomes||e[112]!==j||e[113]!==S){let N;e[115]!==a.learning_outcomes.length||e[116]!==j||e[117]!==S?(N=(be,ue)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ke,{placeholder:`Outcome #${ue+1}`,className:"h-12 border-muted-foreground/20 rounded-xl bg-muted/5 shadow-inner",value:be,onChange:qe=>j("en",ue,qe.target.value)}),a.learning_outcomes.length>1&&t.jsx(L,{type:"button",variant:"ghost",size:"icon",className:"h-12 w-12 rounded-xl text-muted-foreground hover:text-destructive",onClick:()=>S("en",ue),children:t.jsx(Mt,{className:"w-5 h-5"})})]},ue),e[115]=a.learning_outcomes.length,e[116]=j,e[117]=S,e[118]=N):N=e[118],Je=a.learning_outcomes.map(N),e[111]=a.learning_outcomes,e[112]=j,e[113]=S,e[114]=Je}else Je=e[114];let Ze;e[119]!==Je?(Ze=t.jsx("div",{className:"space-y-3",children:Je}),e[119]=Je,e[120]=Ze):Ze=e[120];let et;e[121]!==c.learning_outcomes?(et=t.jsx(de,{message:c.learning_outcomes}),e[121]=c.learning_outcomes,e[122]=et):et=e[122];let tt;e[123]!==Xe||e[124]!==Ze||e[125]!==et?(tt=t.jsxs("div",{className:"space-y-4",children:[Xe,Ze,et]}),e[123]=Xe,e[124]=Ze,e[125]=et,e[126]=tt):tt=e[126];let Ht;e[127]===Symbol.for("react.memo_cache_sentinel")?(Ht=t.jsx(U,{className:"text-base font-bold tracking-tight text-right block w-full",children:"ماذا سيتعلم الطلاب؟ (بالعربية)"}),e[127]=Ht):Ht=e[127];let st;e[128]!==b?(st=()=>b("ar"),e[128]=b,e[129]=st):st=e[129];let Gt;e[130]===Symbol.for("react.memo_cache_sentinel")?(Gt=t.jsx(It,{className:"w-4 h-4 mr-1"}),e[130]=Gt):Gt=e[130];let lt;e[131]!==st?(lt=t.jsxs("div",{className:"flex items-center justify-between",children:[Ht,t.jsxs(L,{type:"button",variant:"ghost",size:"sm",className:"text-primary font-bold",onClick:st,children:[Gt," إضافة مخرجات"]})]}),e[131]=st,e[132]=lt):lt=e[132];let rt;if(e[133]!==a.learning_outcomes_ar||e[134]!==j||e[135]!==S){let N;e[137]!==a.learning_outcomes_ar.length||e[138]!==j||e[139]!==S?(N=(be,ue)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ke,{dir:"rtl",placeholder:`المخرج #${ue+1}`,className:"h-12 border-muted-foreground/20 rounded-xl bg-muted/5 shadow-inner",value:be,onChange:qe=>j("ar",ue,qe.target.value)}),a.learning_outcomes_ar.length>1&&t.jsx(L,{type:"button",variant:"ghost",size:"icon",className:"h-12 w-12 rounded-xl text-muted-foreground hover:text-destructive",onClick:()=>S("ar",ue),children:t.jsx(Mt,{className:"w-5 h-5"})})]},ue),e[137]=a.learning_outcomes_ar.length,e[138]=j,e[139]=S,e[140]=N):N=e[140],rt=a.learning_outcomes_ar.map(N),e[133]=a.learning_outcomes_ar,e[134]=j,e[135]=S,e[136]=rt}else rt=e[136];let it;e[141]!==rt?(it=t.jsx("div",{className:"space-y-3",children:rt}),e[141]=rt,e[142]=it):it=e[142];let at;e[143]!==lt||e[144]!==it?(at=t.jsxs("div",{className:"space-y-4",children:[lt,it]}),e[143]=lt,e[144]=it,e[145]=at):at=e[145];let Kt;e[146]===Symbol.for("react.memo_cache_sentinel")?(Kt=t.jsx(U,{htmlFor:"category_id",className:"text-base font-bold tracking-tight",children:"Category"}),e[146]=Kt):Kt=e[146];let nt;e[147]!==l?(nt=N=>l("category_id",N),e[147]=l,e[148]=nt):nt=e[148];const Ps=a.category_id;let Yt;e[149]===Symbol.for("react.memo_cache_sentinel")?(Yt=t.jsx(ps,{id:"category_id",className:"h-14 rounded-xl border-muted-foreground/20 text-lg font-medium px-5 bg-muted/10",children:t.jsx(gs,{placeholder:"Select a Category"})}),e[149]=Yt):Yt=e[149];let ot;e[150]!==r?(ot=r.map(Ml),e[150]=r,e[151]=ot):ot=e[151];let ct;e[152]!==ot?(ct=t.jsx(bs,{className:"rounded-xl",children:ot}),e[152]=ot,e[153]=ct):ct=e[153];let dt;e[154]!==a.category_id||e[155]!==nt||e[156]!==ct?(dt=t.jsxs(hs,{onValueChange:nt,value:Ps,children:[Yt,ct]}),e[154]=a.category_id,e[155]=nt,e[156]=ct,e[157]=dt):dt=e[157];let mt;e[158]!==c.category_id?(mt=t.jsx(de,{message:c.category_id}),e[158]=c.category_id,e[159]=mt):mt=e[159];let ut;e[160]!==dt||e[161]!==mt?(ut=t.jsxs("div",{className:"space-y-3",children:[Kt,dt,mt]}),e[160]=dt,e[161]=mt,e[162]=ut):ut=e[162];let Wt;e[163]===Symbol.for("react.memo_cache_sentinel")?(Wt=t.jsx(U,{htmlFor:"price",className:"text-base font-bold tracking-tight",children:"Price (OMR)"}),e[163]=Wt):Wt=e[163];let Xt;e[164]===Symbol.for("react.memo_cache_sentinel")?(Xt=t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl font-black text-muted-foreground",children:"OMR"}),e[164]=Xt):Xt=e[164];let ft;e[165]!==l?(ft=N=>l("price",parseFloat(N.target.value)),e[165]=l,e[166]=ft):ft=e[166];let xt;e[167]!==a.price||e[168]!==ft?(xt=t.jsxs("div",{className:"relative",children:[Xt,t.jsx(ke,{id:"price",type:"number",step:"0.01",min:"0",className:"h-14 rounded-xl border-muted-foreground/20 text-xl font-black pl-16 pr-5 bg-muted/10 shadow-inner",value:a.price,onChange:ft,required:!0})]}),e[167]=a.price,e[168]=ft,e[169]=xt):xt=e[169];let ht;e[170]!==c.price?(ht=t.jsx(de,{message:c.price}),e[170]=c.price,e[171]=ht):ht=e[171];let pt;e[172]!==xt||e[173]!==ht?(pt=t.jsxs("div",{className:"space-y-3",children:[Wt,xt,ht]}),e[172]=xt,e[173]=ht,e[174]=pt):pt=e[174];let gt;e[175]!==ut||e[176]!==pt?(gt=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[ut,pt]}),e[175]=ut,e[176]=pt,e[177]=gt):gt=e[177];let Jt;e[178]===Symbol.for("react.memo_cache_sentinel")?(Jt=t.jsx(ws,{className:"my-8 border-dashed"}),e[178]=Jt):Jt=e[178];let bt;e[179]!==z?(bt=z?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(xl,{className:"mr-2 h-5 w-5"})," Save Changes"]}),e[179]=z,e[180]=bt):bt=e[180];let jt;e[181]!==z||e[182]!==bt?(jt=t.jsx(L,{type:"submit",size:"lg",disabled:z,className:"h-14 rounded-full px-10 font-black tracking-tight text-lg shadow-xl shadow-primary/20 transition-all hover:scale-105 active:scale-95",children:bt}),e[181]=z,e[182]=bt,e[183]=jt):jt=e[183];let vt;e[184]!==I||e[185]!==Re||e[186]!==Oe||e[187]!==Ge||e[188]!==Ye||e[189]!==tt||e[190]!==at||e[191]!==gt||e[192]!==jt?(vt=t.jsx(Ft,{value:"details",className:"mt-0 animate-in fade-in slide-in-from-left-4 duration-500",children:t.jsxs(ge,{className:"border-none shadow-xl",children:[Ee,t.jsx(Qe,{className:"p-8",children:t.jsxs("form",{onSubmit:I,className:"space-y-8 max-w-4xl",children:[Re,Oe,Ge,Ye,Ot,tt,at,gt,Jt,jt]})})]})}),e[184]=I,e[185]=Re,e[186]=Oe,e[187]=Ge,e[188]=Ye,e[189]=tt,e[190]=at,e[191]=gt,e[192]=jt,e[193]=vt):vt=e[193];let Zt;e[194]===Symbol.for("react.memo_cache_sentinel")?(Zt=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(_s,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Fe,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Structure Editor"}),t.jsx(is,{children:"Drag, drop, and refine your learning path."})]})]})}),e[194]=Zt):Zt=e[194];let yt;e[195]!==s.id||e[196]!==s.lessons?(yt=t.jsx(Ft,{value:"curriculum",className:"mt-0 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs(ge,{className:"border-none shadow-xl overflow-hidden",children:[Zt,t.jsx(Qe,{className:"p-8",children:t.jsx(Fl,{lessons:s.lessons,courseId:s.id,onUpdate:me,onContentEdit:Z})})]})}),e[195]=s.id,e[196]=s.lessons,e[197]=yt):yt=e[197];let es;e[198]===Symbol.for("react.memo_cache_sentinel")?(es=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(as,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Fe,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Content Audit"}),t.jsx(is,{children:"Verification of all attached learning resources."})]})]})}),e[198]=es):es=e[198];let ts;e[199]===Symbol.for("react.memo_cache_sentinel")?(ts=t.jsxs("p",{className:"text-muted-foreground mb-10 font-medium bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800 text-sm",children:[t.jsx(De,{className:"inline h-4 w-4 mr-2 mb-0.5 text-blue-600"}),"All media management is integrated directly within the **Curriculum Builder** tab for a seamless experience."]}),e[199]=ts):ts=e[199];let _t;e[200]!==s.lessons?(_t=s.lessons.map(Ll),e[200]=s.lessons,e[201]=_t):_t=e[201];let Nt;e[202]!==_t?(Nt=t.jsx(Ft,{value:"media",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsxs(ge,{className:"border-none shadow-xl",children:[es,t.jsxs(Qe,{className:"p-8",children:[ts,t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_t})]})]})}),e[202]=_t,e[203]=Nt):Nt=e[203];let ss;e[204]===Symbol.for("react.memo_cache_sentinel")?(ss=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(De,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Fe,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Knowledge Checks"}),t.jsx(is,{children:"Review and refine course assessments."})]})]})}),e[204]=ss):ss=e[204];let wt;e[205]!==s.lessons?(wt=t.jsx(Ft,{value:"quizzes",className:"mt-0 animate-in fade-in zoom-in-95 duration-500",children:t.jsxs(ge,{className:"border-none shadow-xl",children:[ss,t.jsx(Qe,{className:"p-8",children:s.lessons.filter(Dl).length>0?t.jsx("div",{className:"space-y-4 max-w-2xl",children:s.lessons.filter(Il).map(N=>t.jsxs("div",{className:"flex justify-between items-center p-5 border rounded-2xl bg-card hover:border-primary/40 transition-all shadow-sm group",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-10 w-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center border border-rose-100",children:t.jsx(De,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-lg block",children:N.title}),t.jsxs("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-widest",children:[N.quiz?.questions?.length||0," Questions"]})]})]}),t.jsx(L,{size:"sm",className:"rounded-full px-6 font-bold",onClick:()=>Z(N),children:"Edit Questions"})]},N.id))}):t.jsxs("div",{className:"text-center py-20 border-2 border-dashed rounded-3xl bg-muted/10 opacity-60",children:[t.jsx(De,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-4"}),t.jsx("p",{className:"text-muted-foreground font-bold italic text-lg mb-6",children:"No assessment units detected."}),t.jsxs(L,{variant:"outline",className:"rounded-full h-12 px-8 font-black tracking-tight",onClick:()=>$("curriculum"),children:[t.jsx(It,{className:"mr-2 h-4 w-4"})," Add Quiz to Curriculum"]})]})})]})}),e[205]=s.lessons,e[206]=wt):wt=e[206];let St;e[207]!==D||e[208]!==yt||e[209]!==Nt||e[210]!==wt||e[211]!==vt?(St=t.jsx("div",{className:"container mx-auto px-4 py-10",children:t.jsxs(Ms,{value:D,onValueChange:$,className:"w-full",children:[we,vt,yt,Nt,wt]})}),e[207]=D,e[208]=yt,e[209]=Nt,e[210]=wt,e[211]=vt,e[212]=St):St=e[212];let Ct;e[213]!==St||e[214]!==ve?(Ct=t.jsxs("div",{className:"bg-background min-h-screen pb-20",children:[ve,St]}),e[213]=St,e[214]=ve,e[215]=Ct):Ct=e[215];let ls;e[216]===Symbol.for("react.memo_cache_sentinel")?(ls=t.jsx(_s,{className:"h-6 w-6"}),e[216]=ls):ls=e[216];const ms=x?.title;let kt;e[217]!==ms?(kt=t.jsxs(Zs,{className:"text-2xl font-black tracking-tight flex items-center gap-3 uppercase",children:[ls," Editing Resource: ",ms]}),e[217]=ms,e[218]=kt):kt=e[218];const us=x?.order;let zt;e[219]!==us?(zt=t.jsxs("p",{className:"text-primary-foreground/70 font-medium italic mt-1",children:["Refining content for Lesson ",us]}),e[219]=us,e[220]=zt):zt=e[220];let Tt;e[221]!==kt||e[222]!==zt?(Tt=t.jsxs(el,{className:"p-8 bg-primary text-primary-foreground",children:[kt,zt]}),e[221]=kt,e[222]=zt,e[223]=Tt):Tt=e[223];let qt;e[224]!==re||e[225]!==x?(qt=t.jsx("div",{className:"p-8 bg-card",children:x&&x.type==="text"?t.jsx(Cl,{lessonId:x.id,initialContent:x.description||"",initialTitle:x.title||"Untitled Lesson",initialOrder:x.order||0,initialIsFreePreview:x.is_free_preview||!1,onSave:()=>{T(!1),me()}}):x&&["video","downloadable"].includes(x.type)?t.jsx(wl,{lessonId:x.id,lessonType:x.type,onUploadSuccess:le}):x?.type==="quiz"?t.jsx(El,{lessonId:x.id,quizId:x.quiz?.id||null,lessonTitle:x.title,existingQuestions:xe(x),onQuizCreated:re,onQuestionSaved:je}):t.jsxs("div",{className:"py-20 text-center",children:[t.jsx(De,{className:"h-12 w-12 mx-auto text-muted-foreground/20 mb-4"}),t.jsx("p",{className:"text-muted-foreground font-bold italic",children:"Lesson configuration incomplete."})]})}),e[224]=re,e[225]=x,e[226]=qt):qt=e[226];let Qt;e[227]!==Tt||e[228]!==qt?(Qt=t.jsxs(tl,{className:"max-w-4xl p-0 border-none rounded-3xl overflow-hidden shadow-3xl overflow-y-auto max-h-[90vh]",children:[Tt,qt]}),e[227]=Tt,e[228]=qt,e[229]=Qt):Qt=e[229];let At;e[230]!==q||e[231]!==Qt?(At=t.jsx(sl,{open:q,onOpenChange:T,children:Qt}),e[230]=q,e[231]=Qt,e[232]=At):At=e[232];let rs;return e[233]!==Ct||e[234]!==At||e[235]!==ie||e[236]!==R?(rs=t.jsxs(Bs,{title:ie,children:[R,Ct,At]}),e[233]=Ct,e[234]=At,e[235]=ie,e[236]=R,e[237]=rs):rs=e[237],rs}function Il(i){return i.type==="quiz"}function Dl(i){return i.type==="quiz"}function Ll(i){return t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-2xl bg-muted/10 group hover:border-primary/30 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-background border flex items-center justify-center text-[10px] font-black",children:i.order}),t.jsx("span",{className:"font-bold",children:i.title})]}),t.jsx($t,{variant:"outline",className:$e("h-7 px-3 rounded-full text-[10px] font-bold tracking-widest uppercase",i.video?.path||i.downloadable_path?"bg-green-50 text-green-600 border-green-200":"bg-muted text-muted-foreground border-muted-foreground/10"),children:i.video?.path||i.downloadable_path?"Resource Ready":"Empty"})]},i.id)}function Ml(i){return t.jsx(Ie,{value:i.id.toString(),className:"text-base py-3",children:i.name},i.id)}function $l(i){return i.quiz?.questions||[]}function Pl(){Me.reload({only:["course"]})}function Rl(){Me.reload({only:["course"]}),Ae.success("Changes saved successfully.")}function Vl(){return Ae.success("Lesson deleted successfully.")}function Ol(i){confirm("Are you sure you want to delete this lesson? All associated content will be lost.")&&Me.delete(xs("instructor.lessons.destroy",i),{onSuccess:Vl,preserveScroll:!0})}function Ul(i,e){return i.order-e.order}export{Sr as default};
