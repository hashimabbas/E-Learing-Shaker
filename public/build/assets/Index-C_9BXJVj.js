import{d as se,c as ae,u as ce,U as G,j as r,L as N,b as J,H as le}from"./app-aNgoSjIQ.js";import{u as ne,H as ie,d as Q,c as oe}from"./app-layout-BZWuSlZs.js";import{c as n,B as y}from"./button-DGbz5Amp.js";import{S as de}from"./separator-DSIsnXxT.js";import{u as me}from"./use-flash-IDXVV6LR.js";import{s as i}from"./sheet-BXCzQOF1.js";import{c as V,b as W}from"./card-BobQbCH7.js";import{B as X}from"./badge-BG8J84N0.js";import{I as pe}from"./input-By2UIQfe.js";import{S as ue}from"./star-ChmjmhWb.js";import{T as xe}from"./trash-2-IQd1tH-J.js";import{A as Z}from"./arrow-left-BW4it7lJ.js";import{S as ee}from"./shield-check-hKQ5DgtV.js";import{L as he}from"./lock-CEgobCXZ.js";/* empty css            */import"./index-DohCjxrY.js";import"./index-D2jpFfxb.js";import"./index-Dc5gxj5P.js";import"./sparkles-D6LdQzQW.js";import"./chevron-right-DH5vIeDc.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],re=se("Tag",_e);function Ie(j){const e=ae.c(79),{cart:a}=j,{translations:t,locale:te,gateways:v}=ce().props,l=te==="ar";me();const[c,L]=G.useState(v?.thawani?"Thawani":"PayPal"),{decrement:E,updateOptimistically:M}=ne();let b;e[0]!==a.items.length||e[1]!==M?(b=()=>{M(a.items.length)},e[0]=a.items.length,e[1]=M,e[2]=b):b=e[2];let w;e[3]!==a.items.length?(w=[a.items.length],e[3]=a.items.length,e[4]=w):w=e[4],G.useEffect(b,w);const[k,K]=G.useState(!1);let S;e[5]!==E||e[6]!==t.cart_remove_confirm?(S=s=>{confirm(t.cart_remove_confirm||"Are you sure you want to remove this course from your cart?")&&(E(),J.delete(i("cart.destroy",s),{preserveScroll:!0}))},e[5]=E,e[6]=t.cart_remove_confirm,e[7]=S):S=e[7];const $=S;let C;e[8]!==c?(C=()=>{K(!0),J.post(i("payment.initiate"),{payment_method:c},{onFinish:()=>K(!1)})},e[8]=c,e[9]=C):C=e[9];const z=C,P=a.items.reduce(ge,0),T=a.items.reduce(fe,0),A=T-P,I=t.cart_page_title||"Shopping Cart",U=t.cart_meta_title||"My Shopping Cart";let o;e[10]!==U?(o=r.jsx(le,{title:U}),e[10]=U,e[11]=o):o=e[11];const q=l?"rtl":"ltr";let B;e[12]===Symbol.for("react.memo_cache_sentinel")?(B=i("courses.index"),e[12]=B):B=e[12];const H=l?"ml-2 rotate-180":"mr-2";let d;e[13]!==H?(d=n("h-4 w-4",H),e[13]=H,e[14]=d):d=e[14];let m;e[15]!==d?(m=r.jsx(Z,{className:d}),e[15]=d,e[16]=m):m=e[16];const R=t.cart_back_to_courses||"Back to Catalog";let p;e[17]!==m||e[18]!==R?(p=r.jsxs(N,{href:B,className:"flex items-center text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[m," ",R]}),e[17]=m,e[18]=R,e[19]=p):p=e[19];let D;e[20]===Symbol.for("react.memo_cache_sentinel")?(D=r.jsx(Q,{className:"h-8 w-8 text-primary"}),e[20]=D):D=e[20];const O=t.cart_items_count||"Shopping Cart",Y=l?"mr-2":"ml-2";let u;e[21]!==Y?(u=n("text-lg px-3 rounded-full",Y),e[21]=Y,e[22]=u):u=e[22];let x;e[23]!==a.items.length||e[24]!==u?(x=r.jsx(X,{variant:"secondary",className:u,children:a.items.length}),e[23]=a.items.length,e[24]=u,e[25]=x):x=e[25];let h;e[26]!==O||e[27]!==x?(h=r.jsxs("h1",{className:"mt-4 text-3xl font-extrabold tracking-tight md:text-4xl flex items-center gap-3",children:[D," ",O,x]}),e[26]=O,e[27]=x,e[28]=h):h=e[28];let _;e[29]!==p||e[30]!==h?(_=r.jsx("div",{className:"border-b bg-muted/30 py-6",children:r.jsxs("div",{className:"container mx-auto px-4",children:[p,h]})}),e[29]=p,e[30]=h,e[31]=_):_=e[31];let f;e[32]!==a.items||e[33]!==P||e[34]!==v?.thawani||e[35]!==z||e[36]!==$||e[37]!==l||e[38]!==T||e[39]!==c||e[40]!==k||e[41]!==A||e[42]!==t.cart_apply_coupon||e[43]!==t.cart_by||e[44]!==t.cart_checkout||e[45]!==t.cart_coupon_placeholder||e[46]!==t.cart_empty_desc||e[47]!==t.cart_empty_title||e[48]!==t.cart_explore_courses||e[49]!==t.cart_guarantee||e[50]!==t.cart_including_taxes||e[51]!==t.cart_keep_shopping||e[52]!==t.cart_off||e[53]!==t.cart_order_summary||e[54]!==t.cart_original_price||e[55]!==t.cart_payment_bank||e[56]!==t.cart_payment_bank_desc||e[57]!==t.cart_payment_card||e[58]!==t.cart_payment_card_desc||e[59]!==t.cart_payment_paypal||e[60]!==t.cart_payment_paypal_desc||e[61]!==t.cart_platform_discount||e[62]!==t.cart_processing||e[63]!==t.cart_ratings||e[64]!==t.cart_remove||e[65]!==t.cart_save_later||e[66]!==t.cart_secure_payments||e[67]!==t.cart_select_payment||e[68]!==t.cart_total||e[69]!==t.course_price_currency?(f=r.jsx("div",{className:"container mx-auto px-4 py-10",children:a.items.length>0?r.jsxs("div",{className:"grid gap-10 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.items.map(s=>r.jsx(V,{className:"overflow-hidden border-none shadow-md hover:shadow-lg transition-all",children:r.jsx(W,{className:"p-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row",children:[r.jsx(N,{href:i("courses.show",s.course.slug),className:"w-full sm:w-48 shrink-0 overflow-hidden bg-muted group",children:r.jsx("img",{src:s.course.thumbnail_url||s.course.thumbnail||"/images/default-thumbnail.jpg",alt:s.course.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110 aspect-video sm:aspect-square"})}),r.jsxs("div",{className:"flex flex-1 flex-col p-6",children:[r.jsxs("div",{className:"flex justify-between gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(N,{href:i("courses.show",s.course.slug),className:"text-xl font-bold hover:text-primary transition-colors line-clamp-2",children:s.course.localized_title||s.course.title}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.cart_by||"By"," ",s.course.instructor?.name||"Expert Instructor"]}),r.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm font-medium",children:[r.jsx(ue,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),r.jsx("span",{children:s.course.average_rating?Number(s.course.average_rating).toFixed(1):"4.8"}),r.jsxs("span",{className:"text-muted-foreground font-normal",children:["(1,234 ",t.cart_ratings||"ratings",")"]})]})]}),r.jsxs("div",{className:n("shrink-0",l?"text-left":"text-right"),children:[r.jsxs("div",{className:"text-2xl font-black text-primary",children:[Number(s.price_at_purchase).toFixed(2)," ",t.course_price_currency||"USD"]}),s.course.has_active_discount&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-sm text-muted-foreground line-through",children:[Number(s.course.price).toFixed(2)," ",t.course_price_currency||"USD"]}),r.jsxs(X,{variant:"outline",className:"mt-2 text-green-600 border-green-200 bg-green-50",children:[s.course.discount_percentage,"% ",t.cart_off||"Off"]})]})]})]}),r.jsx("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-4 pt-4 border-t",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(y,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive h-9",onClick:()=>$(s.course.slug),children:[r.jsx(xe,{className:n("h-4 w-4",l?"ml-2":"mr-2")})," ",t.cart_remove||"Remove"]}),r.jsxs(y,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-primary h-9",children:[r.jsx(ie,{className:n("h-4 w-4",l?"ml-2":"mr-2")})," ",t.cart_save_later||"Save for Later"]})]})})]})]})})},s.id)),r.jsx("div",{className:"pt-4",children:r.jsx(N,{href:i("courses.index"),children:r.jsxs(y,{variant:"ghost",className:"font-bold",children:[r.jsx(Z,{className:n("h-4 w-4",l?"ml-2 rotate-180":"mr-2")})," ",t.cart_keep_shopping||"Keep Shopping"]})})})]}),r.jsx("aside",{className:"lg:col-span-1",children:r.jsxs("div",{className:"sticky top-24 space-y-6",children:[r.jsx(V,{className:"shadow-xl border-none",children:r.jsxs(W,{className:"p-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:t.cart_order_summary||"Order Summary"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[r.jsx("span",{children:t.cart_original_price||"Original Price"}),r.jsxs("span",{className:"line-through",children:[Number(T).toFixed(2)," ",t.course_price_currency||"USD"]})]}),r.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[r.jsx("span",{children:t.cart_platform_discount||"Platform Discount"}),r.jsxs("span",{children:["-",Number(A).toFixed(2)," ",t.course_price_currency||"USD"]})]}),r.jsx(de,{}),r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",children:t.cart_total||"Total"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:t.cart_including_taxes||"Including all taxes"})]}),r.jsxs("div",{className:"text-4xl font-black text-primary tracking-tight",children:[Number(P).toFixed(2)," ",t.course_price_currency||"USD"]})]})]}),r.jsxs("div",{className:"space-y-4 mb-6 mt-8",children:[r.jsx("h3",{className:"text-lg font-bold",children:t.cart_select_payment||"Select Payment Method"}),r.jsxs("div",{className:"space-y-3",children:[v?.thawani&&r.jsxs("div",{className:`flex items-center space-x-3 rtl:space-x-reverse border rounded-lg p-4 cursor-pointer transition-all ${c==="Thawani"?"border-primary bg-primary/5 ring-1 ring-primary":"hover:bg-muted/50"}`,onClick:()=>L("Thawani"),children:[r.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${c==="Thawani"?"border-primary":"border-muted-foreground"}`,children:c==="Thawani"&&r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:t.cart_payment_card||"Credit / Debit Card"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.cart_payment_card_desc||"Secure payment via Thawani"})]})]}),r.jsxs("div",{className:`flex items-center space-x-3 rtl:space-x-reverse border rounded-lg p-4 cursor-pointer transition-all ${c==="Bank Transfer"?"border-primary bg-primary/5 ring-1 ring-primary":"hover:bg-muted/50"}`,onClick:()=>L("Bank Transfer"),children:[r.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${c==="Bank Transfer"?"border-primary":"border-muted-foreground"}`,children:c==="Bank Transfer"&&r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:t.cart_payment_bank||"Bank Transfer"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.cart_payment_bank_desc||"Manual verification required"})]})]}),r.jsxs("div",{className:`flex items-center space-x-3 rtl:space-x-reverse border rounded-lg p-4 cursor-pointer transition-all ${c==="PayPal"?"border-primary bg-primary/5 ring-1 ring-primary":"hover:bg-muted/50"}`,onClick:()=>L("PayPal"),children:[r.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${c==="PayPal"?"border-primary":"border-muted-foreground"}`,children:c==="PayPal"&&r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:t.cart_payment_paypal||"PayPal"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.cart_payment_paypal_desc||"Secure online payment"})]})]})]})]}),r.jsx(y,{onClick:z,disabled:k,className:"w-full h-14 text-lg font-bold shadow-lg shadow-primary/20 transition-all hover:scale-[1.02] active:scale-100",children:k?t.cart_processing||"Processing...":t.cart_checkout||"Checkout Now"}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{className:"relative group",children:[r.jsx(pe,{placeholder:t.cart_coupon_placeholder||"Enter Coupon Code",className:n("h-11",l?"pl-20":"pr-20")}),r.jsx(y,{variant:"ghost",className:n("absolute top-1 h-9 font-bold text-primary px-4",l?"left-1":"right-1"),children:t.cart_apply_coupon||"Apply"})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm font-medium text-muted-foreground",children:[r.jsx(ee,{className:"h-4 w-4 text-green-600"})," ",t.cart_guarantee||"30-Day Money-Back Guarantee"]})]})]})}),r.jsxs("div",{className:"px-4 py-6 bg-muted/40 rounded-xl border border-dashed text-center",children:[r.jsxs("div",{className:"flex justify-center gap-6 mb-4 opacity-50",children:[r.jsx(he,{className:"h-6 w-6"}),r.jsx(ee,{className:"h-6 w-6"}),r.jsx(re,{className:"h-6 w-6"})]}),r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t.cart_secure_payments||"Secure 256-bit SSL Encrypted Payments"})]})]})})]}):r.jsxs("div",{className:"py-20 text-center animate-in fade-in slide-in-from-bottom-5 duration-700",children:[r.jsx("div",{className:"mx-auto mb-8 flex h-40 w-40 items-center justify-center rounded-full bg-muted shadow-inner",children:r.jsx(Q,{className:"h-20 w-20 text-muted-foreground/40"})}),r.jsx("h2",{className:"mb-4 text-4xl font-black tracking-tight",children:t.cart_empty_title||"Your cart is feeling lonely."}),r.jsx("p",{className:"mx-auto mb-10 max-w-lg text-lg text-muted-foreground",children:t.cart_empty_desc||"Your shopping cart is currently empty. Discover our specialized engineering workshops and start your learning journey today!"}),r.jsx(N,{href:i("courses.index"),children:r.jsxs(y,{size:"lg",className:"h-14 rounded-full px-12 text-lg font-bold shadow-xl shadow-primary/20",children:[t.cart_explore_courses||"Explore Courses"," ",r.jsx(re,{className:n("h-5 w-5",l?"mr-2":"ml-2")})]})})]})}),e[32]=a.items,e[33]=P,e[34]=v?.thawani,e[35]=z,e[36]=$,e[37]=l,e[38]=T,e[39]=c,e[40]=k,e[41]=A,e[42]=t.cart_apply_coupon,e[43]=t.cart_by,e[44]=t.cart_checkout,e[45]=t.cart_coupon_placeholder,e[46]=t.cart_empty_desc,e[47]=t.cart_empty_title,e[48]=t.cart_explore_courses,e[49]=t.cart_guarantee,e[50]=t.cart_including_taxes,e[51]=t.cart_keep_shopping,e[52]=t.cart_off,e[53]=t.cart_order_summary,e[54]=t.cart_original_price,e[55]=t.cart_payment_bank,e[56]=t.cart_payment_bank_desc,e[57]=t.cart_payment_card,e[58]=t.cart_payment_card_desc,e[59]=t.cart_payment_paypal,e[60]=t.cart_payment_paypal_desc,e[61]=t.cart_platform_discount,e[62]=t.cart_processing,e[63]=t.cart_ratings,e[64]=t.cart_remove,e[65]=t.cart_save_later,e[66]=t.cart_secure_payments,e[67]=t.cart_select_payment,e[68]=t.cart_total,e[69]=t.course_price_currency,e[70]=f):f=e[70];let g;e[71]!==_||e[72]!==f||e[73]!==q?(g=r.jsxs("div",{className:"bg-background min-h-screen pb-20",dir:q,children:[_,f]}),e[71]=_,e[72]=f,e[73]=q,e[74]=g):g=e[74];let F;return e[75]!==g||e[76]!==I||e[77]!==o?(F=r.jsxs(oe,{title:I,children:[o,g]}),e[75]=g,e[76]=I,e[77]=o,e[78]=F):F=e[78],F}function fe(j,e){return j+(Number(e.course.price)||Number(e.price_at_purchase))*Number(e.quantity)}function ge(j,e){return j+Number(e.price_at_purchase)*Number(e.quantity)}export{Ie as default};
