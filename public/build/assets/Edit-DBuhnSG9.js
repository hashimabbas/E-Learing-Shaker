import{d as Ps,r as se,j as t,c as ke,a as ts,t as De,b as $e,H as _l,L as vl,C as yl}from"./app-BPQpkLWe.js";import{U as Nl,f as wl,L as el,c as Sl}from"./app-layout-CnkzZBB9.js";import{c as Me,B as R}from"./button-WX8H90jI.js";import{a as Pe,C as Ae,b as qe,c as be,d as Es}from"./card-DtksBBig.js";import{c as Cl,P as kl,a as Vs,u as zl}from"./index-D3hp6nvv.js";import{f as rl,I as Tl,R as ql,u as Dl,g as Fl,s as Hs}from"./sheet-Cuv2ggtI.js";import{P as $s}from"./index-DMhazPYd.js";import{I as ue}from"./input-Cl9fiB9z.js";import{L as $}from"./label-C3muhIVk.js";import{T as ls}from"./textarea-DHmErxhs.js";import{I as K}from"./input-error-W7UQP86o.js";import{d as Gs,S as Ks,a as Ys,b as Ws,c as Ee}from"./select-vFj-NM3k.js";import{D as Il,a as Al,d as El,e as Ql}from"./dialog-BHEXPtgz.js";import{P as Ll}from"./progress-xyMmxLOY.js";import{V as Qs}from"./video-BbY8ExOP.js";import{D as Pl}from"./download-T2L0ixkR.js";import{C as $l}from"./checkbox-DWdD6WAh.js";import{C as Ml}from"./circle-check-big-Bls_0bNH.js";import{C as Rl}from"./circle-x-CHLpCApm.js";import{T as as}from"./trash-2-6cyMgjfO.js";import{C as rs}from"./circle-plus-D8kYAAam.js";import{S as tl}from"./square-pen-CVCtQG3F.js";import{B as is}from"./badge-B8pLzWvS.js";import{S as sl}from"./separator-D0AxYe1K.js";import{C as ss}from"./circle-help-BOD0jbsw.js";import{A as Ul}from"./arrow-left-BsrKwqO8.js";import{B as Bs}from"./badge-dollar-sign-H16aF8I0.js";import{F as Ol}from"./file-text-DXJlCH5Y.js";/* empty css            */import"./index-Dc5gxj5P.js";import"./book-open-6k8hTGrW.js";import"./chevron-right-C9tH2w_m.js";import"./index-CkNZbUfN.js";import"./chevron-down-BXOww3lY.js";import"./check-DZ5RyOXU.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Xs=Ps("ListOrdered",Vl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],il=Ps("Pen",Bl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ll=Ps("Save",Hl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Kl=Ps("Upload",Gl);var Ms="Tabs",[Yl,sr]=Cl(Ms,[rl]),nl=rl(),[Wl,Js]=Yl(Ms),ol=se.forwardRef((r,e)=>{const{__scopeTabs:s,value:l,onValueChange:o,defaultValue:d,orientation:u="horizontal",dir:b,activationMode:y="automatic",...S}=r,N=Dl(b),[_,h]=zl({prop:l,onChange:o,defaultProp:d??"",caller:Ms});return t.jsx(Wl,{scope:s,baseId:Fl(),value:_,onValueChange:h,orientation:u,dir:N,activationMode:y,children:t.jsx($s.div,{dir:N,"data-orientation":u,...S,ref:e})})});ol.displayName=Ms;var cl="TabsList",dl=se.forwardRef((r,e)=>{const{__scopeTabs:s,loop:l=!0,...o}=r,d=Js(cl,s),u=nl(s);return t.jsx(ql,{asChild:!0,...u,orientation:d.orientation,dir:d.dir,loop:l,children:t.jsx($s.div,{role:"tablist","aria-orientation":d.orientation,...o,ref:e})})});dl.displayName=cl;var ml="TabsTrigger",ul=se.forwardRef((r,e)=>{const{__scopeTabs:s,value:l,disabled:o=!1,...d}=r,u=Js(ml,s),b=nl(s),y=hl(u.baseId,l),S=pl(u.baseId,l),N=l===u.value;return t.jsx(Tl,{asChild:!0,...b,focusable:!o,active:N,children:t.jsx($s.button,{type:"button",role:"tab","aria-selected":N,"aria-controls":S,"data-state":N?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:y,...d,ref:e,onMouseDown:Vs(r.onMouseDown,_=>{!o&&_.button===0&&_.ctrlKey===!1?u.onValueChange(l):_.preventDefault()}),onKeyDown:Vs(r.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&u.onValueChange(l)}),onFocus:Vs(r.onFocus,()=>{const _=u.activationMode!=="manual";!N&&!o&&_&&u.onValueChange(l)})})})});ul.displayName=ml;var fl="TabsContent",xl=se.forwardRef((r,e)=>{const{__scopeTabs:s,value:l,forceMount:o,children:d,...u}=r,b=Js(fl,s),y=hl(b.baseId,l),S=pl(b.baseId,l),N=l===b.value,_=se.useRef(N);return se.useEffect(()=>{const h=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(h)},[]),t.jsx(kl,{present:o||N,children:({present:h})=>t.jsx($s.div,{"data-state":N?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":y,hidden:!h,id:S,tabIndex:0,...u,ref:e,style:{...r.style,animationDuration:_.current?"0s":void 0},children:h&&d})})});xl.displayName=fl;function hl(r,e){return`${r}-trigger-${e}`}function pl(r,e){return`${r}-content-${e}`}var Xl=ol,Jl=dl,Zl=ul,ea=xl;function gl(r){const e=ke.c(8);let s,l;e[0]!==r?({className:s,...l}=r,e[0]=r,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("flex flex-col gap-2",s),e[3]=s,e[4]=o):o=e[4];let d;return e[5]!==l||e[6]!==o?(d=t.jsx(Xl,{"data-slot":"tabs",className:o,...l}),e[5]=l,e[6]=o,e[7]=d):d=e[7],d}function bl(r){const e=ke.c(8);let s,l;e[0]!==r?({className:s,...l}=r,e[0]=r,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),e[3]=s,e[4]=o):o=e[4];let d;return e[5]!==l||e[6]!==o?(d=t.jsx(Jl,{"data-slot":"tabs-list",className:o,...l}),e[5]=l,e[6]=o,e[7]=d):d=e[7],d}function Qe(r){const e=ke.c(8);let s,l;e[0]!==r?({className:s,...l}=r,e[0]=r,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[3]=s,e[4]=o):o=e[4];let d;return e[5]!==l||e[6]!==o?(d=t.jsx(Zl,{"data-slot":"tabs-trigger",className:o,...l}),e[5]=l,e[6]=o,e[7]=d):d=e[7],d}function Le(r){const e=ke.c(8);let s,l;e[0]!==r?({className:s,...l}=r,e[0]=r,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("flex-1 outline-none",s),e[3]=s,e[4]=o):o=e[4];let d;return e[5]!==l||e[6]!==o?(d=t.jsx(ea,{"data-slot":"tabs-content",className:o,...l}),e[5]=l,e[6]=o,e[7]=d):d=e[7],d}function ta(r){const e=ke.c(92),{courseId:s,lesson:l,onSave:o,onCancel:d}=r,u=!!l?.id,b=l?.id||null,y=l?.title||"",S=l?.description||"",N=l?.type||"video",_=l?.order||0,h=l?.is_free_preview||!1;let q;e[0]!==s||e[1]!==b||e[2]!==y||e[3]!==S||e[4]!==N||e[5]!==_||e[6]!==h?(q={id:b,course_id:s,title:y,description:S,type:N,order:_,is_free_preview:h},e[0]=s,e[1]=b,e[2]=y,e[3]=S,e[4]=N,e[5]=_,e[6]=h,e[7]=q):q=e[7];const{data:p,setData:f,post:n,patch:m,processing:a,errors:i,reset:k}=ts(q);let g;e[8]!==p.id||e[9]!==u||e[10]!==o||e[11]!==m||e[12]!==n||e[13]!==k?(g=j=>{j.preventDefault();const Q=u?"instructor.lessons.update":"instructor.lessons.store",A=u?p.id:void 0;u?m(route(Q,A),{onSuccess:()=>{o(),k()},preserveScroll:!0}):n(route(Q,A),{onSuccess:()=>{o(),k()},preserveScroll:!0})},e[8]=p.id,e[9]=u,e[10]=o,e[11]=m,e[12]=n,e[13]=k,e[14]=g):g=e[14];const c=g,T=u?"Edit Lesson":"Add New Lesson";let C;e[15]!==T?(C=t.jsx(Pe,{children:t.jsx(Ae,{children:T})}),e[15]=T,e[16]=C):C=e[16];let z;e[17]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx($,{htmlFor:"title",children:"Title"}),e[17]=z):z=e[17];let w;e[18]!==f?(w=j=>f("title",j.target.value),e[18]=f,e[19]=w):w=e[19];let D;e[20]!==p.title||e[21]!==w?(D=t.jsx(ue,{id:"title",value:p.title,onChange:w,required:!0}),e[20]=p.title,e[21]=w,e[22]=D):D=e[22];let F;e[23]!==i.title?(F=t.jsx(K,{message:i.title}),e[23]=i.title,e[24]=F):F=e[24];let E;e[25]!==D||e[26]!==F?(E=t.jsxs("div",{className:"space-y-2",children:[z,D,F]}),e[25]=D,e[26]=F,e[27]=E):E=e[27];let I;e[28]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx($,{htmlFor:"description",children:"Description"}),e[28]=I):I=e[28];let x;e[29]!==f?(x=j=>f("description",j.target.value),e[29]=f,e[30]=x):x=e[30];let M;e[31]!==p.description||e[32]!==x?(M=t.jsx(ls,{id:"description",value:p.description,onChange:x,rows:3}),e[31]=p.description,e[32]=x,e[33]=M):M=e[33];let L;e[34]!==i.description?(L=t.jsx(K,{message:i.description}),e[34]=i.description,e[35]=L):L=e[35];let je;e[36]!==M||e[37]!==L?(je=t.jsxs("div",{className:"space-y-2",children:[I,M,L]}),e[36]=M,e[37]=L,e[38]=je):je=e[38];let fe;e[39]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx($,{htmlFor:"order",children:"Order"}),e[39]=fe):fe=e[39];let U;e[40]!==f?(U=j=>f("order",parseInt(j.target.value)),e[40]=f,e[41]=U):U=e[41];let le;e[42]!==p.order||e[43]!==U?(le=t.jsx(ue,{id:"order",type:"number",value:p.order,onChange:U,required:!0}),e[42]=p.order,e[43]=U,e[44]=le):le=e[44];let B;e[45]!==i.order?(B=t.jsx(K,{message:i.order}),e[45]=i.order,e[46]=B):B=e[46];let ae;e[47]!==le||e[48]!==B?(ae=t.jsxs("div",{className:"space-y-2",children:[fe,le,B]}),e[47]=le,e[48]=B,e[49]=ae):ae=e[49];let J;e[50]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx($,{htmlFor:"type",children:"Lesson Type"}),e[50]=J):J=e[50];let re;e[51]!==f?(re=j=>f("type",j),e[51]=f,e[52]=re):re=e[52];let ce;e[53]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(Ks,{children:t.jsx(Ys,{placeholder:"Select Type"})}),e[53]=ce):ce=e[53];let ie;e[54]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs(Ws,{children:[t.jsx(Ee,{value:"video",children:"Video"}),t.jsx(Ee,{value:"downloadable",children:"E-book/PDF"}),t.jsx(Ee,{value:"quiz",children:"Quiz"}),t.jsx(Ee,{value:"text",children:"Text"})]}),e[54]=ie):ie=e[54];let Z;e[55]!==p.type||e[56]!==re?(Z=t.jsxs(Gs,{onValueChange:re,value:p.type,children:[ce,ie]}),e[55]=p.type,e[56]=re,e[57]=Z):Z=e[57];let xe;e[58]!==i.type?(xe=t.jsx(K,{message:i.type}),e[58]=i.type,e[59]=xe):xe=e[59];let ne;e[60]!==Z||e[61]!==xe?(ne=t.jsxs("div",{className:"space-y-2",children:[J,Z,xe]}),e[60]=Z,e[61]=xe,e[62]=ne):ne=e[62];let Y;e[63]!==ae||e[64]!==ne?(Y=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ae,ne]}),e[63]=ae,e[64]=ne,e[65]=Y):Y=e[65];let W;e[66]!==f?(W=j=>f("is_free_preview",j.target.checked),e[66]=f,e[67]=W):W=e[67];let X;e[68]!==p.is_free_preview||e[69]!==W?(X=t.jsx("input",{type:"checkbox",id:"preview",checked:p.is_free_preview,onChange:W,className:"form-checkbox"}),e[68]=p.is_free_preview,e[69]=W,e[70]=X):X=e[70];let ee;e[71]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx($,{htmlFor:"preview",className:"font-normal",children:"Allow Free Preview"}),e[71]=ee):ee=e[71];let H;e[72]!==X?(H=t.jsxs("div",{className:"flex items-center space-x-2",children:[X,ee]}),e[72]=X,e[73]=H):H=e[73];let G;e[74]!==d?(G=t.jsx(R,{type:"button",variant:"secondary",onClick:d,children:"Cancel"}),e[74]=d,e[75]=G):G=e[75];const _e=u?"Save Changes":"Add Lesson";let O;e[76]!==a||e[77]!==_e?(O=t.jsx(R,{type:"submit",disabled:a,children:_e}),e[76]=a,e[77]=_e,e[78]=O):O=e[78];let de;e[79]!==G||e[80]!==O?(de=t.jsxs("div",{className:"flex justify-end space-x-2",children:[G,O]}),e[79]=G,e[80]=O,e[81]=de):de=e[81];let V;e[82]!==c||e[83]!==E||e[84]!==je||e[85]!==Y||e[86]!==H||e[87]!==de?(V=t.jsx(qe,{children:t.jsxs("form",{onSubmit:c,className:"space-y-4",children:[E,je,Y,H,de]})}),e[82]=c,e[83]=E,e[84]=je,e[85]=Y,e[86]=H,e[87]=de,e[88]=V):V=e[88];let te;return e[89]!==C||e[90]!==V?(te=t.jsxs(be,{className:"shadow-lg border-primary/50",children:[C,V]}),e[89]=C,e[90]=V,e[91]=te):te=e[91],te}function sa(r){const e=ke.c(37),{lessonId:s,lessonType:l,onUploadSuccess:o}=r;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={resource_file:null},e[0]=d):d=e[0];const{data:u,setData:b,post:y,processing:S,errors:N,reset:_,progress:h}=ts(d),q=l==="video",p=q?"video/mp4,video/quicktime":"application/pdf";let f;e[1]!==q?(f=q?t.jsx(Qs,{className:"h-4 w-4 mr-2"}):t.jsx(Pl,{className:"h-4 w-4 mr-2"}),e[1]=q,e[2]=f):f=e[2];const n=f;let m;e[3]!==u.resource_file||e[4]!==s||e[5]!==o||e[6]!==y||e[7]!==_?(m=M=>{if(M.preventDefault(),!u.resource_file){alert("Please select a file to upload.");return}y(route("instructor.lessons.upload_resource",s),{forceFormData:!0,onSuccess:()=>{o(),_("resource_file")},onError:la,preserveScroll:!0})},e[3]=u.resource_file,e[4]=s,e[5]=o,e[6]=y,e[7]=_,e[8]=m):m=e[8];const a=m,i=q?"Video Lecture":"E-Book PDF";let k;e[9]!==i||e[10]!==n?(k=t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n," Upload ",i]}),e[9]=i,e[10]=n,e[11]=k):k=e[11];const g=q?"Select Video File":"Select PDF File";let c;e[12]!==g?(c=t.jsx($,{htmlFor:"resource_file",children:g}),e[12]=g,e[13]=c):c=e[13];let T;e[14]!==b?(T=M=>b("resource_file",M.target.files?M.target.files[0]:null),e[14]=b,e[15]=T):T=e[15];let C;e[16]!==p||e[17]!==T?(C=t.jsx(ue,{id:"resource_file",type:"file",accept:p,onChange:T,required:!0}),e[16]=p,e[17]=T,e[18]=C):C=e[18];let z;e[19]!==N.resource_file?(z=t.jsx(K,{message:N.resource_file}),e[19]=N.resource_file,e[20]=z):z=e[20];let w;e[21]!==z||e[22]!==c||e[23]!==C?(w=t.jsxs("div",{className:"space-y-2",children:[c,C,z]}),e[21]=z,e[22]=c,e[23]=C,e[24]=w):w=e[24];let D;e[25]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(Kl,{className:"w-4 h-4 mr-2"}),e[25]=D):D=e[25];const F=S?"Uploading...":"Start Upload";let E;e[26]!==S||e[27]!==F?(E=t.jsxs(R,{type:"submit",disabled:S,className:"w-full",children:[D," ",F]}),e[26]=S,e[27]=F,e[28]=E):E=e[28];let I;e[29]!==h?(I=h&&t.jsxs("div",{className:"space-y-2 animate-in fade-in zoom-in-95 duration-300",children:[t.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[t.jsx("span",{children:"Uploading..."}),t.jsxs("span",{children:[h.percentage,"%"]})]}),t.jsx(Ll,{value:h.percentage,className:"h-2"})]}),e[29]=h,e[30]=I):I=e[30];let x;return e[31]!==a||e[32]!==w||e[33]!==E||e[34]!==I||e[35]!==k?(x=t.jsxs("form",{onSubmit:a,className:"space-y-4 p-4 border rounded-lg bg-neutral-50 dark:bg-neutral-800",children:[k,w,E,I]}),e[31]=a,e[32]=w,e[33]=E,e[34]=I,e[35]=k,e[36]=x):x=e[36],x}function la(r){return console.error(r)}function aa(r){const e=ke.c(34),{lessonId:s,initialContent:l,initialTitle:o,initialOrder:d,initialIsFreePreview:u,onSave:b}=r;let y;e[0]!==l||e[1]!==u||e[2]!==d||e[3]!==o?(y={description:l,title:o,order:d,is_free_preview:u},e[0]=l,e[1]=u,e[2]=d,e[3]=o,e[4]=y):y=e[4];const{data:S,setData:N,patch:_,processing:h,errors:q}=ts(y);let p;e[5]!==s||e[6]!==b||e[7]!==_?(p=D=>{D.preventDefault(),_(route("instructor.lessons.update",s),{onSuccess:()=>{De.success("Text content saved successfully."),b()},onError:ra,preserveScroll:!0})},e[5]=s,e[6]=b,e[7]=_,e[8]=p):p=e[8];const f=p;let n;e[9]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("h3",{className:"text-lg font-semibold",children:"Edit Text Content"}),e[9]=n):n=e[9];let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx($,{htmlFor:"content",children:"Lesson Text Content (Supports Markdown)"}),e[10]=m):m=e[10];let a;e[11]!==N?(a=D=>N("description",D.target.value),e[11]=N,e[12]=a):a=e[12];let i;e[13]!==S.description||e[14]!==a?(i=t.jsx(ls,{id:"content",value:S.description,onChange:a,rows:10,required:!0}),e[13]=S.description,e[14]=a,e[15]=i):i=e[15];let k;e[16]!==q.description?(k=t.jsx(K,{message:q.description}),e[16]=q.description,e[17]=k):k=e[17];let g;e[18]!==i||e[19]!==k?(g=t.jsxs("div",{className:"space-y-2",children:[m,i,k]}),e[18]=i,e[19]=k,e[20]=g):g=e[20];const c=h?"Saving...":"Save Text Content";let T;e[21]!==h||e[22]!==c?(T=t.jsx(R,{type:"submit",disabled:h,children:c}),e[21]=h,e[22]=c,e[23]=T):T=e[23];let C;e[24]!==S.order||e[25]!==S.title?(C=t.jsxs("p",{className:"text-sm text-muted-foreground pt-2 border-t mt-4",children:["Updating content for: **",S.title,"** (Order: ",S.order,")"]}),e[24]=S.order,e[25]=S.title,e[26]=C):C=e[26];let z;e[27]!==T||e[28]!==C?(z=t.jsxs("div",{className:"flex justify-end space-x-2",children:[T,C]}),e[27]=T,e[28]=C,e[29]=z):z=e[29];let w;return e[30]!==f||e[31]!==z||e[32]!==g?(w=t.jsxs("form",{onSubmit:f,className:"space-y-4 p-4 border rounded-lg bg-white dark:bg-neutral-900",children:[n,g,z]}),e[30]=f,e[31]=z,e[32]=g,e[33]=w):w=e[33],w}function ra(r){return console.error("Text content save failed:",r)}const Ls=()=>Date.now()+Math.random(),al=[{local_id:Ls(),text:"",is_correct:!0},{local_id:Ls(),text:"",is_correct:!1}],ia=r=>r.map(e=>({local_id:e.id||Ls(),id:e.id,text:e.text,is_correct:e.is_correct}));function na(r){const e=ke.c(116),{lessonId:s,quizId:l,lessonTitle:o,onQuizCreated:d,onQuestionSaved:u,initialQuestion:b}=r;let y;e[0]!==b||e[1]!==l?(y=b?{id:b.id,text:b.text,type:b.type,answers:ia(b.answers),quiz_id:l}:{id:null,text:"",type:"single_choice",answers:al,quiz_id:l},e[0]=b,e[1]=l,e[2]=y):y=e[2];const S=y;let N;e[3]!==s||e[4]!==o?(N={lesson_id:s,title:o,pass_percentage:70},e[3]=s,e[4]=o,e[5]=N):N=e[5];const{data:_,setData:h,post:q,processing:p,errors:f}=ts(N),{data:n,setData:m,post:a,put:i,processing:k,errors:g,reset:c}=ts(S);let T;e[6]!==n.quiz_id||e[7]!==l||e[8]!==m?(T=()=>{l&&n.quiz_id!==l&&m("quiz_id",l)},e[6]=n.quiz_id,e[7]=l,e[8]=m,e[9]=T):T=e[9];let C;e[10]!==l?(C=[l],e[10]=l,e[11]=C):C=e[11],se.useEffect(T,C);let z;e[12]!==n.answers||e[13]!==m?(z=(j,Q)=>{const A=n.answers.map((P,oe)=>oe===j?{...P,text:Q}:P);m("answers",A)},e[12]=n.answers,e[13]=m,e[14]=z):z=e[14];const w=z;let D;e[15]!==n.answers||e[16]!==n.type||e[17]!==m?(D=j=>{let Q;n.type==="single_choice"||n.type==="true_false"?Q=n.answers.map((A,P)=>({...A,is_correct:P===j})):Q=n.answers.map((A,P)=>({...A,is_correct:P===j?!A.is_correct:A.is_correct})),m("answers",Q)},e[15]=n.answers,e[16]=n.type,e[17]=m,e[18]=D):D=e[18];const F=D;let E;e[19]!==n.answers||e[20]!==m?(E=()=>{m("answers",[...n.answers,{local_id:Ls(),text:"",is_correct:!1}])},e[19]=n.answers,e[20]=m,e[21]=E):E=e[21];const I=E;let x;e[22]!==d||e[23]!==q?(x=j=>{j.preventDefault(),q(route("instructor.quizzes.store"),{onSuccess:()=>d(),preserveScroll:!0,onError:da})},e[22]=d,e[23]=q,e[24]=x):x=e[24];const M=x;let L;e[25]!==u||e[26]!==a||e[27]!==i||e[28]!==n||e[29]!==c||e[30]!==l||e[31]!==m?(L=j=>{j.preventDefault();const Q=n.answers.filter(ca).length;if(n.answers.length<2||Q===0){De.error("Question must have at least two answers and one correct answer.");return}const A=!!n.id,P=A?i:a,oe=A?"instructor.quizzes.question.update":"instructor.quizzes.question.add",he=A?{question:n.id}:{quiz:l};P(route(oe,he),n,{onSuccess:()=>{c("text"),m("answers",al),u(),De.success(`Question ${A?"updated":"added"} successfully!`)},onError:oa,preserveScroll:!0})},e[25]=u,e[26]=a,e[27]=i,e[28]=n,e[29]=c,e[30]=l,e[31]=m,e[32]=L):L=e[32];const je=L;if(!l){let j;e[33]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(Pe,{children:t.jsx(Ae,{className:"text-xl",children:"Quiz Not Initialized"})}),e[33]=j):j=e[33];let Q;e[34]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"mb-4 text-muted-foreground",children:"This lesson does not have a Quiz record yet. You must create the Quiz before adding questions."}),e[34]=Q):Q=e[34];let A;e[35]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx($,{htmlFor:"quiz-title",children:"Quiz Title"}),e[35]=A):A=e[35];let P;e[36]!==h?(P=Ie=>h("title",Ie.target.value),e[36]=h,e[37]=P):P=e[37];let oe;e[38]!==_.title||e[39]!==P?(oe=t.jsx(ue,{id:"quiz-title",value:_.title,onChange:P,required:!0}),e[38]=_.title,e[39]=P,e[40]=oe):oe=e[40];let he;e[41]!==f.title?(he=t.jsx(K,{message:f.title}),e[41]=f.title,e[42]=he):he=e[42];let ye;e[43]!==oe||e[44]!==he?(ye=t.jsxs("div",{className:"space-y-2",children:[A,oe,he]}),e[43]=oe,e[44]=he,e[45]=ye):ye=e[45];let Ne;e[46]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx($,{htmlFor:"pass-percentage",children:"Pass Percentage (%)"}),e[46]=Ne):Ne=e[46];let we;e[47]!==h?(we=Ie=>h("pass_percentage",parseInt(Ie.target.value)),e[47]=h,e[48]=we):we=e[48];let pe;e[49]!==_.pass_percentage||e[50]!==we?(pe=t.jsx(ue,{id:"pass-percentage",type:"number",min:"1",max:"100",value:_.pass_percentage,onChange:we,required:!0}),e[49]=_.pass_percentage,e[50]=we,e[51]=pe):pe=e[51];let ge;e[52]!==f.pass_percentage?(ge=t.jsx(K,{message:f.pass_percentage}),e[52]=f.pass_percentage,e[53]=ge):ge=e[53];let Se;e[54]!==pe||e[55]!==ge?(Se=t.jsxs("div",{className:"space-y-2",children:[Ne,pe,ge]}),e[54]=pe,e[55]=ge,e[56]=Se):Se=e[56];const Fe=p?"Creating...":"Initialize Quiz";let Ce;e[57]!==p||e[58]!==Fe?(Ce=t.jsx(R,{type:"submit",disabled:p,children:Fe}),e[57]=p,e[58]=Fe,e[59]=Ce):Ce=e[59];let ze;return e[60]!==M||e[61]!==ye||e[62]!==Se||e[63]!==Ce?(ze=t.jsxs(be,{children:[j,t.jsxs(qe,{children:[Q,t.jsxs("form",{onSubmit:M,className:"space-y-4",children:[ye,Se,Ce]})]})]}),e[60]=M,e[61]=ye,e[62]=Se,e[63]=Ce,e[64]=ze):ze=e[64],ze}const fe=n.id?"Editing Question":"Add New Question";let U;e[65]!==fe?(U=t.jsx(Pe,{className:"p-0",children:t.jsx(Ae,{className:"text-lg",children:fe})}),e[65]=fe,e[66]=U):U=e[66];let le;e[67]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx($,{htmlFor:"question-text",children:"Question Text"}),e[67]=le):le=e[67];let B;e[68]!==m?(B=j=>m("text",j.target.value),e[68]=m,e[69]=B):B=e[69];let ae;e[70]!==n.text||e[71]!==B?(ae=t.jsx(ls,{id:"question-text",value:n.text,onChange:B,required:!0,rows:3}),e[70]=n.text,e[71]=B,e[72]=ae):ae=e[72];let J;e[73]!==g.text?(J=t.jsx(K,{message:g.text}),e[73]=g.text,e[74]=J):J=e[74];let re;e[75]!==ae||e[76]!==J?(re=t.jsxs("div",{className:"space-y-2",children:[le,ae,J]}),e[75]=ae,e[76]=J,e[77]=re):re=e[77];let ce;e[78]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx($,{htmlFor:"type",children:"Question Type"}),e[78]=ce):ce=e[78];let ie;e[79]!==m?(ie=j=>m("type",j),e[79]=m,e[80]=ie):ie=e[80];let Z;e[81]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Ks,{id:"type",children:t.jsx(Ys,{placeholder:"Select Type"})}),e[81]=Z):Z=e[81];let xe;e[82]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs(Ws,{children:[t.jsx(Ee,{value:"single_choice",children:"Single Choice"}),t.jsx(Ee,{value:"multiple_choice",children:"Multiple Choice"}),t.jsx(Ee,{value:"true_false",children:"True/False"})]}),e[82]=xe):xe=e[82];let ne;e[83]!==n.type||e[84]!==ie?(ne=t.jsxs(Gs,{onValueChange:ie,value:n.type,children:[Z,xe]}),e[83]=n.type,e[84]=ie,e[85]=ne):ne=e[85];let Y;e[86]!==g.type?(Y=t.jsx(K,{message:g.type}),e[86]=g.type,e[87]=Y):Y=e[87];let W;e[88]!==ne||e[89]!==Y?(W=t.jsxs("div",{className:"space-y-2",children:[ce,ne,Y]}),e[88]=ne,e[89]=Y,e[90]=W):W=e[90];const X=Array.isArray(n.answers)?n.answers.length:0;let ee;e[91]!==X?(ee=t.jsxs("h4",{className:"font-semibold border-b pb-2",children:["Answers (",X,")"]}),e[91]=X,e[92]=ee):ee=e[92];let H;e[93]!==w||e[94]!==F||e[95]!==n.answers||e[96]!==n.type||e[97]!==m?(H=Array.isArray(n.answers)&&n.answers.map((j,Q)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[n.type==="multiple_choice"?t.jsxs("div",{className:"flex h-9 items-center space-x-2",children:[t.jsx($l,{id:`answer-check-${Q}`,checked:j.is_correct,onCheckedChange:()=>F(Q)}),t.jsx($,{htmlFor:`answer-check-${Q}`,className:"font-normal cursor-pointer",children:"Correct"})]}):t.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-md border text-sm font-medium transition-colors cursor-pointer
                        ${j.is_correct?"bg-green-500 text-white hover:bg-green-600":"bg-background hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,onClick:()=>F(Q),title:j.is_correct?"Correct Answer":"Mark as Correct",children:j.is_correct?t.jsx(Ml,{className:"w-4 h-4"}):t.jsx(Rl,{className:"w-4 h-4"})}),t.jsx(ue,{placeholder:`Answer Option ${Q+1}`,value:j.text,onChange:A=>w(Q,A.target.value),required:!0}),t.jsx(R,{type:"button",variant:"destructive",size:"icon",disabled:n.answers.length<=2,onClick:()=>m("answers",n.answers.filter((A,P)=>P!==Q)),children:t.jsx(as,{className:"w-4 h-4"})})]},j.local_id)),e[93]=w,e[94]=F,e[95]=n.answers,e[96]=n.type,e[97]=m,e[98]=H):H=e[98];let G;e[99]!==H?(G=t.jsx("div",{className:"space-y-3",children:H}),e[99]=H,e[100]=G):G=e[100];let _e;e[101]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(rs,{className:"w-4 h-4 mr-2"}),e[101]=_e):_e=e[101];let O;e[102]!==I?(O=t.jsxs(R,{type:"button",variant:"secondary",onClick:I,children:[_e," Add Answer Option"]}),e[102]=I,e[103]=O):O=e[103];const de=k?"Saving...":"Save Question";let V;e[104]!==k||e[105]!==de?(V=t.jsx(R,{type:"submit",disabled:k,className:"w-full",children:de}),e[104]=k,e[105]=de,e[106]=V):V=e[106];let te;return e[107]!==je||e[108]!==U||e[109]!==re||e[110]!==W||e[111]!==ee||e[112]!==G||e[113]!==O||e[114]!==V?(te=t.jsx(be,{children:t.jsx(qe,{children:t.jsxs("form",{onSubmit:je,className:"space-y-6",children:[U,re,W,ee,G,O,V]})})}),e[107]=je,e[108]=U,e[109]=re,e[110]=W,e[111]=ee,e[112]=G,e[113]=O,e[114]=V,e[115]=te):te=e[115],te}function oa(r){console.error("Submission Error:",r)}function ca(r){return r.is_correct&&r.text.trim()!==""}function da(r){return console.error("Quiz Creation Error:",r)}function ma(r){const e=ke.c(35),{lessonId:s,quizId:l,lessonTitle:o,onQuizCreated:d,onQuestionSaved:u,existingQuestions:b}=r,[y,S]=se.useState("manage"),[N,_]=se.useState(b),[h,q]=se.useState(null),p=h?"Edit Question":"Add New Question";let f,n;e[0]!==b?(f=()=>{_(b)},n=[b],e[0]=b,e[1]=f,e[2]=n):(f=e[1],n=e[2]),se.useEffect(f,n);let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=L=>{q(L),S("add")},e[3]=m):m=e[3];const a=m;let i;e[4]!==u?(i=()=>{q(null),S("manage"),u()},e[4]=u,e[5]=i):i=e[5];const k=i;let g;e[6]!==u?(g=L=>{confirm("Are you sure you want to delete this question?")&&$e.delete(route("instructor.quizzes.question.destroy",L),{onSuccess:()=>{De.success("Question deleted successfully!"),u()},preserveScroll:!0})},e[6]=u,e[7]=g):g=e[7];const c=g;let T;e[8]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs(Qe,{value:"manage",className:"flex items-center",children:[t.jsx(Xs,{className:"w-4 h-4 mr-2"})," View/Manage Questions"]}),e[8]=T):T=e[8];let C;e[9]!==h?(C=h?t.jsx(tl,{className:"w-4 h-4 mr-2"}):t.jsx(rs,{className:"w-4 h-4 mr-2"}),e[9]=h,e[10]=C):C=e[10];let z;e[11]!==C||e[12]!==p?(z=t.jsxs(bl,{className:"grid w-full grid-cols-2",children:[T,t.jsxs(Qe,{value:"add",className:"flex items-center",children:[C,p]})]}),e[11]=C,e[12]=p,e[13]=z):z=e[13];let w;e[14]!==c||e[15]!==N?(w=N.length===0?t.jsx("p",{className:"text-muted-foreground",children:"No questions found for this quiz."}):N.map(L=>t.jsxs("div",{className:"border p-4 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("p",{className:"font-semibold",children:L.text}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(R,{size:"icon",variant:"outline",title:"Edit",onClick:()=>a(L),children:[" ",t.jsx(tl,{className:"w-4 h-4"})]}),t.jsx(R,{size:"icon",variant:"destructive",onClick:()=>c(L.id),children:t.jsx(as,{className:"w-4 h-4"})})]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Answers: ",L.answers.length]})]},L.id)),e[14]=c,e[15]=N,e[16]=w):w=e[16];let D;e[17]===Symbol.for("react.memo_cache_sentinel")?(D=()=>S("add"),e[17]=D):D=e[17];const F=!l;let E;e[18]!==F?(E=t.jsx(R,{onClick:D,disabled:F,className:"w-full",children:"Add First Question"}),e[18]=F,e[19]=E):E=e[19];let I;e[20]!==E||e[21]!==w?(I=t.jsx(Le,{value:"manage",className:"mt-4 max-h-[60vh] overflow-y-auto",children:t.jsx(be,{children:t.jsxs(qe,{className:"space-y-4 pt-4",children:[w,E]})})}),e[20]=E,e[21]=w,e[22]=I):I=e[22];let x;e[23]!==h||e[24]!==k||e[25]!==s||e[26]!==o||e[27]!==d||e[28]!==l?(x=t.jsx(Le,{value:"add",className:"mt-4 max-h-[60vh] overflow-y-auto",children:l?t.jsx(na,{lessonId:s,quizId:l,lessonTitle:o,initialQuestion:h,onQuizCreated:d,onQuestionSaved:k}):t.jsxs(be,{className:"p-4",children:[t.jsx(Ae,{className:"text-lg",children:"Initialize Quiz First"}),t.jsx("p",{className:"text-muted-foreground mt-2",children:"You must initialize the Quiz from the main Curriculum tab before you can add questions here."})]})}),e[23]=h,e[24]=k,e[25]=s,e[26]=o,e[27]=d,e[28]=l,e[29]=x):x=e[29];let M;return e[30]!==y||e[31]!==I||e[32]!==x||e[33]!==z?(M=t.jsxs(gl,{value:y,onValueChange:S,className:"w-full",children:[z,I,x]}),e[30]=y,e[31]=I,e[32]=x,e[33]=z,e[34]=M):M=e[34],M}const ua=r=>{const e=ke.c(21),{lessons:s,courseId:l,onUpdate:o,onContentEdit:d}=r,[u,b]=se.useState(!1),[y,S]=se.useState(null),N=ja;let _;e[0]!==o?(_=()=>{b(!1),S(null),o(),De.success("Lesson details saved.")},e[0]=o,e[1]=_):_=e[1];const h=_;let q;e[2]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Course Curriculum"}),t.jsx("p",{className:"text-muted-foreground font-medium text-sm",children:"Manage lessons, modules, and learning assessments."})]}),e[2]=q):q=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=()=>b(!0),e[3]=p):p=e[3];const f=u||!!y;let n;e[4]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(rs,{className:"h-4 w-4 mr-2"}),e[4]=n):n=e[4];let m;e[5]!==f?(m=t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[q,t.jsxs(R,{onClick:p,disabled:f,className:"rounded-full px-6 font-bold shadow-lg shadow-primary/10",children:[n," New Lesson"]})]}),e[5]=f,e[6]=m):m=e[6];let a;e[7]!==l||e[8]!==y||e[9]!==h||e[10]!==u?(a=(u||y)&&t.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-500",children:t.jsx(ta,{courseId:l,lesson:y,onSave:h,onCancel:()=>{b(!1),S(null)}})}),e[7]=l,e[8]=y,e[9]=h,e[10]=u,e[11]=a):a=e[11];let i;e[12]!==s||e[13]!==d?(i=s.length>0?s.sort(_a).map(c=>t.jsx(be,{className:"group border shadow-sm hover:shadow-md transition-all overflow-hidden bg-card/50",children:t.jsx(qe,{className:"p-0",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center p-4 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-muted font-black text-muted-foreground text-sm border",children:c.order}),t.jsx("div",{className:Me("flex h-10 w-10 items-center justify-center rounded-xl border relative",c.type==="quiz"?"bg-rose-50 text-rose-600 border-rose-100":c.type==="video"?"bg-blue-50 text-blue-600 border-blue-100":"bg-emerald-50 text-emerald-600 border-emerald-100"),children:c.type==="quiz"?t.jsx(ss,{className:"h-5 w-5"}):c.type==="video"?t.jsx(Qs,{className:"h-5 w-5"}):t.jsx(Ol,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left",children:[t.jsx("h4",{className:"font-bold text-lg truncate leading-snug",children:c.title}),t.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3 mt-1",children:[t.jsx(is,{variant:"outline",className:"capitalize text-[10px] h-5 px-1.5 font-bold tracking-widest bg-background",children:c.type}),c.is_free_preview&&t.jsx(is,{className:"bg-green-500 hover:bg-green-600 text-white border-none text-[10px] h-5 px-1.5 font-bold uppercase tracking-widest",children:"Free Preview"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 pt-2 sm:pt-0",children:[t.jsx(R,{variant:"secondary",size:"sm",className:"font-bold h-9 px-4 rounded-lg bg-background border shadow-sm",onClick:()=>d(c),children:"Edit Content"}),t.jsx(R,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg hover:bg-primary/10 hover:text-primary",onClick:()=>S(c),children:t.jsx(il,{className:"w-4 h-4"})}),t.jsx(R,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg hover:bg-destructive/10 hover:text-destructive",onClick:()=>N(c.id),children:t.jsx(as,{className:"w-4 h-4"})})]})]})})},c.id)):t.jsxs("div",{className:"py-12 border-2 border-dashed rounded-3xl text-center space-y-3 bg-muted/20",children:[t.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:t.jsx(Xs,{className:"h-6 w-6 text-muted-foreground/40"})}),t.jsx("p",{className:"text-muted-foreground font-bold italic",children:"No lessons in this curriculum yet."}),t.jsx(R,{variant:"ghost",className:"text-primary font-black",onClick:()=>b(!0),children:"Create the first lesson"})]}),e[12]=s,e[13]=d,e[14]=i):i=e[14];let k;e[15]!==i?(k=t.jsx("div",{className:"grid gap-3",children:i}),e[15]=i,e[16]=k):k=e[16];let g;return e[17]!==m||e[18]!==a||e[19]!==k?(g=t.jsxs("div",{className:"space-y-6",children:[m,a,k]}),e[17]=m,e[18]=a,e[19]=k,e[20]=g):g=e[20],g};function lr(r){const e=ke.c(303),{course:s,categories:l}=r,o=s.title||"",d=s.title_ar||"",u=s.description||"",b=s.description_ar||"";let y;e[0]!==s.category_id?(y=s.category_id?s.category_id.toString():"",e[0]=s.category_id,e[1]=y):y=e[1];const S=s.price||0;let N;e[2]!==s.learning_outcomes?(N=s.learning_outcomes?.length>0?s.learning_outcomes:[""],e[2]=s.learning_outcomes,e[3]=N):N=e[3];const _=N;let h;e[4]!==s.learning_outcomes_ar?(h=s.learning_outcomes_ar?.length>0?s.learning_outcomes_ar:[""],e[4]=s.learning_outcomes_ar,e[5]=h):h=e[5];const q=h,p=s.discount_percentage||0;let f;e[6]!==s.discount_start_date?(f=s.discount_start_date?new Date(s.discount_start_date).toISOString().slice(0,16):"",e[6]=s.discount_start_date,e[7]=f):f=e[7];let n;e[8]!==s.discount_end_date?(n=s.discount_end_date?new Date(s.discount_end_date).toISOString().slice(0,16):"",e[8]=s.discount_end_date,e[9]=n):n=e[9];let m;e[10]!==o||e[11]!==q||e[12]!==p||e[13]!==f||e[14]!==n||e[15]!==d||e[16]!==u||e[17]!==b||e[18]!==y||e[19]!==S||e[20]!==_?(m={title:o,title_ar:d,description:u,description_ar:b,category_id:y,price:S,learning_outcomes:_,learning_outcomes_ar:q,discount_percentage:p,discount_start_date:f,discount_end_date:n},e[10]=o,e[11]=q,e[12]=p,e[13]=f,e[14]=n,e[15]=d,e[16]=u,e[17]=b,e[18]=y,e[19]=S,e[20]=_,e[21]=m):m=e[21];const{data:a,setData:i,patch:k,processing:g,errors:c}=ts(m);let T;e[22]!==a||e[23]!==i?(T=v=>{const ve=v==="en"?"learning_outcomes":"learning_outcomes_ar";i(ve,[...a[ve],""])},e[22]=a,e[23]=i,e[24]=T):T=e[24];const C=T;let z;e[25]!==a||e[26]!==i?(z=(v,ve)=>{const me=v==="en"?"learning_outcomes":"learning_outcomes_ar",Te=[...a[me]];Te.splice(ve,1),i(me,Te)},e[25]=a,e[26]=i,e[27]=z):z=e[27];const w=z;let D;e[28]!==a||e[29]!==i?(D=(v,ve,me)=>{const Te=v==="en"?"learning_outcomes":"learning_outcomes_ar",Zs=[...a[Te]];Zs[ve]=me,i(Te,Zs)},e[28]=a,e[29]=i,e[30]=D):D=e[30];const F=D,[E,I]=se.useState(!1),[x,M]=se.useState(null),[L,je]=se.useState("details");let fe;e[31]!==s.id||e[32]!==k?(fe=v=>{v.preventDefault(),k(Hs("instructor.courses.update",s.id),{onSuccess:ga,preserveScroll:!0})},e[31]=s.id,e[32]=k,e[33]=fe):fe=e[33];const U=fe,le=pa;let B;e[34]===Symbol.for("react.memo_cache_sentinel")?(B=v=>{M(v),I(!0)},e[34]=B):B=e[34];const ae=B;let J;e[35]===Symbol.for("react.memo_cache_sentinel")?(J=()=>{I(!1),$e.reload({only:["course"]}),De.success("Resource attached successfully.")},e[35]=J):J=e[35];const re=J;let ce;e[36]!==s.lessons||e[37]!==x?(ce=()=>{I(!1),$e.reload({only:["course"]},{onSuccess:()=>{const v=s.lessons.find(ve=>ve.id===x.id);v&&v.quiz?.id?(M(v),I(!0),De.success("Quiz created! Let's add some questions.")):le()}})},e[36]=s.lessons,e[37]=x,e[38]=ce):ce=e[38];const ie=ce;let Z;e[39]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>{I(!1),$e.reload({only:["course"]})},e[39]=Z):Z=e[39];const xe=Z,ne=ha,Y=`Edit: ${s.title}`,W=`Edit: ${s.title}`;let X;e[40]!==W?(X=t.jsx(_l,{title:W}),e[40]=W,e[41]=X):X=e[41];let ee;e[42]===Symbol.for("react.memo_cache_sentinel")?(ee=Hs("instructor.courses.index"),e[42]=ee):ee=e[42];let H;e[43]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs(vl,{href:ee,className:"flex items-center text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[t.jsx(Ul,{className:"mr-2 h-4 w-4"})," Back to Catalog"]}),e[43]=H):H=e[43];let G;e[44]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(is,{variant:"secondary",className:"px-3 py-1 font-bold text-xs bg-primary/10 text-primary border-primary/20",children:"COURSE BUILDER"}),e[44]=G):G=e[44];const _e=s.is_published?"text-green-600 bg-green-50 border-green-200":"text-yellow-600 bg-yellow-50 border-yellow-200";let O;e[45]!==_e?(O=Me("px-3 py-1 font-bold text-xs",_e),e[45]=_e,e[46]=O):O=e[46];const de=s.is_published?"LIVE":"DRAFT";let V;e[47]!==O||e[48]!==de?(V=t.jsxs("div",{className:"flex items-center gap-3",children:[G,t.jsx(is,{variant:"outline",className:O,children:de})]}),e[47]=O,e[48]=de,e[49]=V):V=e[49];let te;e[50]!==s.title?(te=t.jsx("h1",{className:"text-4xl font-extrabold tracking-tight md:text-5xl leading-tight text-foreground truncate",children:s.title}),e[50]=s.title,e[51]=te):te=e[51];let j;e[52]!==s.id?(j=t.jsxs("span",{className:"text-foreground tracking-widest",children:["#",s.id]}),e[52]=s.id,e[53]=j):j=e[53];const Q=s.category?.name;let A;e[54]!==j||e[55]!==Q?(A=t.jsxs("p",{className:"text-muted-foreground text-lg font-medium max-w-xl line-clamp-1",children:["Course ID: ",j," • ",Q]}),e[54]=j,e[55]=Q,e[56]=A):A=e[56];let P;e[57]!==V||e[58]!==te||e[59]!==A?(P=t.jsxs("div",{className:"space-y-4 max-w-2xl",children:[V,te,A]}),e[57]=V,e[58]=te,e[59]=A,e[60]=P):P=e[60];let oe;e[61]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsxs(be,{className:"p-4 border-none shadow-sm bg-background flex flex-col items-center justify-center text-center",children:[t.jsx(Nl,{className:"h-5 w-5 mb-1 text-primary"}),t.jsx("span",{className:"text-lg font-black leading-none",children:"1.2k"}),t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Students"})]}),e[61]=oe):oe=e[61];let he;e[62]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsxs(be,{className:"p-4 border-none shadow-sm bg-background flex flex-col items-center justify-center text-center",children:[t.jsx(Bs,{className:"h-5 w-5 mb-1 text-green-600"}),t.jsx("span",{className:"text-lg font-black leading-none",children:"USD 4.5k"}),t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Revenue"})]}),e[62]=he):he=e[62];let ye;e[63]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(yl,{className:"h-5 w-5 mb-1 text-blue-600"}),e[63]=ye):ye=e[63];let Ne;e[64]!==s.lessons.length?(Ne=t.jsx("span",{className:"text-lg font-black leading-none",children:s.lessons.length}),e[64]=s.lessons.length,e[65]=Ne):Ne=e[65];let we;e[66]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Lessons"}),e[66]=we):we=e[66];let pe;e[67]!==Ne?(pe=t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[oe,he,t.jsxs(be,{className:"hidden sm:flex p-4 border-none shadow-sm bg-background flex-col items-center justify-center text-center",children:[ye,Ne,we]})]}),e[67]=Ne,e[68]=pe):pe=e[68];let ge;e[69]!==P||e[70]!==pe?(ge=t.jsx("div",{className:"border-b bg-muted/30 py-8 lg:py-12",children:t.jsxs("div",{className:"container mx-auto px-4",children:[H,t.jsxs("div",{className:"mt-8 flex flex-col lg:flex-row lg:items-end justify-between gap-10",children:[P,pe]})]})}),e[69]=P,e[70]=pe,e[71]=ge):ge=e[71];let Se;e[72]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsxs(Qe,{value:"details",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(il,{className:"w-4 h-4"})," General Details"]}),e[72]=Se):Se=e[72];let Fe;e[73]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsxs(Qe,{value:"curriculum",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(Xs,{className:"w-4 h-4"})," Curriculum Builder"]}),e[73]=Fe):Fe=e[73];let Ce;e[74]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsxs(Qe,{value:"media",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(Qs,{className:"w-4 h-4"})," Content Status"]}),e[74]=Ce):Ce=e[74];let ze;e[75]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsxs(Qe,{value:"quizzes",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(ss,{className:"w-4 h-4"})," Assessments"]}),e[75]=ze):ze=e[75];let Ie;e[76]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx("div",{className:"bg-muted/30 p-1.5 rounded-2xl inline-flex mb-8 border backdrop-blur-sm",children:t.jsxs(bl,{className:"bg-transparent h-auto gap-1",children:[Se,Fe,Ce,ze,t.jsxs(Qe,{value:"offers",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(Bs,{className:"w-4 h-4"})," Promotions"]})]})}),e[76]=Ie):Ie=e[76];let ns;e[77]===Symbol.for("react.memo_cache_sentinel")?(ns=t.jsx(Pe,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(wl,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Basic Settings"}),t.jsx(Es,{children:"Fundamental details about the course."})]})]})}),e[77]=ns):ns=e[77];let os;e[78]===Symbol.for("react.memo_cache_sentinel")?(os=t.jsx($,{htmlFor:"title",className:"text-base font-bold tracking-tight",children:"Title"}),e[78]=os):os=e[78];let Re;e[79]!==i?(Re=v=>i("title",v.target.value),e[79]=i,e[80]=Re):Re=e[80];let Ue;e[81]!==a.title||e[82]!==Re?(Ue=t.jsx(ue,{id:"title",className:"h-14 text-lg font-bold border-muted-foreground/20 rounded-xl px-5 bg-muted/10 shadow-inner",value:a.title,onChange:Re,required:!0}),e[81]=a.title,e[82]=Re,e[83]=Ue):Ue=e[83];let Oe;e[84]!==c.title?(Oe=t.jsx(K,{message:c.title}),e[84]=c.title,e[85]=Oe):Oe=e[85];let Ve;e[86]!==Ue||e[87]!==Oe?(Ve=t.jsxs("div",{className:"space-y-3",children:[os,Ue,Oe]}),e[86]=Ue,e[87]=Oe,e[88]=Ve):Ve=e[88];let cs;e[89]===Symbol.for("react.memo_cache_sentinel")?(cs=t.jsx($,{htmlFor:"title_ar",className:"text-base font-bold tracking-tight text-right block",children:"Title (Arabic)"}),e[89]=cs):cs=e[89];let Be;e[90]!==i?(Be=v=>i("title_ar",v.target.value),e[90]=i,e[91]=Be):Be=e[91];let He;e[92]!==a.title_ar||e[93]!==Be?(He=t.jsxs("div",{className:"space-y-3",children:[cs,t.jsx(ue,{id:"title_ar",dir:"rtl",className:"h-14 text-lg font-bold border-muted-foreground/20 rounded-xl px-5 bg-muted/10 shadow-inner",value:a.title_ar,onChange:Be})]}),e[92]=a.title_ar,e[93]=Be,e[94]=He):He=e[94];let ds;e[95]===Symbol.for("react.memo_cache_sentinel")?(ds=t.jsx($,{htmlFor:"description",className:"text-base font-bold tracking-tight",children:"Description"}),e[95]=ds):ds=e[95];let Ge;e[96]!==i?(Ge=v=>i("description",v.target.value),e[96]=i,e[97]=Ge):Ge=e[97];let Ke;e[98]!==a.description||e[99]!==Ge?(Ke=t.jsx(ls,{id:"description",className:"min-h-[160px] text-lg font-medium border-muted-foreground/20 rounded-xl p-5 bg-muted/10 shadow-inner resize-none leading-relaxed",value:a.description,onChange:Ge,required:!0}),e[98]=a.description,e[99]=Ge,e[100]=Ke):Ke=e[100];let Ye;e[101]!==c.description?(Ye=t.jsx(K,{message:c.description}),e[101]=c.description,e[102]=Ye):Ye=e[102];let We;e[103]!==Ke||e[104]!==Ye?(We=t.jsxs("div",{className:"space-y-3",children:[ds,Ke,Ye]}),e[103]=Ke,e[104]=Ye,e[105]=We):We=e[105];let ms;e[106]===Symbol.for("react.memo_cache_sentinel")?(ms=t.jsx($,{htmlFor:"description_ar",className:"text-base font-bold tracking-tight text-right block",children:"Description (Arabic)"}),e[106]=ms):ms=e[106];let Xe;e[107]!==i?(Xe=v=>i("description_ar",v.target.value),e[107]=i,e[108]=Xe):Xe=e[108];let Je;e[109]!==a.description_ar||e[110]!==Xe?(Je=t.jsxs("div",{className:"space-y-3",children:[ms,t.jsx(ls,{id:"description_ar",dir:"rtl",className:"min-h-[160px] text-lg font-medium border-muted-foreground/20 rounded-xl p-5 bg-muted/10 shadow-inner resize-none leading-relaxed",value:a.description_ar,onChange:Xe})]}),e[109]=a.description_ar,e[110]=Xe,e[111]=Je):Je=e[111];let us;e[112]===Symbol.for("react.memo_cache_sentinel")?(us=t.jsx(sl,{className:"my-8 border-dashed"}),e[112]=us):us=e[112];let fs;e[113]===Symbol.for("react.memo_cache_sentinel")?(fs=t.jsx($,{className:"text-base font-bold tracking-tight",children:"What will students learn?"}),e[113]=fs):fs=e[113];let Ze;e[114]!==C?(Ze=()=>C("en"),e[114]=C,e[115]=Ze):Ze=e[115];let xs;e[116]===Symbol.for("react.memo_cache_sentinel")?(xs=t.jsx(rs,{className:"w-4 h-4 mr-1"}),e[116]=xs):xs=e[116];let et;e[117]!==Ze?(et=t.jsxs("div",{className:"flex items-center justify-between",children:[fs,t.jsxs(R,{type:"button",variant:"ghost",size:"sm",className:"text-primary font-bold",onClick:Ze,children:[xs," Add Outcome"]})]}),e[117]=Ze,e[118]=et):et=e[118];let tt;if(e[119]!==a.learning_outcomes||e[120]!==F||e[121]!==w){let v;e[123]!==a.learning_outcomes.length||e[124]!==F||e[125]!==w?(v=(ve,me)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ue,{placeholder:`Outcome #${me+1}`,className:"h-12 border-muted-foreground/20 rounded-xl bg-muted/5 shadow-inner",value:ve,onChange:Te=>F("en",me,Te.target.value)}),a.learning_outcomes.length>1&&t.jsx(R,{type:"button",variant:"ghost",size:"icon",className:"h-12 w-12 rounded-xl text-muted-foreground hover:text-destructive",onClick:()=>w("en",me),children:t.jsx(as,{className:"w-5 h-5"})})]},me),e[123]=a.learning_outcomes.length,e[124]=F,e[125]=w,e[126]=v):v=e[126],tt=a.learning_outcomes.map(v),e[119]=a.learning_outcomes,e[120]=F,e[121]=w,e[122]=tt}else tt=e[122];let st;e[127]!==tt?(st=t.jsx("div",{className:"space-y-3",children:tt}),e[127]=tt,e[128]=st):st=e[128];let lt;e[129]!==c.learning_outcomes?(lt=t.jsx(K,{message:c.learning_outcomes}),e[129]=c.learning_outcomes,e[130]=lt):lt=e[130];let at;e[131]!==et||e[132]!==st||e[133]!==lt?(at=t.jsxs("div",{className:"space-y-4",children:[et,st,lt]}),e[131]=et,e[132]=st,e[133]=lt,e[134]=at):at=e[134];let hs;e[135]===Symbol.for("react.memo_cache_sentinel")?(hs=t.jsx($,{className:"text-base font-bold tracking-tight text-right block w-full",children:"ماذا سيتعلم الطلاب؟ (بالعربية)"}),e[135]=hs):hs=e[135];let rt;e[136]!==C?(rt=()=>C("ar"),e[136]=C,e[137]=rt):rt=e[137];let ps;e[138]===Symbol.for("react.memo_cache_sentinel")?(ps=t.jsx(rs,{className:"w-4 h-4 mr-1"}),e[138]=ps):ps=e[138];let it;e[139]!==rt?(it=t.jsxs("div",{className:"flex items-center justify-between",children:[hs,t.jsxs(R,{type:"button",variant:"ghost",size:"sm",className:"text-primary font-bold",onClick:rt,children:[ps," إضافة مخرجات"]})]}),e[139]=rt,e[140]=it):it=e[140];let nt;if(e[141]!==a.learning_outcomes_ar||e[142]!==F||e[143]!==w){let v;e[145]!==a.learning_outcomes_ar.length||e[146]!==F||e[147]!==w?(v=(ve,me)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ue,{dir:"rtl",placeholder:`المخرج #${me+1}`,className:"h-12 border-muted-foreground/20 rounded-xl bg-muted/5 shadow-inner",value:ve,onChange:Te=>F("ar",me,Te.target.value)}),a.learning_outcomes_ar.length>1&&t.jsx(R,{type:"button",variant:"ghost",size:"icon",className:"h-12 w-12 rounded-xl text-muted-foreground hover:text-destructive",onClick:()=>w("ar",me),children:t.jsx(as,{className:"w-5 h-5"})})]},me),e[145]=a.learning_outcomes_ar.length,e[146]=F,e[147]=w,e[148]=v):v=e[148],nt=a.learning_outcomes_ar.map(v),e[141]=a.learning_outcomes_ar,e[142]=F,e[143]=w,e[144]=nt}else nt=e[144];let ot;e[149]!==nt?(ot=t.jsx("div",{className:"space-y-3",children:nt}),e[149]=nt,e[150]=ot):ot=e[150];let ct;e[151]!==it||e[152]!==ot?(ct=t.jsxs("div",{className:"space-y-4",children:[it,ot]}),e[151]=it,e[152]=ot,e[153]=ct):ct=e[153];let gs;e[154]===Symbol.for("react.memo_cache_sentinel")?(gs=t.jsx($,{htmlFor:"category_id",className:"text-base font-bold tracking-tight",children:"Category"}),e[154]=gs):gs=e[154];let dt;e[155]!==i?(dt=v=>i("category_id",v),e[155]=i,e[156]=dt):dt=e[156];const jl=a.category_id;let bs;e[157]===Symbol.for("react.memo_cache_sentinel")?(bs=t.jsx(Ks,{id:"category_id",className:"h-14 rounded-xl border-muted-foreground/20 text-lg font-medium px-5 bg-muted/10",children:t.jsx(Ys,{placeholder:"Select a Category"})}),e[157]=bs):bs=e[157];let mt;e[158]!==l?(mt=l.map(xa),e[158]=l,e[159]=mt):mt=e[159];let ut;e[160]!==mt?(ut=t.jsx(Ws,{className:"rounded-xl",children:mt}),e[160]=mt,e[161]=ut):ut=e[161];let ft;e[162]!==a.category_id||e[163]!==dt||e[164]!==ut?(ft=t.jsxs(Gs,{onValueChange:dt,value:jl,children:[bs,ut]}),e[162]=a.category_id,e[163]=dt,e[164]=ut,e[165]=ft):ft=e[165];let xt;e[166]!==c.category_id?(xt=t.jsx(K,{message:c.category_id}),e[166]=c.category_id,e[167]=xt):xt=e[167];let ht;e[168]!==ft||e[169]!==xt?(ht=t.jsxs("div",{className:"space-y-3",children:[gs,ft,xt]}),e[168]=ft,e[169]=xt,e[170]=ht):ht=e[170];let js;e[171]===Symbol.for("react.memo_cache_sentinel")?(js=t.jsx($,{htmlFor:"price",className:"text-base font-bold tracking-tight",children:"Price (USD)"}),e[171]=js):js=e[171];let _s;e[172]===Symbol.for("react.memo_cache_sentinel")?(_s=t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl font-black text-muted-foreground",children:"USD"}),e[172]=_s):_s=e[172];let pt;e[173]!==i?(pt=v=>i("price",parseFloat(v.target.value)),e[173]=i,e[174]=pt):pt=e[174];let gt;e[175]!==a.price||e[176]!==pt?(gt=t.jsxs("div",{className:"relative",children:[_s,t.jsx(ue,{id:"price",type:"number",step:"0.01",min:"0",className:"h-14 rounded-xl border-muted-foreground/20 text-xl font-black pl-16 pr-5 bg-muted/10 shadow-inner",value:a.price,onChange:pt,required:!0})]}),e[175]=a.price,e[176]=pt,e[177]=gt):gt=e[177];let bt;e[178]!==c.price?(bt=t.jsx(K,{message:c.price}),e[178]=c.price,e[179]=bt):bt=e[179];let jt;e[180]!==gt||e[181]!==bt?(jt=t.jsxs("div",{className:"space-y-3",children:[js,gt,bt]}),e[180]=gt,e[181]=bt,e[182]=jt):jt=e[182];let _t;e[183]!==ht||e[184]!==jt?(_t=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[ht,jt]}),e[183]=ht,e[184]=jt,e[185]=_t):_t=e[185];let vs;e[186]===Symbol.for("react.memo_cache_sentinel")?(vs=t.jsx(sl,{className:"my-8 border-dashed"}),e[186]=vs):vs=e[186];let vt;e[187]!==g?(vt=g?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(ll,{className:"mr-2 h-5 w-5"})," Save Changes"]}),e[187]=g,e[188]=vt):vt=e[188];let yt;e[189]!==g||e[190]!==vt?(yt=t.jsx(R,{type:"submit",size:"lg",disabled:g,className:"h-14 rounded-full px-10 font-black tracking-tight text-lg shadow-xl shadow-primary/20 transition-all hover:scale-105 active:scale-95",children:vt}),e[189]=g,e[190]=vt,e[191]=yt):yt=e[191];let Nt;e[192]!==U||e[193]!==yt||e[194]!==Ve||e[195]!==He||e[196]!==We||e[197]!==Je||e[198]!==at||e[199]!==ct||e[200]!==_t?(Nt=t.jsx(Le,{value:"details",className:"mt-0 animate-in fade-in slide-in-from-left-4 duration-500",children:t.jsxs(be,{className:"border-none shadow-xl",children:[ns,t.jsx(qe,{className:"p-8",children:t.jsxs("form",{onSubmit:U,className:"space-y-8 max-w-4xl",children:[Ve,He,We,Je,us,at,ct,_t,vs,yt]})})]})}),e[192]=U,e[193]=yt,e[194]=Ve,e[195]=He,e[196]=We,e[197]=Je,e[198]=at,e[199]=ct,e[200]=_t,e[201]=Nt):Nt=e[201];let ys;e[202]===Symbol.for("react.memo_cache_sentinel")?(ys=t.jsx(Pe,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(el,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Structure Editor"}),t.jsx(Es,{children:"Drag, drop, and refine your learning path."})]})]})}),e[202]=ys):ys=e[202];let wt;e[203]!==s.id||e[204]!==s.lessons?(wt=t.jsx(Le,{value:"curriculum",className:"mt-0 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs(be,{className:"border-none shadow-xl overflow-hidden",children:[ys,t.jsx(qe,{className:"p-8",children:t.jsx(ua,{lessons:s.lessons,courseId:s.id,onUpdate:le,onContentEdit:ae})})]})}),e[203]=s.id,e[204]=s.lessons,e[205]=wt):wt=e[205];let Ns;e[206]===Symbol.for("react.memo_cache_sentinel")?(Ns=t.jsx(Pe,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(Qs,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Content Audit"}),t.jsx(Es,{children:"Verification of all attached learning resources."})]})]})}),e[206]=Ns):Ns=e[206];let ws;e[207]===Symbol.for("react.memo_cache_sentinel")?(ws=t.jsxs("p",{className:"text-muted-foreground mb-10 font-medium bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800 text-sm",children:[t.jsx(ss,{className:"inline h-4 w-4 mr-2 mb-0.5 text-blue-600"}),"All media management is integrated directly within the **Curriculum Builder** tab for a seamless experience."]}),e[207]=ws):ws=e[207];let St;e[208]!==s.lessons?(St=s.lessons.map(fa),e[208]=s.lessons,e[209]=St):St=e[209];let Ct;e[210]!==St?(Ct=t.jsx(Le,{value:"media",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsxs(be,{className:"border-none shadow-xl",children:[Ns,t.jsxs(qe,{className:"p-8",children:[ws,t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:St})]})]})}),e[210]=St,e[211]=Ct):Ct=e[211];let Ss;e[212]===Symbol.for("react.memo_cache_sentinel")?(Ss=t.jsx(Le,{value:"quizzes",className:"mt-0 animate-in fade-in zoom-in-95 duration-500"}),e[212]=Ss):Ss=e[212];let Cs;e[213]===Symbol.for("react.memo_cache_sentinel")?(Cs=t.jsx(Pe,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-green-600 border shadow-sm",children:t.jsx(Bs,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Promotion & Offers"}),t.jsx(Es,{children:"Increase enrollments by setting temporary discounts."})]})]})}),e[213]=Cs):Cs=e[213];let ks;e[214]===Symbol.for("react.memo_cache_sentinel")?(ks=t.jsx($,{htmlFor:"discount_percentage",className:"text-base font-bold tracking-tight",children:"Discount Percentage (%)"}),e[214]=ks):ks=e[214];let kt;e[215]!==i?(kt=v=>i("discount_percentage",parseInt(v.target.value)),e[215]=i,e[216]=kt):kt=e[216];let zt;e[217]!==a.discount_percentage||e[218]!==kt?(zt=t.jsx(ue,{id:"discount_percentage",type:"number",min:"0",max:"100",className:"h-14 rounded-xl border-muted-foreground/20 text-xl font-black px-5 bg-muted/10 shadow-inner",value:a.discount_percentage,onChange:kt}),e[217]=a.discount_percentage,e[218]=kt,e[219]=zt):zt=e[219];let zs;e[220]===Symbol.for("react.memo_cache_sentinel")?(zs=t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl font-black text-muted-foreground",children:"%"}),e[220]=zs):zs=e[220];let Tt;e[221]!==zt?(Tt=t.jsxs("div",{className:"relative",children:[zt,zs]}),e[221]=zt,e[222]=Tt):Tt=e[222];let qt;e[223]!==c.discount_percentage?(qt=t.jsx(K,{message:c.discount_percentage}),e[223]=c.discount_percentage,e[224]=qt):qt=e[224];let Dt;e[225]!==Tt||e[226]!==qt?(Dt=t.jsxs("div",{className:"space-y-3",children:[ks,Tt,qt]}),e[225]=Tt,e[226]=qt,e[227]=Dt):Dt=e[227];let Ts;e[228]===Symbol.for("react.memo_cache_sentinel")?(Ts=t.jsx($,{className:"text-base font-bold tracking-tight",children:"Final Price"}),e[228]=Ts):Ts=e[228];const Rs=a.price*(1-a.discount_percentage/100);let Ft;e[229]!==Rs?(Ft=Rs.toFixed(2),e[229]=Rs,e[230]=Ft):Ft=e[230];let It;e[231]!==Ft?(It=t.jsxs("div",{className:"space-y-3",children:[Ts,t.jsxs("div",{className:"h-14 flex items-center px-5 rounded-xl bg-orange-50 border border-orange-100 text-orange-700 font-black text-xl",children:["USD ",Ft]})]}),e[231]=Ft,e[232]=It):It=e[232];let At;e[233]!==Dt||e[234]!==It?(At=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Dt,It]}),e[233]=Dt,e[234]=It,e[235]=At):At=e[235];let qs;e[236]===Symbol.for("react.memo_cache_sentinel")?(qs=t.jsx($,{htmlFor:"discount_start_date",className:"text-base font-bold tracking-tight",children:"Offer Start Date"}),e[236]=qs):qs=e[236];let Et;e[237]!==i?(Et=v=>i("discount_start_date",v.target.value),e[237]=i,e[238]=Et):Et=e[238];let Qt;e[239]!==a.discount_start_date||e[240]!==Et?(Qt=t.jsx(ue,{id:"discount_start_date",type:"datetime-local",className:"h-14 rounded-xl border-muted-foreground/20 font-medium px-5 bg-muted/10",value:a.discount_start_date,onChange:Et}),e[239]=a.discount_start_date,e[240]=Et,e[241]=Qt):Qt=e[241];let Lt;e[242]!==c.discount_start_date?(Lt=t.jsx(K,{message:c.discount_start_date}),e[242]=c.discount_start_date,e[243]=Lt):Lt=e[243];let Pt;e[244]!==Qt||e[245]!==Lt?(Pt=t.jsxs("div",{className:"space-y-3",children:[qs,Qt,Lt]}),e[244]=Qt,e[245]=Lt,e[246]=Pt):Pt=e[246];let Ds;e[247]===Symbol.for("react.memo_cache_sentinel")?(Ds=t.jsx($,{htmlFor:"discount_end_date",className:"text-base font-bold tracking-tight",children:"Offer End Date"}),e[247]=Ds):Ds=e[247];let $t;e[248]!==i?($t=v=>i("discount_end_date",v.target.value),e[248]=i,e[249]=$t):$t=e[249];let Mt;e[250]!==a.discount_end_date||e[251]!==$t?(Mt=t.jsx(ue,{id:"discount_end_date",type:"datetime-local",className:"h-14 rounded-xl border-muted-foreground/20 font-medium px-5 bg-muted/10",value:a.discount_end_date,onChange:$t}),e[250]=a.discount_end_date,e[251]=$t,e[252]=Mt):Mt=e[252];let Rt;e[253]!==c.discount_end_date?(Rt=t.jsx(K,{message:c.discount_end_date}),e[253]=c.discount_end_date,e[254]=Rt):Rt=e[254];let Ut;e[255]!==Mt||e[256]!==Rt?(Ut=t.jsxs("div",{className:"space-y-3",children:[Ds,Mt,Rt]}),e[255]=Mt,e[256]=Rt,e[257]=Ut):Ut=e[257];let Ot;e[258]!==Pt||e[259]!==Ut?(Ot=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Pt,Ut]}),e[258]=Pt,e[259]=Ut,e[260]=Ot):Ot=e[260];let Fs;e[261]===Symbol.for("react.memo_cache_sentinel")?(Fs=t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 flex gap-4",children:[t.jsx(ss,{className:"h-6 w-6 text-blue-600 shrink-0"}),t.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300 font-medium leading-relaxed",children:"Instructors can use offers to boost sales. Discounts are automatically applied during the specified time range. Set percentage to **0** to disable any active offer."})]}),e[261]=Fs):Fs=e[261];let Vt;e[262]!==g?(Vt=g?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(ll,{className:"mr-2 h-5 w-5"})," Update Offer Details"]}),e[262]=g,e[263]=Vt):Vt=e[263];let Bt;e[264]!==g||e[265]!==Vt?(Bt=t.jsx(R,{type:"submit",size:"lg",disabled:g,className:"h-14 rounded-full px-10 font-black tracking-tight text-lg shadow-xl shadow-primary/20 transition-all hover:scale-105 active:scale-95",children:Vt}),e[264]=g,e[265]=Vt,e[266]=Bt):Bt=e[266];let Ht;e[267]!==U||e[268]!==At||e[269]!==Ot||e[270]!==Bt?(Ht=t.jsx(Le,{value:"offers",className:"mt-0 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs(be,{className:"border-none shadow-xl",children:[Cs,t.jsx(qe,{className:"p-8",children:t.jsxs("form",{onSubmit:U,className:"space-y-8 max-w-2xl",children:[At,Ot,Fs,Bt]})})]})}),e[267]=U,e[268]=At,e[269]=Ot,e[270]=Bt,e[271]=Ht):Ht=e[271];let Gt;e[272]!==L||e[273]!==Nt||e[274]!==wt||e[275]!==Ct||e[276]!==Ht?(Gt=t.jsx("div",{className:"container mx-auto px-4 py-10",children:t.jsxs(gl,{value:L,onValueChange:je,className:"w-full",children:[Ie,Nt,wt,Ct,Ss,Ht]})}),e[272]=L,e[273]=Nt,e[274]=wt,e[275]=Ct,e[276]=Ht,e[277]=Gt):Gt=e[277];let Kt;e[278]!==Gt||e[279]!==ge?(Kt=t.jsxs("div",{className:"bg-background min-h-screen pb-20",children:[ge,Gt]}),e[278]=Gt,e[279]=ge,e[280]=Kt):Kt=e[280];let Is;e[281]===Symbol.for("react.memo_cache_sentinel")?(Is=t.jsx(el,{className:"h-6 w-6"}),e[281]=Is):Is=e[281];const Us=x?.title;let Yt;e[282]!==Us?(Yt=t.jsxs(Il,{className:"text-2xl font-black tracking-tight flex items-center gap-3 uppercase",children:[Is," Editing Resource: ",Us]}),e[282]=Us,e[283]=Yt):Yt=e[283];const Os=x?.order;let Wt;e[284]!==Os?(Wt=t.jsxs("p",{className:"text-primary-foreground/70 font-medium italic mt-1",children:["Refining content for Lesson ",Os]}),e[284]=Os,e[285]=Wt):Wt=e[285];let Xt;e[286]!==Yt||e[287]!==Wt?(Xt=t.jsxs(Al,{className:"p-8 bg-primary text-primary-foreground",children:[Yt,Wt]}),e[286]=Yt,e[287]=Wt,e[288]=Xt):Xt=e[288];let Jt;e[289]!==ie||e[290]!==x?(Jt=t.jsx("div",{className:"p-8 bg-card",children:x&&x.type==="text"?t.jsx(aa,{lessonId:x.id,initialContent:x.description||"",initialTitle:x.title||"Untitled Lesson",initialOrder:x.order||0,initialIsFreePreview:x.is_free_preview||!1,onSave:()=>{I(!1),le()}}):x&&["video","downloadable"].includes(x.type)?t.jsx(sa,{lessonId:x.id,lessonType:x.type,onUploadSuccess:re}):x?.type==="quiz"?t.jsx(ma,{lessonId:x.id,quizId:x.quiz?.id||null,lessonTitle:x.title,existingQuestions:ne(x),onQuizCreated:ie,onQuestionSaved:xe}):t.jsxs("div",{className:"py-20 text-center",children:[t.jsx(ss,{className:"h-12 w-12 mx-auto text-muted-foreground/20 mb-4"}),t.jsx("p",{className:"text-muted-foreground font-bold italic",children:"Lesson configuration incomplete."})]})}),e[289]=ie,e[290]=x,e[291]=Jt):Jt=e[291];let Zt;e[292]!==Xt||e[293]!==Jt?(Zt=t.jsxs(El,{className:"max-w-4xl p-0 border-none rounded-3xl overflow-hidden shadow-3xl overflow-y-auto max-h-[90vh]",children:[Xt,Jt]}),e[292]=Xt,e[293]=Jt,e[294]=Zt):Zt=e[294];let es;e[295]!==E||e[296]!==Zt?(es=t.jsx(Ql,{open:E,onOpenChange:I,children:Zt}),e[295]=E,e[296]=Zt,e[297]=es):es=e[297];let As;return e[298]!==Kt||e[299]!==es||e[300]!==Y||e[301]!==X?(As=t.jsxs(Sl,{title:Y,children:[X,Kt,es]}),e[298]=Kt,e[299]=es,e[300]=Y,e[301]=X,e[302]=As):As=e[302],As}function fa(r){return t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-2xl bg-muted/10 group hover:border-primary/30 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-background border flex items-center justify-center text-[10px] font-black",children:r.order}),t.jsx("span",{className:"font-bold",children:r.title})]}),t.jsx(is,{variant:"outline",className:Me("h-7 px-3 rounded-full text-[10px] font-bold tracking-widest uppercase",r.video?.path||r.downloadable_path?"bg-green-50 text-green-600 border-green-200":"bg-muted text-muted-foreground border-muted-foreground/10"),children:r.video?.path||r.downloadable_path?"Resource Ready":"Empty"})]},r.id)}function xa(r){return t.jsx(Ee,{value:r.id.toString(),className:"text-base py-3",children:r.name},r.id)}function ha(r){return r.quiz?.questions||[]}function pa(){$e.reload({only:["course"]})}function ga(){$e.reload({only:["course"]}),De.success("Changes saved successfully.")}function ba(){return De.success("Lesson deleted successfully.")}function ja(r){confirm("Are you sure you want to delete this lesson? All associated content will be lost.")&&$e.delete(Hs("instructor.lessons.destroy",r),{onSuccess:ba,preserveScroll:!0})}function _a(r,e){return r.order-e.order}export{lr as default};
