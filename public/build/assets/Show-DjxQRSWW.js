import{d as te,r as m,j as s,c as Y,a as ve,H as W,e as Re,b as be}from"./app-D8C9BZo6.js";import{c as X}from"./app-layout-DvAG5TC7.js";import{u as Q,c as se,B as J}from"./button-D4FbPryL.js";import{u as ge,c as re,a as K,d as je,P as _e}from"./index-BxTnrzOQ.js";import{P as B}from"./index-wqlmAXvI.js";import{f as ae,u as ye,R as we,I as Ce}from"./sheet-DppquWAv.js";import{u as Ne}from"./index-Dqmos9-v.js";import{L as ke}from"./label-2XZ1VOcc.js";import{d as Z,C as T,c as U,a as ee,b as Se}from"./card-DVVtNjf4.js";import{C as Ee}from"./circle-check-big-PvjPuKgJ.js";/* empty css            */import"./index-Dc5gxj5P.js";import"./sparkles-CIrEfV2I.js";import"./chevron-right-ilZYw_Oc.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pe=te("Circle",Ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],Ge=te("FileQuestion",Ae);var q="Radio",[De,oe]=re(q),[Le,Fe]=De(q),ie=m.forwardRef((i,e)=>{const{__scopeRadio:t,name:a,checked:r=!1,required:o,disabled:n,value:f="on",onCheck:x,form:c,...R}=i,[h,b]=m.useState(null),l=Q(e,j=>b(j)),u=m.useRef(!1),g=h?c||!!h.closest("form"):!0;return s.jsxs(Le,{scope:t,checked:r,disabled:n,children:[s.jsx(B.button,{type:"button",role:"radio","aria-checked":r,"data-state":de(r),"data-disabled":n?"":void 0,disabled:n,value:f,...R,ref:l,onClick:K(i.onClick,j=>{r||x?.(),g&&(u.current=j.isPropagationStopped(),u.current||j.stopPropagation())})}),g&&s.jsx(ce,{control:h,bubbles:!u.current,name:a,value:f,checked:r,required:o,disabled:n,form:c,style:{transform:"translateX(-100%)"}})]})});ie.displayName=q;var ne="RadioIndicator",le=m.forwardRef((i,e)=>{const{__scopeRadio:t,forceMount:a,...r}=i,o=Fe(ne,t);return s.jsx(_e,{present:a||o.checked,children:s.jsx(B.span,{"data-state":de(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})})});le.displayName=ne;var Me="RadioBubbleInput",ce=m.forwardRef(({__scopeRadio:i,control:e,checked:t,bubbles:a=!0,...r},o)=>{const n=m.useRef(null),f=Q(n,o),x=Ne(t),c=je(e);return m.useEffect(()=>{const R=n.current;if(!R)return;const h=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(h,"checked").set;if(x!==t&&l){const u=new Event("click",{bubbles:a});l.call(R,t),R.dispatchEvent(u)}},[x,t,a]),s.jsx(B.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:f,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ce.displayName=Me;function de(i){return i?"checked":"unchecked"}var $e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],O="RadioGroup",[ze,ct]=re(O,[ae,oe]),ue=ae(),pe=oe(),[Be,Oe]=ze(O),me=m.forwardRef((i,e)=>{const{__scopeRadioGroup:t,name:a,defaultValue:r,value:o,required:n=!1,disabled:f=!1,orientation:x,dir:c,loop:R=!0,onValueChange:h,...b}=i,l=ue(t),u=ye(c),[g,j]=ge({prop:o,defaultProp:r??null,onChange:h,caller:O});return s.jsx(Be,{scope:t,name:a,required:n,disabled:f,value:g,onValueChange:j,children:s.jsx(we,{asChild:!0,...l,orientation:x,dir:u,loop:R,children:s.jsx(B.div,{role:"radiogroup","aria-required":n,"aria-orientation":x,"data-disabled":f?"":void 0,dir:u,...b,ref:e})})})});me.displayName=O;var fe="RadioGroupItem",xe=m.forwardRef((i,e)=>{const{__scopeRadioGroup:t,disabled:a,...r}=i,o=Oe(fe,t),n=o.disabled||a,f=ue(t),x=pe(t),c=m.useRef(null),R=Q(e,c),h=o.value===r.value,b=m.useRef(!1);return m.useEffect(()=>{const l=g=>{$e.includes(g.key)&&(b.current=!0)},u=()=>b.current=!1;return document.addEventListener("keydown",l),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",u)}},[]),s.jsx(Ce,{asChild:!0,...f,focusable:!n,active:h,children:s.jsx(ie,{disabled:n,required:o.required,checked:h,...x,...r,name:o.name,ref:R,onCheck:()=>o.onValueChange(r.value),onKeyDown:K(l=>{l.key==="Enter"&&l.preventDefault()}),onFocus:K(r.onFocus,()=>{b.current&&c.current?.click()})})})});xe.displayName=fe;var Ve="RadioGroupIndicator",he=m.forwardRef((i,e)=>{const{__scopeRadioGroup:t,...a}=i,r=pe(t);return s.jsx(le,{...r,...a,ref:e})});he.displayName=Ve;var He=me,Te=xe,Ue=he;function Ke(i){const e=Y.c(8);let t,a;e[0]!==i?({className:t,...a}=i,e[0]=i,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let r;e[3]!==t?(r=se("grid gap-3",t),e[3]=t,e[4]=r):r=e[4];let o;return e[5]!==a||e[6]!==r?(o=s.jsx(He,{"data-slot":"radio-group",className:r,...a}),e[5]=a,e[6]=r,e[7]=o):o=e[7],o}function Ye(i){const e=Y.c(9);let t,a;e[0]!==i?({className:t,...a}=i,e[0]=i,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let r;e[3]!==t?(r=se("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),e[3]=t,e[4]=r):r=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(Ue,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(Pe,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})}),e[5]=o):o=e[5];let n;return e[6]!==a||e[7]!==r?(n=s.jsx(Te,{"data-slot":"radio-group-item",className:r,...a,children:o}),e[6]=a,e[7]=r,e[8]=n):n=e[8],n}function dt(i){const e=Y.c(61),{quiz:t,questions:a,lastAttempt:r}=i,[o,n]=m.useState(!1);let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f={},e[0]=f):f=e[0];let x;e[1]===Symbol.for("react.memo_cache_sentinel")?(x={answers:f},e[1]=x):x=e[1];const{data:c,setData:R,post:h,processing:b,errors:l}=ve(x);let u,g;e[2]!==c.answers||e[3]!==a.length?(u=()=>{const d=Object.keys(c.answers).length;n(d===a.length)},g=[c.answers,a.length],e[2]=c.answers,e[3]=a.length,e[4]=u,e[5]=g):(u=e[4],g=e[5]),m.useEffect(u,g);let j;e[6]!==h||e[7]!==t.id?(j=d=>{d.preventDefault(),h(route("quizzes.submit",t.id))},e[6]=h,e[7]=t.id,e[8]=j):j=e[8];const V=j;let L;e[9]!==c.answers||e[10]!==R?(L=(d,p)=>{R("answers",{...c.answers,[d]:p})},e[9]=c.answers,e[10]=R,e[11]=L):L=e[11];const D=L;if(r&&r.is_passed){let d;e[12]!==t.title?(d=s.jsx(W,{title:t.title}),e[12]=t.title,e[13]=d):d=e[13];let p,A;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(Ee,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),A=s.jsx(T,{className:"text-3xl mb-2",children:"Congratulations! You Passed!"}),e[14]=p,e[15]=A):(p=e[14],A=e[15]);let v;e[16]!==r.score_percentage?(v=s.jsxs(Z,{className:"text-lg",children:["Your last score was ",r.score_percentage,"%. You have completed this lesson."]}),e[16]=r.score_percentage,e[17]=v):v=e[17];let $;e[18]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(J,{className:"mt-6",onClick:Qe,children:"Continue Learning"}),e[18]=$):$=e[18];let G;e[19]!==v?(G=s.jsx("div",{className:"mx-auto max-w-4xl py-12 text-center",children:s.jsxs(U,{className:"p-8",children:[p,A,v,$]})}),e[19]=v,e[20]=G):G=e[20];let z;return e[21]!==G||e[22]!==d?(z=s.jsxs(X,{children:[d,G]}),e[21]=G,e[22]=d,e[23]=z):z=e[23],z}let _;e[24]!==t.title?(_=s.jsx(W,{title:t.title}),e[24]=t.title,e[25]=_):_=e[25];let F;e[26]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(Ge,{className:"w-6 h-6 mr-3"}),e[26]=F):F=e[26];let y;e[27]!==t.title?(y=s.jsxs(T,{className:"text-3xl flex items-center",children:[F,t.title]}),e[27]=t.title,e[28]=y):y=e[28];let w;e[29]!==t.description?(w=s.jsx(Z,{children:t.description}),e[29]=t.description,e[30]=w):w=e[30];let C;e[31]!==r||e[32]!==t.attempts||e[33]!==t.max_attempts?(C=r&&s.jsxs("p",{className:"text-sm text-yellow-600 mt-2",children:["Your last score: ",r.score_percentage,"% (",r.is_passed?"Passed":"Failed","). Attempts left: ",t.max_attempts?t.max_attempts-t.attempts.length:"Unlimited"]}),e[31]=r,e[32]=t.attempts,e[33]=t.max_attempts,e[34]=C):C=e[34];let N;e[35]!==w||e[36]!==C||e[37]!==y?(N=s.jsx(U,{className:"mb-6",children:s.jsxs(ee,{children:[y,w,C]})}),e[35]=w,e[36]=C,e[37]=y,e[38]=N):N=e[38];let k;if(e[39]!==l||e[40]!==D||e[41]!==a){let d;e[43]!==l||e[44]!==D?(d=(p,A)=>s.jsxs(U,{children:[s.jsx(ee,{children:s.jsxs(T,{className:"text-xl",children:[A+1,". ",p.text,s.jsxs("span",{className:"text-sm text-muted-foreground ml-2 font-normal",children:["(",p.type.replace("_"," "),")"]})]})}),s.jsxs(Se,{children:[s.jsx(Ke,{onValueChange:v=>D(p.id,parseInt(v)),children:p.answers.map(v=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-neutral-50 dark:hover:bg-neutral-800 cursor-pointer",children:[s.jsx(Ye,{value:v.id.toString(),id:`q${p.id}-a${v.id}`}),s.jsx(ke,{htmlFor:`q${p.id}-a${v.id}`,className:"font-normal cursor-pointer",children:v.text})]},v.id))}),l[`answers.${p.id}`]&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:l[`answers.${p.id}`]})]})]},p.id),e[43]=l,e[44]=D,e[45]=d):d=e[45],k=a.map(d),e[39]=l,e[40]=D,e[41]=a,e[42]=k}else k=e[42];const H=b||!o;let S;e[46]!==b?(S=b&&s.jsx(Re,{className:"h-4 w-4 animate-spin"}),e[46]=b,e[47]=S):S=e[47];let E;e[48]!==H||e[49]!==S?(E=s.jsxs(J,{type:"submit",className:"w-full h-12 text-lg",disabled:H,children:[S,"Submit Quiz"]}),e[48]=H,e[49]=S,e[50]=E):E=e[50];let I;e[51]!==V||e[52]!==k||e[53]!==E?(I=s.jsxs("form",{onSubmit:V,className:"space-y-6",children:[k,E]}),e[51]=V,e[52]=k,e[53]=E,e[54]=I):I=e[54];let P;e[55]!==N||e[56]!==I?(P=s.jsxs("div",{className:"mx-auto max-w-4xl py-8",children:[N,I]}),e[55]=N,e[56]=I,e[57]=P):P=e[57];let M;return e[58]!==P||e[59]!==_?(M=s.jsxs(X,{children:[_,P]}),e[58]=P,e[59]=_,e[60]=M):M=e[60],M}function Qe(){return be.visit(route("student.learning"))}export{dt as default};
