import{c as G,r as P,j as t,L as J}from"./app-Bstsps3g.js";import{I as K}from"./input-BGu6p6pk.js";import{B as M,c as O}from"./button-D3kOv09s.js";import{c as q,b as Q}from"./card-BhFwCvbN.js";import{s as T}from"./sheet-DclfX4JH.js";import{P as V}from"./PublicLayout-DTlNhhuT.js";import{S as W}from"./search-C2uQvwTj.js";import{S as X}from"./star-9_ZOFtYN.js";/* empty css            */import"./index-BaV0EGTG.js";import"./index-CIlPjn5k.js";import"./index-Dc5gxj5P.js";import"./menu-SfnmOw_s.js";function fe(r){const e=G.c(48),{courses:b,categories:j,canRegister:Z}=r;let y;e[0]!==b?(y=b===void 0?[]:b,e[0]=b,e[1]=y):y=e[1];const F=y;let N;e[2]!==j?(N=j===void 0?[]:j,e[2]=j,e[3]=N):N=e[3];const a=N,z=a[0],[o,D]=P.useState(""),[s,R]=P.useState(z?.slug??null);let v;if(e[4]!==F||e[5]!==o||e[6]!==s){let l;e[8]!==o||e[9]!==s?(l=i=>{const H=!s||i.category?.slug===s,U=i.title?.toLowerCase().includes(o.toLowerCase());return H&&U},e[8]=o,e[9]=s,e[10]=l):l=e[10],v=F.filter(l),e[4]=F,e[5]=o,e[6]=s,e[7]=v}else v=e[7];const n=v;let w;e[11]!==a||e[12]!==s?(w=a.find(l=>l.slug===s)||null,e[11]=a,e[12]=s,e[13]=w):w=e[13];const $=w;let C,S;e[14]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("h1",{className:"text-2xl font-bold",children:"Explore all courses"}),S=t.jsx("p",{className:"text-muted-foreground mt-1",children:"Learn new skills from top instructors"}),e[14]=C,e[15]=S):(C=e[14],S=e[15]);let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=l=>D(l.target.value),e[16]=k):k=e[16];let c;e[17]!==o?(c=t.jsx(K,{placeholder:"Search courses...",value:o,onChange:k,className:"rounded-r-none border-r-0"}),e[17]=o,e[18]=c):c=e[18];let _;e[19]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(M,{className:"rounded-l-none px-4",children:t.jsx(W,{className:"w-5 h-5"})}),e[19]=_):_=e[19];let m;e[20]!==c?(m=t.jsx("div",{className:"relative h-56 md:h-72 rounded-lg overflow-hidden shadow-xl bg-gradient-to-r from-blue-600 to-teal-500 mb-10",children:t.jsx("div",{className:"absolute inset-0 p-6 md:p-14 flex items-center",children:t.jsxs(q,{className:"max-w-md p-6 shadow-2xl",children:[C,S,t.jsxs("div",{className:"mt-4 flex",children:[c,_]})]})})}),e[20]=c,e[21]=m):m=e[21];let L;e[22]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Browse by category"}),e[22]=L):L=e[22];let d;if(e[23]!==a||e[24]!==s){let l;e[26]!==s?(l=i=>t.jsx("button",{onClick:()=>R(i.slug),className:O("inline-block py-2 px-4 font-medium rounded-t-md transition-colors",i.slug===s?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"),children:i.name},i.slug),e[26]=s,e[27]=l):l=e[27],d=a.map(l),e[23]=a,e[24]=s,e[25]=d}else d=e[25];let E;e[28]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("button",{onClick:()=>R(null),className:"inline-block py-2 px-4 font-medium text-primary",children:"All Courses"}),e[28]=E):E=e[28];let x;e[29]!==d?(x=t.jsxs("div",{className:"border-b pb-2 overflow-x-auto whitespace-nowrap sticky top-16 bg-white dark:bg-gray-900 z-40",children:[d,E]}),e[29]=d,e[30]=x):x=e[30];const I=$?`Courses in ${$.name}`:"All Courses";let f;e[31]!==I?(f=t.jsx("h3",{className:"text-2xl font-bold mb-2",children:I}),e[31]=I,e[32]=f):f=e[32];let A;e[33]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl",children:"High-quality courses curated for you."}),e[33]=A):A=e[33];let h;e[34]!==n?(h=n.map(Y),e[34]=n,e[35]=h):h=e[35];let u;e[36]!==n.length?(u=n.length===0&&t.jsx("p",{className:"col-span-full text-muted-foreground",children:"No courses found."}),e[36]=n.length,e[37]=u):u=e[37];let p;e[38]!==h||e[39]!==u?(p=t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[h,u]}),e[38]=h,e[39]=u,e[40]=p):p=e[40];let g;e[41]!==f||e[42]!==p?(g=t.jsxs("div",{className:"py-12",children:[f,A,p]}),e[41]=f,e[42]=p,e[43]=g):g=e[43];let B;return e[44]!==m||e[45]!==x||e[46]!==g?(B=t.jsx(t.Fragment,{children:t.jsx(V,{title:"All Courses",children:t.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:t.jsx("main",{className:"pt-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[m,L,x,g]})})})})}),e[44]=m,e[45]=x,e[46]=g,e[47]=B):B=e[47],B}function Y(r){return t.jsx(J,{href:T("courses.show",{course:r.slug}),children:t.jsx(q,{className:"h-full transition-all hover:-translate-y-0.5 hover:shadow-xl",children:t.jsxs(Q,{className:"p-3",children:[t.jsx("div",{className:"h-24 bg-muted rounded-md mb-3"}),t.jsx("p",{className:"font-semibold text-sm line-clamp-2",children:r.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:r.instructor?.name}),t.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(X,{className:"w-3 h-3 fill-yellow-500 text-yellow-500 mr-1"}),r.average_rating?.toFixed(1)??"0.0"]}),t.jsx("span",{className:"font-bold text-primary",children:r.price>0?`USD ${r.price}`:"Free"})]})]})})},r.id)}export{fe as default};
