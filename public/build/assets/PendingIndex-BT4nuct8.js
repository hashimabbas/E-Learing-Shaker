import{c as b,j as e,H as N,b as f,t as j}from"./app-CUDF69xZ.js";import{c as v}from"./app-layout-DLnLEqOr.js";import{B as u}from"./button-38VRl2q1.js";import{T as p,a as n,b as w,c as r,d as _,e as C}from"./table-CboLmeuh.js";import{B as P}from"./badge-DyMyxhuH.js";import{C as T}from"./clock-DE-5X-yU.js";import{C as S}from"./circle-check-big-Co3Fn6CX.js";import{C as k}from"./circle-x-fqXUBKTO.js";/* empty css            */import"./sheet-CXPQ_6BX.js";import"./index-CYr8ny6L.js";import"./index-BCW4iuIz.js";import"./index-Dc5gxj5P.js";import"./sparkles-DcuQrY8N.js";import"./chevron-right-DEKvaY95.js";function Q(i){const s=b.c(9),{pendingOrders:h}=i;let l;s[0]!==h?(l=h||{data:[],links:[]},s[0]=h,s[1]=l):l=s[1];const o=l,g=R,y=A;let c;s[2]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(N,{title:"Pending Payments"}),s[2]=c):c=s[2];let m;s[3]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pending Payments"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve Bank Transfer requests."})]})}),s[3]=m):m=s[3];let d;s[4]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsx(w,{children:e.jsxs(p,{children:[e.jsx(r,{children:"Order #"}),e.jsx(r,{children:"User"}),e.jsx(r,{children:"Date"}),e.jsx(r,{children:"Amount"}),e.jsx(r,{children:"Status"}),e.jsx(r,{className:"text-right",children:"Actions"})]})}),s[4]=d):d=s[4];let a;s[5]!==o.data?(a=o.data.length>0?o.data.map(t=>e.jsxs(p,{children:[e.jsx(n,{className:"font-mono",children:t.order_number}),e.jsx(n,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:t.user.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.user.email})]})}),e.jsx(n,{children:new Date(t.created_at).toLocaleDateString()}),e.jsxs(n,{className:"font-bold",children:["USD ",Number(t.total_amount).toFixed(2)]}),e.jsx(n,{children:e.jsxs(P,{variant:"outline",className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[e.jsx(T,{className:"w-3 h-3 mr-1"})," Pending"]})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(u,{size:"sm",variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-50 hover:text-green-800",onClick:()=>g(t.id),children:[e.jsx(S,{className:"w-4 h-4 mr-1"})," Approve"]}),e.jsxs(u,{size:"sm",variant:"outline",className:"border-red-200 text-red-700 hover:bg-red-50 hover:text-red-800",onClick:()=>y(t.id),children:[e.jsx(k,{className:"w-4 h-4 mr-1"})," Reject"]})]})})]},t.id)):e.jsx(p,{children:e.jsx(n,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No pending payments found."})}),s[5]=o.data,s[6]=a):a=s[6];let x;return s[7]!==a?(x=e.jsxs(v,{title:"Pending Payments",children:[c,e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m,e.jsx("div",{className:"bg-card rounded-xl border shadow-sm overflow-hidden",children:e.jsxs(_,{children:[d,e.jsx(C,{children:a})]})})]})]}),s[7]=a,s[8]=x):x=s[8],x}function A(i){confirm("Are you sure you want to REJECT this payment?")&&f.post(route("admin.payments.reject",i),{},{onSuccess:B})}function B(){return j.success("Payment rejected")}function R(i){confirm("Are you sure you want to approve this payment? The user will be enrolled immediately.")&&f.post(route("admin.payments.approve",i),{},{onSuccess:D})}function D(){return j.success("Payment approved successfully")}export{Q as default};
