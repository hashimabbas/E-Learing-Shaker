import{c as b,j as e,H as N,b as f,t as j}from"./app-DyKQlprP.js";import{c as v}from"./app-layout-CNoPMChV.js";import{B as u}from"./button-DPAe4nkm.js";import{T as p,a as n,b as w,c as r,d as _,e as C}from"./table-BBdTMGo9.js";import{B as P}from"./badge-BuGvogzK.js";import{C as T}from"./clock-DAIvy18j.js";import{C as R}from"./circle-check-big-BFluiIGh.js";import{C as S}from"./circle-x-BZoiK9qW.js";/* empty css            */import"./sheet-CgJcP9pL.js";import"./index-Db6oHuYG.js";import"./index-RQsC1uI6.js";import"./index-Dc5gxj5P.js";import"./users-3NLWVyAt.js";function K(l){const s=b.c(9),{pendingOrders:h}=l;let i;s[0]!==h?(i=h||{data:[],links:[]},s[0]=h,s[1]=i):i=s[1];const o=i,g=B,y=k;let c;s[2]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(N,{title:"Pending Payments"}),s[2]=c):c=s[2];let d;s[3]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pending Payments"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve Bank Transfer requests."})]})}),s[3]=d):d=s[3];let m;s[4]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsx(w,{children:e.jsxs(p,{children:[e.jsx(r,{children:"Order #"}),e.jsx(r,{children:"User"}),e.jsx(r,{children:"Date"}),e.jsx(r,{children:"Amount"}),e.jsx(r,{children:"Status"}),e.jsx(r,{className:"text-right",children:"Actions"})]})}),s[4]=m):m=s[4];let a;s[5]!==o.data?(a=o.data.length>0?o.data.map(t=>e.jsxs(p,{children:[e.jsx(n,{className:"font-mono",children:t.order_number}),e.jsx(n,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:t.user.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.user.email})]})}),e.jsx(n,{children:new Date(t.created_at).toLocaleDateString()}),e.jsxs(n,{className:"font-bold",children:["OMR ",Number(t.total_amount).toFixed(2)]}),e.jsx(n,{children:e.jsxs(P,{variant:"outline",className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[e.jsx(T,{className:"w-3 h-3 mr-1"})," Pending"]})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(u,{size:"sm",variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-50 hover:text-green-800",onClick:()=>g(t.id),children:[e.jsx(R,{className:"w-4 h-4 mr-1"})," Approve"]}),e.jsxs(u,{size:"sm",variant:"outline",className:"border-red-200 text-red-700 hover:bg-red-50 hover:text-red-800",onClick:()=>y(t.id),children:[e.jsx(S,{className:"w-4 h-4 mr-1"})," Reject"]})]})})]},t.id)):e.jsx(p,{children:e.jsx(n,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No pending payments found."})}),s[5]=o.data,s[6]=a):a=s[6];let x;return s[7]!==a?(x=e.jsxs(v,{title:"Pending Payments",children:[c,e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d,e.jsx("div",{className:"bg-card rounded-xl border shadow-sm overflow-hidden",children:e.jsxs(_,{children:[m,e.jsx(C,{children:a})]})})]})]}),s[7]=a,s[8]=x):x=s[8],x}function k(l){confirm("Are you sure you want to REJECT this payment?")&&f.post(route("admin.payments.reject",l),{},{onSuccess:A})}function A(){return j.success("Payment rejected")}function B(l){confirm("Are you sure you want to approve this payment? The user will be enrolled immediately.")&&f.post(route("admin.payments.approve",l),{},{onSuccess:E})}function E(){return j.success("Payment approved successfully")}export{K as default};
