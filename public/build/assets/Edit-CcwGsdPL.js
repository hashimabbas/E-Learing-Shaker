import{d as Rs,r as Y,j as t,c as ze,a as ts,e as kl,t as Ne,f as al,b as $e,H as Cl,L as rl,C as zl}from"./app-Bstsps3g.js";import{U as Tl,f as Dl,L as il,c as Fl}from"./app-layout-B9t54lyS.js";import{c as Me,B as $}from"./button-D3kOv09s.js";import{a as Le,C as Ae,b as qe,c as je,d as Ls}from"./card-BhFwCvbN.js";import{c as ql,P as Il,a as Ks,u as Al}from"./index-BaV0EGTG.js";import{f as ml,I as Ql,R as El,u as Pl,g as Ll,s as $s}from"./sheet-DclfX4JH.js";import{P as Os}from"./index-CIlPjn5k.js";import{I as fe}from"./input-BGu6p6pk.js";import{L as P}from"./label-CkwNT3-J.js";import{T as ls}from"./textarea-CekqPXSg.js";import{I as K}from"./input-error-DlEuXY7X.js";import{d as Ws,S as Xs,a as Js,b as el,c as Qe}from"./select-BW5PT1jp.js";import{D as $l,a as Ml,d as Ul,e as Rl}from"./dialog-D_WSbIa5.js";import{P as Ol}from"./progress-svLBkRmF.js";import{V as Ms}from"./video-BmgFt7dQ.js";import{D as Vl}from"./download-CgcR37ju.js";import{C as Bl}from"./checkbox-NTawSGN3.js";import{C as Hl}from"./circle-check-big-D0DEYpaI.js";import{C as Gl}from"./circle-x-BaThGiZE.js";import{T as as}from"./trash-2-BdSBmPdW.js";import{C as rs}from"./circle-plus-C67QD05r.js";import{S as nl}from"./square-pen-CDDmtU0D.js";import{B as is}from"./badge--IEZ7h-h.js";import{S as ol}from"./separator-Y5CGY1eU.js";import{C as ss}from"./circle-help-Cz30r6IU.js";import{A as Kl}from"./arrow-left-B3h2RW1M.js";import{P as Yl}from"./play-BnU1sJKX.js";import{B as Ys}from"./badge-dollar-sign-CXHcK78w.js";import{F as Zl}from"./file-text-CSL5sKJT.js";/* empty css            */import"./index-Dc5gxj5P.js";import"./book-open-PaEaI_bu.js";import"./chevron-right-D-9VoYhh.js";import"./index-BLubefuO.js";import"./chevron-down-COoeOZxe.js";import"./check-oF8UNYdg.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],tl=Rs("ListOrdered",Wl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ul=Rs("Pen",Xl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cl=Rs("Save",Jl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ta=Rs("Upload",ea);var Vs="Tabs",[sa,cr]=ql(Vs,[ml]),fl=ml(),[la,sl]=sa(Vs),xl=Y.forwardRef((n,e)=>{const{__scopeTabs:s,value:l,onValueChange:o,defaultValue:m,orientation:u="horizontal",dir:x,activationMode:N="automatic",...w}=n,y=Pl(x),[h,_]=Al({prop:l,onChange:o,defaultProp:m??"",caller:Vs});return t.jsx(la,{scope:s,baseId:Ll(),value:h,onValueChange:_,orientation:u,dir:y,activationMode:N,children:t.jsx(Os.div,{dir:y,"data-orientation":u,...w,ref:e})})});xl.displayName=Vs;var hl="TabsList",pl=Y.forwardRef((n,e)=>{const{__scopeTabs:s,loop:l=!0,...o}=n,m=sl(hl,s),u=fl(s);return t.jsx(El,{asChild:!0,...u,orientation:m.orientation,dir:m.dir,loop:l,children:t.jsx(Os.div,{role:"tablist","aria-orientation":m.orientation,...o,ref:e})})});pl.displayName=hl;var gl="TabsTrigger",bl=Y.forwardRef((n,e)=>{const{__scopeTabs:s,value:l,disabled:o=!1,...m}=n,u=sl(gl,s),x=fl(s),N=vl(u.baseId,l),w=yl(u.baseId,l),y=l===u.value;return t.jsx(Ql,{asChild:!0,...x,focusable:!o,active:y,children:t.jsx(Os.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":w,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:N,...m,ref:e,onMouseDown:Ks(n.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?u.onValueChange(l):h.preventDefault()}),onKeyDown:Ks(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&u.onValueChange(l)}),onFocus:Ks(n.onFocus,()=>{const h=u.activationMode!=="manual";!y&&!o&&h&&u.onValueChange(l)})})})});bl.displayName=gl;var jl="TabsContent",_l=Y.forwardRef((n,e)=>{const{__scopeTabs:s,value:l,forceMount:o,children:m,...u}=n,x=sl(jl,s),N=vl(x.baseId,l),w=yl(x.baseId,l),y=l===x.value,h=Y.useRef(y);return Y.useEffect(()=>{const _=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(_)},[]),t.jsx(Il,{present:o||y,children:({present:_})=>t.jsx(Os.div,{"data-state":y?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":N,hidden:!_,id:w,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:_&&m})})});_l.displayName=jl;function vl(n,e){return`${n}-trigger-${e}`}function yl(n,e){return`${n}-content-${e}`}var aa=xl,ra=pl,ia=bl,na=_l;function Nl(n){const e=ze.c(8);let s,l;e[0]!==n?({className:s,...l}=n,e[0]=n,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("flex flex-col gap-2",s),e[3]=s,e[4]=o):o=e[4];let m;return e[5]!==l||e[6]!==o?(m=t.jsx(aa,{"data-slot":"tabs",className:o,...l}),e[5]=l,e[6]=o,e[7]=m):m=e[7],m}function wl(n){const e=ze.c(8);let s,l;e[0]!==n?({className:s,...l}=n,e[0]=n,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),e[3]=s,e[4]=o):o=e[4];let m;return e[5]!==l||e[6]!==o?(m=t.jsx(ra,{"data-slot":"tabs-list",className:o,...l}),e[5]=l,e[6]=o,e[7]=m):m=e[7],m}function Ee(n){const e=ze.c(8);let s,l;e[0]!==n?({className:s,...l}=n,e[0]=n,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[3]=s,e[4]=o):o=e[4];let m;return e[5]!==l||e[6]!==o?(m=t.jsx(ia,{"data-slot":"tabs-trigger",className:o,...l}),e[5]=l,e[6]=o,e[7]=m):m=e[7],m}function Pe(n){const e=ze.c(8);let s,l;e[0]!==n?({className:s,...l}=n,e[0]=n,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("flex-1 outline-none",s),e[3]=s,e[4]=o):o=e[4];let m;return e[5]!==l||e[6]!==o?(m=t.jsx(na,{"data-slot":"tabs-content",className:o,...l}),e[5]=l,e[6]=o,e[7]=m):m=e[7],m}function oa(n){const e=ze.c(92),{courseId:s,lesson:l,onSave:o,onCancel:m}=n,u=!!l?.id,x=l?.id||null,N=l?.title||"",w=l?.description||"",y=l?.type||"video",h=l?.order||0,_=l?.is_free_preview||!1;let q;e[0]!==s||e[1]!==x||e[2]!==N||e[3]!==w||e[4]!==y||e[5]!==h||e[6]!==_?(q={id:x,course_id:s,title:N,description:w,type:y,order:h,is_free_preview:_},e[0]=s,e[1]=x,e[2]=N,e[3]=w,e[4]=y,e[5]=h,e[6]=_,e[7]=q):q=e[7];const{data:p,setData:f,post:i,patch:c,processing:r,errors:a,reset:C}=ts(q);let g;e[8]!==p.id||e[9]!==u||e[10]!==o||e[11]!==c||e[12]!==i||e[13]!==C?(g=b=>{b.preventDefault();const F=u?"instructor.lessons.update":"instructor.lessons.store",D=u?p.id:void 0;u?c(route(F,D),{onSuccess:()=>{o(),C()},preserveScroll:!0}):i(route(F,D),{onSuccess:()=>{o(),C()},preserveScroll:!0})},e[8]=p.id,e[9]=u,e[10]=o,e[11]=c,e[12]=i,e[13]=C,e[14]=g):g=e[14];const d=g,z=u?"Edit Lesson":"Add New Lesson";let S;e[15]!==z?(S=t.jsx(Le,{children:t.jsx(Ae,{children:z})}),e[15]=z,e[16]=S):S=e[16];let T;e[17]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(P,{htmlFor:"title",children:"Title"}),e[17]=T):T=e[17];let k;e[18]!==f?(k=b=>f("title",b.target.value),e[18]=f,e[19]=k):k=e[19];let A;e[20]!==p.title||e[21]!==k?(A=t.jsx(fe,{id:"title",value:p.title,onChange:k,required:!0}),e[20]=p.title,e[21]=k,e[22]=A):A=e[22];let I;e[23]!==a.title?(I=t.jsx(K,{message:a.title}),e[23]=a.title,e[24]=I):I=e[24];let M;e[25]!==A||e[26]!==I?(M=t.jsxs("div",{className:"space-y-2",children:[T,A,I]}),e[25]=A,e[26]=I,e[27]=M):M=e[27];let L;e[28]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(P,{htmlFor:"description",children:"Description"}),e[28]=L):L=e[28];let j;e[29]!==f?(j=b=>f("description",b.target.value),e[29]=f,e[30]=j):j=e[30];let V;e[31]!==p.description||e[32]!==j?(V=t.jsx(ls,{id:"description",value:p.description,onChange:j,rows:3}),e[31]=p.description,e[32]=j,e[33]=V):V=e[33];let Q;e[34]!==a.description?(Q=t.jsx(K,{message:a.description}),e[34]=a.description,e[35]=Q):Q=e[35];let _e;e[36]!==V||e[37]!==Q?(_e=t.jsxs("div",{className:"space-y-2",children:[L,V,Q]}),e[36]=V,e[37]=Q,e[38]=_e):_e=e[38];let xe;e[39]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(P,{htmlFor:"order",children:"Order"}),e[39]=xe):xe=e[39];let U;e[40]!==f?(U=b=>f("order",parseInt(b.target.value)),e[40]=f,e[41]=U):U=e[41];let le;e[42]!==p.order||e[43]!==U?(le=t.jsx(fe,{id:"order",type:"number",value:p.order,onChange:U,required:!0}),e[42]=p.order,e[43]=U,e[44]=le):le=e[44];let B;e[45]!==a.order?(B=t.jsx(K,{message:a.order}),e[45]=a.order,e[46]=B):B=e[46];let ae;e[47]!==le||e[48]!==B?(ae=t.jsxs("div",{className:"space-y-2",children:[xe,le,B]}),e[47]=le,e[48]=B,e[49]=ae):ae=e[49];let J;e[50]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(P,{htmlFor:"type",children:"Lesson Type"}),e[50]=J):J=e[50];let re;e[51]!==f?(re=b=>f("type",b),e[51]=f,e[52]=re):re=e[52];let de;e[53]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(Xs,{children:t.jsx(Js,{placeholder:"Select Type"})}),e[53]=de):de=e[53];let ie;e[54]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs(el,{children:[t.jsx(Qe,{value:"video",children:"Video"}),t.jsx(Qe,{value:"downloadable",children:"E-book/PDF"}),t.jsx(Qe,{value:"quiz",children:"Quiz"}),t.jsx(Qe,{value:"text",children:"Text"})]}),e[54]=ie):ie=e[54];let ee;e[55]!==p.type||e[56]!==re?(ee=t.jsxs(Ws,{onValueChange:re,value:p.type,children:[de,ie]}),e[55]=p.type,e[56]=re,e[57]=ee):ee=e[57];let he;e[58]!==a.type?(he=t.jsx(K,{message:a.type}),e[58]=a.type,e[59]=he):he=e[59];let ne;e[60]!==ee||e[61]!==he?(ne=t.jsxs("div",{className:"space-y-2",children:[J,ee,he]}),e[60]=ee,e[61]=he,e[62]=ne):ne=e[62];let Z;e[63]!==ae||e[64]!==ne?(Z=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ae,ne]}),e[63]=ae,e[64]=ne,e[65]=Z):Z=e[65];let W;e[66]!==f?(W=b=>f("is_free_preview",b.target.checked),e[66]=f,e[67]=W):W=e[67];let X;e[68]!==p.is_free_preview||e[69]!==W?(X=t.jsx("input",{type:"checkbox",id:"preview",checked:p.is_free_preview,onChange:W,className:"form-checkbox"}),e[68]=p.is_free_preview,e[69]=W,e[70]=X):X=e[70];let te;e[71]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(P,{htmlFor:"preview",className:"font-normal",children:"Allow Free Preview"}),e[71]=te):te=e[71];let H;e[72]!==X?(H=t.jsxs("div",{className:"flex items-center space-x-2",children:[X,te]}),e[72]=X,e[73]=H):H=e[73];let G;e[74]!==m?(G=t.jsx($,{type:"button",variant:"secondary",onClick:m,children:"Cancel"}),e[74]=m,e[75]=G):G=e[75];const ve=u?"Save Changes":"Add Lesson";let R;e[76]!==r||e[77]!==ve?(R=t.jsx($,{type:"submit",disabled:r,children:ve}),e[76]=r,e[77]=ve,e[78]=R):R=e[78];let me;e[79]!==G||e[80]!==R?(me=t.jsxs("div",{className:"flex justify-end space-x-2",children:[G,R]}),e[79]=G,e[80]=R,e[81]=me):me=e[81];let O;e[82]!==d||e[83]!==M||e[84]!==_e||e[85]!==Z||e[86]!==H||e[87]!==me?(O=t.jsx(qe,{children:t.jsxs("form",{onSubmit:d,className:"space-y-4",children:[M,_e,Z,H,me]})}),e[82]=d,e[83]=M,e[84]=_e,e[85]=Z,e[86]=H,e[87]=me,e[88]=O):O=e[88];let se;return e[89]!==S||e[90]!==O?(se=t.jsxs(je,{className:"shadow-lg border-primary/50",children:[S,O]}),e[89]=S,e[90]=O,e[91]=se):se=e[91],se}const Zs=10*1024*1024;function ca({lessonId:n,lessonType:e,onUploadSuccess:s}){const{data:l,setData:o,errors:m,reset:u}=ts({resource_file:null}),[x,N]=Y.useState(!1),[w,y]=Y.useState(0),h=e==="video",_=h?"video/mp4,video/quicktime":"application/pdf",q=h?t.jsx(Ms,{className:"h-4 w-4 mr-2"}):t.jsx(Vl,{className:"h-4 w-4 mr-2"}),p=async f=>{if(f.preventDefault(),!l.resource_file){Ne.error("Please select a file to upload.");return}const i=l.resource_file,c=Math.ceil(i.size/Zs),r=`${i.name}-${i.size}-${Date.now()}`.replace(/[^a-zA-Z0-9]/g,"-");N(!0),y(0);try{for(let a=0;a<c;a++){const C=a*Zs,g=Math.min(i.size,C+Zs),d=i.slice(C,g),z=new FormData;z.append("file",d),z.append("file_id",r),z.append("chunk_index",a.toString()),z.append("total_chunks",c.toString()),await al.post(route("instructor.upload_chunk"),z,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:S=>{const T=S.loaded/(S.total||d.size)*100,k=a/c*100+T/c;y(Math.round(k))}})}await al.post(route("instructor.finish_upload",n),{file_id:r,total_chunks:c,original_name:i.name,lesson_type:e}),Ne.success("Resource uploaded and processed successfully."),s(),u("resource_file")}catch(a){console.error("Upload failed:",a),Ne.error(a.response?.data?.message||"Upload failed. Please try again.")}finally{N(!1),y(0)}};return t.jsxs("form",{onSubmit:p,className:"space-y-4 p-6 border rounded-2xl bg-muted/30 shadow-sm",children:[t.jsxs("h3",{className:"text-xl font-black italic tracking-tight uppercase flex items-center",children:[q," Upload ",h?"Video Lecture":"E-Book PDF"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(P,{htmlFor:"resource_file",className:"text-sm font-bold uppercase tracking-widest text-muted-foreground/80",children:h?"Select Video File":"Select PDF File"}),t.jsx(fe,{id:"resource_file",type:"file",accept:_,className:"h-12 border-muted-foreground/20 rounded-xl bg-background/50 cursor-pointer pt-2",onChange:f=>o("resource_file",f.target.files?f.target.files[0]:null),disabled:x,required:!0}),t.jsx(K,{message:m.resource_file})]}),t.jsx($,{type:"submit",disabled:x,className:"w-full h-12 rounded-xl font-black text-lg shadow-lg",children:x?t.jsxs(t.Fragment,{children:[t.jsx(kl,{className:"w-5 h-5 mr-2 animate-spin"})," Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ta,{className:"w-5 h-5 mr-2"})," Start Secure Upload"]})}),x&&t.jsxs("div",{className:"space-y-3 pt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-widest text-primary",children:[t.jsx("span",{children:"Transmitting Data..."}),t.jsxs("span",{children:[w,"%"]})]}),t.jsx(Ol,{value:w,className:"h-2 rounded-full shadow-inner"})]})]})}function da(n){const e=ze.c(34),{lessonId:s,initialContent:l,initialTitle:o,initialOrder:m,initialIsFreePreview:u,onSave:x}=n;let N;e[0]!==l||e[1]!==u||e[2]!==m||e[3]!==o?(N={description:l,title:o,order:m,is_free_preview:u},e[0]=l,e[1]=u,e[2]=m,e[3]=o,e[4]=N):N=e[4];const{data:w,setData:y,patch:h,processing:_,errors:q}=ts(N);let p;e[5]!==s||e[6]!==x||e[7]!==h?(p=A=>{A.preventDefault(),h(route("instructor.lessons.update",s),{onSuccess:()=>{Ne.success("Text content saved successfully."),x()},onError:ma,preserveScroll:!0})},e[5]=s,e[6]=x,e[7]=h,e[8]=p):p=e[8];const f=p;let i;e[9]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("h3",{className:"text-lg font-semibold",children:"Edit Text Content"}),e[9]=i):i=e[9];let c;e[10]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(P,{htmlFor:"content",children:"Lesson Text Content (Supports Markdown)"}),e[10]=c):c=e[10];let r;e[11]!==y?(r=A=>y("description",A.target.value),e[11]=y,e[12]=r):r=e[12];let a;e[13]!==w.description||e[14]!==r?(a=t.jsx(ls,{id:"content",value:w.description,onChange:r,rows:10,required:!0}),e[13]=w.description,e[14]=r,e[15]=a):a=e[15];let C;e[16]!==q.description?(C=t.jsx(K,{message:q.description}),e[16]=q.description,e[17]=C):C=e[17];let g;e[18]!==a||e[19]!==C?(g=t.jsxs("div",{className:"space-y-2",children:[c,a,C]}),e[18]=a,e[19]=C,e[20]=g):g=e[20];const d=_?"Saving...":"Save Text Content";let z;e[21]!==_||e[22]!==d?(z=t.jsx($,{type:"submit",disabled:_,children:d}),e[21]=_,e[22]=d,e[23]=z):z=e[23];let S;e[24]!==w.order||e[25]!==w.title?(S=t.jsxs("p",{className:"text-sm text-muted-foreground pt-2 border-t mt-4",children:["Updating content for: **",w.title,"** (Order: ",w.order,")"]}),e[24]=w.order,e[25]=w.title,e[26]=S):S=e[26];let T;e[27]!==z||e[28]!==S?(T=t.jsxs("div",{className:"flex justify-end space-x-2",children:[z,S]}),e[27]=z,e[28]=S,e[29]=T):T=e[29];let k;return e[30]!==f||e[31]!==T||e[32]!==g?(k=t.jsxs("form",{onSubmit:f,className:"space-y-4 p-4 border rounded-lg bg-white dark:bg-neutral-900",children:[i,g,T]}),e[30]=f,e[31]=T,e[32]=g,e[33]=k):k=e[33],k}function ma(n){return console.error("Text content save failed:",n)}const Us=()=>Date.now()+Math.random(),dl=[{local_id:Us(),text:"",is_correct:!0},{local_id:Us(),text:"",is_correct:!1}],ua=n=>n.map(e=>({local_id:e.id||Us(),id:e.id,text:e.text,is_correct:e.is_correct}));function fa(n){const e=ze.c(116),{lessonId:s,quizId:l,lessonTitle:o,onQuizCreated:m,onQuestionSaved:u,initialQuestion:x}=n;let N;e[0]!==x||e[1]!==l?(N=x?{id:x.id,text:x.text,type:x.type,answers:ua(x.answers),quiz_id:l}:{id:null,text:"",type:"single_choice",answers:dl,quiz_id:l},e[0]=x,e[1]=l,e[2]=N):N=e[2];const w=N;let y;e[3]!==s||e[4]!==o?(y={lesson_id:s,title:o,pass_percentage:70},e[3]=s,e[4]=o,e[5]=y):y=e[5];const{data:h,setData:_,post:q,processing:p,errors:f}=ts(y),{data:i,setData:c,post:r,put:a,processing:C,errors:g,reset:d}=ts(w);let z;e[6]!==i.quiz_id||e[7]!==l||e[8]!==c?(z=()=>{l&&i.quiz_id!==l&&c("quiz_id",l)},e[6]=i.quiz_id,e[7]=l,e[8]=c,e[9]=z):z=e[9];let S;e[10]!==l?(S=[l],e[10]=l,e[11]=S):S=e[11],Y.useEffect(z,S);let T;e[12]!==i.answers||e[13]!==c?(T=(b,F)=>{const D=i.answers.map((E,oe)=>oe===b?{...E,text:F}:E);c("answers",D)},e[12]=i.answers,e[13]=c,e[14]=T):T=e[14];const k=T;let A;e[15]!==i.answers||e[16]!==i.type||e[17]!==c?(A=b=>{let F;i.type==="single_choice"||i.type==="true_false"?F=i.answers.map((D,E)=>({...D,is_correct:E===b})):F=i.answers.map((D,E)=>({...D,is_correct:E===b?!D.is_correct:D.is_correct})),c("answers",F)},e[15]=i.answers,e[16]=i.type,e[17]=c,e[18]=A):A=e[18];const I=A;let M;e[19]!==i.answers||e[20]!==c?(M=()=>{c("answers",[...i.answers,{local_id:Us(),text:"",is_correct:!1}])},e[19]=i.answers,e[20]=c,e[21]=M):M=e[21];const L=M;let j;e[22]!==m||e[23]!==q?(j=b=>{b.preventDefault(),q(route("instructor.quizzes.store"),{onSuccess:()=>m(),preserveScroll:!0,onError:pa})},e[22]=m,e[23]=q,e[24]=j):j=e[24];const V=j;let Q;e[25]!==u||e[26]!==r||e[27]!==a||e[28]!==i||e[29]!==d||e[30]!==l||e[31]!==c?(Q=b=>{b.preventDefault();const F=i.answers.filter(ha).length;if(i.answers.length<2||F===0){Ne.error("Question must have at least two answers and one correct answer.");return}const D=!!i.id,E=D?a:r,oe=D?"instructor.quizzes.question.update":"instructor.quizzes.question.add",ce=D?{question:i.id}:{quiz:l};E(route(oe,ce),i,{onSuccess:()=>{d("text"),c("answers",dl),u(),Ne.success(`Question ${D?"updated":"added"} successfully!`)},onError:xa,preserveScroll:!0})},e[25]=u,e[26]=r,e[27]=a,e[28]=i,e[29]=d,e[30]=l,e[31]=c,e[32]=Q):Q=e[32];const _e=Q;if(!l){let b;e[33]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(Le,{children:t.jsx(Ae,{className:"text-xl",children:"Quiz Not Initialized"})}),e[33]=b):b=e[33];let F;e[34]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("p",{className:"mb-4 text-muted-foreground",children:"This lesson does not have a Quiz record yet. You must create the Quiz before adding questions."}),e[34]=F):F=e[34];let D;e[35]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(P,{htmlFor:"quiz-title",children:"Quiz Title"}),e[35]=D):D=e[35];let E;e[36]!==_?(E=Ie=>_("title",Ie.target.value),e[36]=_,e[37]=E):E=e[37];let oe;e[38]!==h.title||e[39]!==E?(oe=t.jsx(fe,{id:"quiz-title",value:h.title,onChange:E,required:!0}),e[38]=h.title,e[39]=E,e[40]=oe):oe=e[40];let ce;e[41]!==f.title?(ce=t.jsx(K,{message:f.title}),e[41]=f.title,e[42]=ce):ce=e[42];let pe;e[43]!==oe||e[44]!==ce?(pe=t.jsxs("div",{className:"space-y-2",children:[D,oe,ce]}),e[43]=oe,e[44]=ce,e[45]=pe):pe=e[45];let Te;e[46]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(P,{htmlFor:"pass-percentage",children:"Pass Percentage (%)"}),e[46]=Te):Te=e[46];let we;e[47]!==_?(we=Ie=>_("pass_percentage",parseInt(Ie.target.value)),e[47]=_,e[48]=we):we=e[48];let Se;e[49]!==h.pass_percentage||e[50]!==we?(Se=t.jsx(fe,{id:"pass-percentage",type:"number",min:"1",max:"100",value:h.pass_percentage,onChange:we,required:!0}),e[49]=h.pass_percentage,e[50]=we,e[51]=Se):Se=e[51];let ge;e[52]!==f.pass_percentage?(ge=t.jsx(K,{message:f.pass_percentage}),e[52]=f.pass_percentage,e[53]=ge):ge=e[53];let ke;e[54]!==Se||e[55]!==ge?(ke=t.jsxs("div",{className:"space-y-2",children:[Te,Se,ge]}),e[54]=Se,e[55]=ge,e[56]=ke):ke=e[56];const Ce=p?"Creating...":"Initialize Quiz";let be;e[57]!==p||e[58]!==Ce?(be=t.jsx($,{type:"submit",disabled:p,children:Ce}),e[57]=p,e[58]=Ce,e[59]=be):be=e[59];let De;return e[60]!==V||e[61]!==pe||e[62]!==ke||e[63]!==be?(De=t.jsxs(je,{children:[b,t.jsxs(qe,{children:[F,t.jsxs("form",{onSubmit:V,className:"space-y-4",children:[pe,ke,be]})]})]}),e[60]=V,e[61]=pe,e[62]=ke,e[63]=be,e[64]=De):De=e[64],De}const xe=i.id?"Editing Question":"Add New Question";let U;e[65]!==xe?(U=t.jsx(Le,{className:"p-0",children:t.jsx(Ae,{className:"text-lg",children:xe})}),e[65]=xe,e[66]=U):U=e[66];let le;e[67]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(P,{htmlFor:"question-text",children:"Question Text"}),e[67]=le):le=e[67];let B;e[68]!==c?(B=b=>c("text",b.target.value),e[68]=c,e[69]=B):B=e[69];let ae;e[70]!==i.text||e[71]!==B?(ae=t.jsx(ls,{id:"question-text",value:i.text,onChange:B,required:!0,rows:3}),e[70]=i.text,e[71]=B,e[72]=ae):ae=e[72];let J;e[73]!==g.text?(J=t.jsx(K,{message:g.text}),e[73]=g.text,e[74]=J):J=e[74];let re;e[75]!==ae||e[76]!==J?(re=t.jsxs("div",{className:"space-y-2",children:[le,ae,J]}),e[75]=ae,e[76]=J,e[77]=re):re=e[77];let de;e[78]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(P,{htmlFor:"type",children:"Question Type"}),e[78]=de):de=e[78];let ie;e[79]!==c?(ie=b=>c("type",b),e[79]=c,e[80]=ie):ie=e[80];let ee;e[81]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Xs,{id:"type",children:t.jsx(Js,{placeholder:"Select Type"})}),e[81]=ee):ee=e[81];let he;e[82]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsxs(el,{children:[t.jsx(Qe,{value:"single_choice",children:"Single Choice"}),t.jsx(Qe,{value:"multiple_choice",children:"Multiple Choice"}),t.jsx(Qe,{value:"true_false",children:"True/False"})]}),e[82]=he):he=e[82];let ne;e[83]!==i.type||e[84]!==ie?(ne=t.jsxs(Ws,{onValueChange:ie,value:i.type,children:[ee,he]}),e[83]=i.type,e[84]=ie,e[85]=ne):ne=e[85];let Z;e[86]!==g.type?(Z=t.jsx(K,{message:g.type}),e[86]=g.type,e[87]=Z):Z=e[87];let W;e[88]!==ne||e[89]!==Z?(W=t.jsxs("div",{className:"space-y-2",children:[de,ne,Z]}),e[88]=ne,e[89]=Z,e[90]=W):W=e[90];const X=Array.isArray(i.answers)?i.answers.length:0;let te;e[91]!==X?(te=t.jsxs("h4",{className:"font-semibold border-b pb-2",children:["Answers (",X,")"]}),e[91]=X,e[92]=te):te=e[92];let H;e[93]!==k||e[94]!==I||e[95]!==i.answers||e[96]!==i.type||e[97]!==c?(H=Array.isArray(i.answers)&&i.answers.map((b,F)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[i.type==="multiple_choice"?t.jsxs("div",{className:"flex h-9 items-center space-x-2",children:[t.jsx(Bl,{id:`answer-check-${F}`,checked:b.is_correct,onCheckedChange:()=>I(F)}),t.jsx(P,{htmlFor:`answer-check-${F}`,className:"font-normal cursor-pointer",children:"Correct"})]}):t.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-md border text-sm font-medium transition-colors cursor-pointer
                        ${b.is_correct?"bg-green-500 text-white hover:bg-green-600":"bg-background hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,onClick:()=>I(F),title:b.is_correct?"Correct Answer":"Mark as Correct",children:b.is_correct?t.jsx(Hl,{className:"w-4 h-4"}):t.jsx(Gl,{className:"w-4 h-4"})}),t.jsx(fe,{placeholder:`Answer Option ${F+1}`,value:b.text,onChange:D=>k(F,D.target.value),required:!0}),t.jsx($,{type:"button",variant:"destructive",size:"icon",disabled:i.answers.length<=2,onClick:()=>c("answers",i.answers.filter((D,E)=>E!==F)),children:t.jsx(as,{className:"w-4 h-4"})})]},b.local_id)),e[93]=k,e[94]=I,e[95]=i.answers,e[96]=i.type,e[97]=c,e[98]=H):H=e[98];let G;e[99]!==H?(G=t.jsx("div",{className:"space-y-3",children:H}),e[99]=H,e[100]=G):G=e[100];let ve;e[101]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(rs,{className:"w-4 h-4 mr-2"}),e[101]=ve):ve=e[101];let R;e[102]!==L?(R=t.jsxs($,{type:"button",variant:"secondary",onClick:L,children:[ve," Add Answer Option"]}),e[102]=L,e[103]=R):R=e[103];const me=C?"Saving...":"Save Question";let O;e[104]!==C||e[105]!==me?(O=t.jsx($,{type:"submit",disabled:C,className:"w-full",children:me}),e[104]=C,e[105]=me,e[106]=O):O=e[106];let se;return e[107]!==_e||e[108]!==U||e[109]!==re||e[110]!==W||e[111]!==te||e[112]!==G||e[113]!==R||e[114]!==O?(se=t.jsx(je,{children:t.jsx(qe,{children:t.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[U,re,W,te,G,R,O]})})}),e[107]=_e,e[108]=U,e[109]=re,e[110]=W,e[111]=te,e[112]=G,e[113]=R,e[114]=O,e[115]=se):se=e[115],se}function xa(n){console.error("Submission Error:",n)}function ha(n){return n.is_correct&&n.text.trim()!==""}function pa(n){return console.error("Quiz Creation Error:",n)}function ga(n){const e=ze.c(35),{lessonId:s,quizId:l,lessonTitle:o,onQuizCreated:m,onQuestionSaved:u,existingQuestions:x}=n,[N,w]=Y.useState("manage"),[y,h]=Y.useState(x),[_,q]=Y.useState(null),p=_?"Edit Question":"Add New Question";let f,i;e[0]!==x?(f=()=>{h(x)},i=[x],e[0]=x,e[1]=f,e[2]=i):(f=e[1],i=e[2]),Y.useEffect(f,i);let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=Q=>{q(Q),w("add")},e[3]=c):c=e[3];const r=c;let a;e[4]!==u?(a=()=>{q(null),w("manage"),u()},e[4]=u,e[5]=a):a=e[5];const C=a;let g;e[6]!==u?(g=Q=>{confirm("Are you sure you want to delete this question?")&&$e.delete(route("instructor.quizzes.question.destroy",Q),{onSuccess:()=>{Ne.success("Question deleted successfully!"),u()},preserveScroll:!0})},e[6]=u,e[7]=g):g=e[7];const d=g;let z;e[8]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs(Ee,{value:"manage",className:"flex items-center",children:[t.jsx(tl,{className:"w-4 h-4 mr-2"})," View/Manage Questions"]}),e[8]=z):z=e[8];let S;e[9]!==_?(S=_?t.jsx(nl,{className:"w-4 h-4 mr-2"}):t.jsx(rs,{className:"w-4 h-4 mr-2"}),e[9]=_,e[10]=S):S=e[10];let T;e[11]!==S||e[12]!==p?(T=t.jsxs(wl,{className:"grid w-full grid-cols-2",children:[z,t.jsxs(Ee,{value:"add",className:"flex items-center",children:[S,p]})]}),e[11]=S,e[12]=p,e[13]=T):T=e[13];let k;e[14]!==d||e[15]!==y?(k=y.length===0?t.jsx("p",{className:"text-muted-foreground",children:"No questions found for this quiz."}):y.map(Q=>t.jsxs("div",{className:"border p-4 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("p",{className:"font-semibold",children:Q.text}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs($,{size:"icon",variant:"outline",title:"Edit",onClick:()=>r(Q),children:[" ",t.jsx(nl,{className:"w-4 h-4"})]}),t.jsx($,{size:"icon",variant:"destructive",onClick:()=>d(Q.id),children:t.jsx(as,{className:"w-4 h-4"})})]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Answers: ",Q.answers.length]})]},Q.id)),e[14]=d,e[15]=y,e[16]=k):k=e[16];let A;e[17]===Symbol.for("react.memo_cache_sentinel")?(A=()=>w("add"),e[17]=A):A=e[17];const I=!l;let M;e[18]!==I?(M=t.jsx($,{onClick:A,disabled:I,className:"w-full",children:"Add First Question"}),e[18]=I,e[19]=M):M=e[19];let L;e[20]!==M||e[21]!==k?(L=t.jsx(Pe,{value:"manage",className:"mt-4 max-h-[60vh] overflow-y-auto",children:t.jsx(je,{children:t.jsxs(qe,{className:"space-y-4 pt-4",children:[k,M]})})}),e[20]=M,e[21]=k,e[22]=L):L=e[22];let j;e[23]!==_||e[24]!==C||e[25]!==s||e[26]!==o||e[27]!==m||e[28]!==l?(j=t.jsx(Pe,{value:"add",className:"mt-4 max-h-[60vh] overflow-y-auto",children:l?t.jsx(fa,{lessonId:s,quizId:l,lessonTitle:o,initialQuestion:_,onQuizCreated:m,onQuestionSaved:C}):t.jsxs(je,{className:"p-4",children:[t.jsx(Ae,{className:"text-lg",children:"Initialize Quiz First"}),t.jsx("p",{className:"text-muted-foreground mt-2",children:"You must initialize the Quiz from the main Curriculum tab before you can add questions here."})]})}),e[23]=_,e[24]=C,e[25]=s,e[26]=o,e[27]=m,e[28]=l,e[29]=j):j=e[29];let V;return e[30]!==N||e[31]!==L||e[32]!==j||e[33]!==T?(V=t.jsxs(Nl,{value:N,onValueChange:w,className:"w-full",children:[T,L,j]}),e[30]=N,e[31]=L,e[32]=j,e[33]=T,e[34]=V):V=e[34],V}const ba=n=>{const e=ze.c(21),{lessons:s,courseId:l,onUpdate:o,onContentEdit:m}=n,[u,x]=Y.useState(!1),[N,w]=Y.useState(null),y=Sa;let h;e[0]!==o?(h=()=>{x(!1),w(null),o(),Ne.success("Lesson details saved.")},e[0]=o,e[1]=h):h=e[1];const _=h;let q;e[2]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Course Curriculum"}),t.jsx("p",{className:"text-muted-foreground font-medium text-sm",children:"Manage lessons, modules, and learning assessments."})]}),e[2]=q):q=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=()=>x(!0),e[3]=p):p=e[3];const f=u||!!N;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(rs,{className:"h-4 w-4 mr-2"}),e[4]=i):i=e[4];let c;e[5]!==f?(c=t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[q,t.jsxs($,{onClick:p,disabled:f,className:"rounded-full px-6 font-bold shadow-lg shadow-primary/10",children:[i," New Lesson"]})]}),e[5]=f,e[6]=c):c=e[6];let r;e[7]!==l||e[8]!==N||e[9]!==_||e[10]!==u?(r=(u||N)&&t.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-500",children:t.jsx(oa,{courseId:l,lesson:N,onSave:_,onCancel:()=>{x(!1),w(null)}})}),e[7]=l,e[8]=N,e[9]=_,e[10]=u,e[11]=r):r=e[11];let a;e[12]!==s||e[13]!==m?(a=s.length>0?s.sort(ka).map(d=>t.jsx(je,{className:"group border shadow-sm hover:shadow-md transition-all overflow-hidden bg-card/50",children:t.jsx(qe,{className:"p-0",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center p-4 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-muted font-black text-muted-foreground text-sm border",children:d.order}),t.jsx("div",{className:Me("flex h-10 w-10 items-center justify-center rounded-xl border relative",d.type==="quiz"?"bg-rose-50 text-rose-600 border-rose-100":d.type==="video"?"bg-blue-50 text-blue-600 border-blue-100":"bg-emerald-50 text-emerald-600 border-emerald-100"),children:d.type==="quiz"?t.jsx(ss,{className:"h-5 w-5"}):d.type==="video"?t.jsx(Ms,{className:"h-5 w-5"}):t.jsx(Zl,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left",children:[t.jsx("h4",{className:"font-bold text-lg truncate leading-snug",children:d.title}),t.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3 mt-1",children:[t.jsx(is,{variant:"outline",className:"capitalize text-[10px] h-5 px-1.5 font-bold tracking-widest bg-background",children:d.type}),d.is_free_preview&&t.jsx(is,{className:"bg-green-500 hover:bg-green-600 text-white border-none text-[10px] h-5 px-1.5 font-bold uppercase tracking-widest",children:"Free Preview"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 pt-2 sm:pt-0",children:[t.jsx($,{variant:"secondary",size:"sm",className:"font-bold h-9 px-4 rounded-lg bg-background border shadow-sm",onClick:()=>m(d),children:"Edit Content"}),t.jsx($,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg hover:bg-primary/10 hover:text-primary",onClick:()=>w(d),children:t.jsx(ul,{className:"w-4 h-4"})}),t.jsx($,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg hover:bg-destructive/10 hover:text-destructive",onClick:()=>y(d.id),children:t.jsx(as,{className:"w-4 h-4"})})]})]})})},d.id)):t.jsxs("div",{className:"py-12 border-2 border-dashed rounded-3xl text-center space-y-3 bg-muted/20",children:[t.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:t.jsx(tl,{className:"h-6 w-6 text-muted-foreground/40"})}),t.jsx("p",{className:"text-muted-foreground font-bold italic",children:"No lessons in this curriculum yet."}),t.jsx($,{variant:"ghost",className:"text-primary font-black",onClick:()=>x(!0),children:"Create the first lesson"})]}),e[12]=s,e[13]=m,e[14]=a):a=e[14];let C;e[15]!==a?(C=t.jsx("div",{className:"grid gap-3",children:a}),e[15]=a,e[16]=C):C=e[16];let g;return e[17]!==c||e[18]!==r||e[19]!==C?(g=t.jsxs("div",{className:"space-y-6",children:[c,r,C]}),e[17]=c,e[18]=r,e[19]=C,e[20]=g):g=e[20],g};function dr(n){const e=ze.c(309),{course:s,categories:l}=n,o=s.title||"",m=s.title_ar||"",u=s.description||"",x=s.description_ar||"";let N;e[0]!==s.category_id?(N=s.category_id?s.category_id.toString():"",e[0]=s.category_id,e[1]=N):N=e[1];const w=s.price||0;let y;e[2]!==s.learning_outcomes?(y=s.learning_outcomes?.length>0?s.learning_outcomes:[""],e[2]=s.learning_outcomes,e[3]=y):y=e[3];const h=y;let _;e[4]!==s.learning_outcomes_ar?(_=s.learning_outcomes_ar?.length>0?s.learning_outcomes_ar:[""],e[4]=s.learning_outcomes_ar,e[5]=_):_=e[5];const q=_,p=s.discount_percentage||0;let f;e[6]!==s.discount_start_date?(f=s.discount_start_date?new Date(s.discount_start_date).toISOString().slice(0,16):"",e[6]=s.discount_start_date,e[7]=f):f=e[7];let i;e[8]!==s.discount_end_date?(i=s.discount_end_date?new Date(s.discount_end_date).toISOString().slice(0,16):"",e[8]=s.discount_end_date,e[9]=i):i=e[9];let c;e[10]!==o||e[11]!==q||e[12]!==p||e[13]!==f||e[14]!==i||e[15]!==m||e[16]!==u||e[17]!==x||e[18]!==N||e[19]!==w||e[20]!==h?(c={title:o,title_ar:m,description:u,description_ar:x,category_id:N,price:w,learning_outcomes:h,learning_outcomes_ar:q,discount_percentage:p,discount_start_date:f,discount_end_date:i},e[10]=o,e[11]=q,e[12]=p,e[13]=f,e[14]=i,e[15]=m,e[16]=u,e[17]=x,e[18]=N,e[19]=w,e[20]=h,e[21]=c):c=e[21];const{data:r,setData:a,patch:C,processing:g,errors:d}=ts(c);let z;e[22]!==r||e[23]!==a?(z=v=>{const ye=v==="en"?"learning_outcomes":"learning_outcomes_ar";a(ye,[...r[ye],""])},e[22]=r,e[23]=a,e[24]=z):z=e[24];const S=z;let T;e[25]!==r||e[26]!==a?(T=(v,ye)=>{const ue=v==="en"?"learning_outcomes":"learning_outcomes_ar",Fe=[...r[ue]];Fe.splice(ye,1),a(ue,Fe)},e[25]=r,e[26]=a,e[27]=T):T=e[27];const k=T;let A;e[28]!==r||e[29]!==a?(A=(v,ye,ue)=>{const Fe=v==="en"?"learning_outcomes":"learning_outcomes_ar",ll=[...r[Fe]];ll[ye]=ue,a(Fe,ll)},e[28]=r,e[29]=a,e[30]=A):A=e[30];const I=A,[M,L]=Y.useState(!1),[j,V]=Y.useState(null),[Q,_e]=Y.useState("details");let xe;e[31]!==s.id||e[32]!==C?(xe=v=>{v.preventDefault(),C($s("instructor.courses.update",s.id),{onSuccess:Na,preserveScroll:!0})},e[31]=s.id,e[32]=C,e[33]=xe):xe=e[33];const U=xe,le=ya;let B;e[34]===Symbol.for("react.memo_cache_sentinel")?(B=v=>{V(v),L(!0)},e[34]=B):B=e[34];const ae=B;let J;e[35]===Symbol.for("react.memo_cache_sentinel")?(J=()=>{L(!1),$e.reload({only:["course"]}),Ne.success("Resource attached successfully.")},e[35]=J):J=e[35];const re=J;let de;e[36]!==s.lessons||e[37]!==j?(de=()=>{L(!1),$e.reload({only:["course"]},{onSuccess:()=>{const v=s.lessons.find(ye=>ye.id===j.id);v&&v.quiz?.id?(V(v),L(!0),Ne.success("Quiz created! Let's add some questions.")):le()}})},e[36]=s.lessons,e[37]=j,e[38]=de):de=e[38];const ie=de;let ee;e[39]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>{L(!1),$e.reload({only:["course"]})},e[39]=ee):ee=e[39];const he=ee,ne=va,Z=`Edit: ${s.title}`,W=`Edit: ${s.title}`;let X;e[40]!==W?(X=t.jsx(Cl,{title:W}),e[40]=W,e[41]=X):X=e[41];let te;e[42]===Symbol.for("react.memo_cache_sentinel")?(te=$s("instructor.courses.index"),e[42]=te):te=e[42];let H;e[43]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs(rl,{href:te,className:"flex items-center text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[t.jsx(Kl,{className:"mr-2 h-4 w-4"})," Back to Catalog"]}),e[43]=H):H=e[43];let G;e[44]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(is,{variant:"secondary",className:"px-3 py-1 font-bold text-xs bg-primary/10 text-primary border-primary/20",children:"COURSE BUILDER"}),e[44]=G):G=e[44];const ve=s.is_published?"text-green-600 bg-green-50 border-green-200":"text-yellow-600 bg-yellow-50 border-yellow-200";let R;e[45]!==ve?(R=Me("px-3 py-1 font-bold text-xs",ve),e[45]=ve,e[46]=R):R=e[46];const me=s.is_published?"LIVE":"DRAFT";let O;e[47]!==R||e[48]!==me?(O=t.jsxs("div",{className:"flex items-center gap-3",children:[G,t.jsx(is,{variant:"outline",className:R,children:me})]}),e[47]=R,e[48]=me,e[49]=O):O=e[49];let se;e[50]!==s.title?(se=t.jsx("h1",{className:"text-4xl font-extrabold tracking-tight md:text-5xl leading-tight text-foreground truncate",children:s.title}),e[50]=s.title,e[51]=se):se=e[51];let b;e[52]!==s.id?(b=t.jsxs("span",{className:"text-foreground tracking-widest",children:["#",s.id]}),e[52]=s.id,e[53]=b):b=e[53];const F=s.category?.name;let D;e[54]!==b||e[55]!==F?(D=t.jsxs("p",{className:"text-muted-foreground text-lg font-medium max-w-xl line-clamp-1",children:["Course ID: ",b," • ",F]}),e[54]=b,e[55]=F,e[56]=D):D=e[56];let E;e[57]!==s.slug?(E=$s("courses.learn",s.slug),e[57]=s.slug,e[58]=E):E=e[58];let oe;e[59]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsxs($,{className:"h-11 rounded-full px-6 font-extrabold shadow-lg shadow-primary/20 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Yl,{className:"mr-2 h-4 w-4"})," Preview as Student"]}),e[59]=oe):oe=e[59];let ce;e[60]!==E?(ce=t.jsx("div",{className:"flex flex-wrap gap-3 pt-4",children:t.jsx(rl,{href:E,target:"_blank",children:oe})}),e[60]=E,e[61]=ce):ce=e[61];let pe;e[62]!==O||e[63]!==se||e[64]!==D||e[65]!==ce?(pe=t.jsxs("div",{className:"space-y-4 max-w-2xl",children:[O,se,D,ce]}),e[62]=O,e[63]=se,e[64]=D,e[65]=ce,e[66]=pe):pe=e[66];let Te;e[67]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsxs(je,{className:"p-4 border-none shadow-sm bg-background flex flex-col items-center justify-center text-center",children:[t.jsx(Tl,{className:"h-5 w-5 mb-1 text-primary"}),t.jsx("span",{className:"text-lg font-black leading-none",children:"1.2k"}),t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Students"})]}),e[67]=Te):Te=e[67];let we;e[68]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsxs(je,{className:"p-4 border-none shadow-sm bg-background flex flex-col items-center justify-center text-center",children:[t.jsx(Ys,{className:"h-5 w-5 mb-1 text-green-600"}),t.jsx("span",{className:"text-lg font-black leading-none",children:"USD 4.5k"}),t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Revenue"})]}),e[68]=we):we=e[68];let Se;e[69]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(zl,{className:"h-5 w-5 mb-1 text-blue-600"}),e[69]=Se):Se=e[69];let ge;e[70]!==s.lessons.length?(ge=t.jsx("span",{className:"text-lg font-black leading-none",children:s.lessons.length}),e[70]=s.lessons.length,e[71]=ge):ge=e[71];let ke;e[72]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Lessons"}),e[72]=ke):ke=e[72];let Ce;e[73]!==ge?(Ce=t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[Te,we,t.jsxs(je,{className:"hidden sm:flex p-4 border-none shadow-sm bg-background flex-col items-center justify-center text-center",children:[Se,ge,ke]})]}),e[73]=ge,e[74]=Ce):Ce=e[74];let be;e[75]!==pe||e[76]!==Ce?(be=t.jsx("div",{className:"border-b bg-muted/30 py-8 lg:py-12",children:t.jsxs("div",{className:"container mx-auto px-4",children:[H,t.jsxs("div",{className:"mt-8 flex flex-col lg:flex-row lg:items-end justify-between gap-10",children:[pe,Ce]})]})}),e[75]=pe,e[76]=Ce,e[77]=be):be=e[77];let De;e[78]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsxs(Ee,{value:"details",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(ul,{className:"w-4 h-4"})," General Details"]}),e[78]=De):De=e[78];let Ie;e[79]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsxs(Ee,{value:"curriculum",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(tl,{className:"w-4 h-4"})," Curriculum Builder"]}),e[79]=Ie):Ie=e[79];let ns;e[80]===Symbol.for("react.memo_cache_sentinel")?(ns=t.jsxs(Ee,{value:"media",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(Ms,{className:"w-4 h-4"})," Content Status"]}),e[80]=ns):ns=e[80];let os;e[81]===Symbol.for("react.memo_cache_sentinel")?(os=t.jsxs(Ee,{value:"quizzes",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(ss,{className:"w-4 h-4"})," Assessments"]}),e[81]=os):os=e[81];let cs;e[82]===Symbol.for("react.memo_cache_sentinel")?(cs=t.jsx("div",{className:"bg-muted/30 p-1.5 rounded-2xl inline-flex mb-8 border backdrop-blur-sm",children:t.jsxs(wl,{className:"bg-transparent h-auto gap-1",children:[De,Ie,ns,os,t.jsxs(Ee,{value:"offers",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(Ys,{className:"w-4 h-4"})," Promotions"]})]})}),e[82]=cs):cs=e[82];let ds;e[83]===Symbol.for("react.memo_cache_sentinel")?(ds=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(Dl,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Basic Settings"}),t.jsx(Ls,{children:"Fundamental details about the course."})]})]})}),e[83]=ds):ds=e[83];let ms;e[84]===Symbol.for("react.memo_cache_sentinel")?(ms=t.jsx(P,{htmlFor:"title",className:"text-base font-bold tracking-tight",children:"Title"}),e[84]=ms):ms=e[84];let Ue;e[85]!==a?(Ue=v=>a("title",v.target.value),e[85]=a,e[86]=Ue):Ue=e[86];let Re;e[87]!==r.title||e[88]!==Ue?(Re=t.jsx(fe,{id:"title",className:"h-14 text-lg font-bold border-muted-foreground/20 rounded-xl px-5 bg-muted/10 shadow-inner",value:r.title,onChange:Ue,required:!0}),e[87]=r.title,e[88]=Ue,e[89]=Re):Re=e[89];let Oe;e[90]!==d.title?(Oe=t.jsx(K,{message:d.title}),e[90]=d.title,e[91]=Oe):Oe=e[91];let Ve;e[92]!==Re||e[93]!==Oe?(Ve=t.jsxs("div",{className:"space-y-3",children:[ms,Re,Oe]}),e[92]=Re,e[93]=Oe,e[94]=Ve):Ve=e[94];let us;e[95]===Symbol.for("react.memo_cache_sentinel")?(us=t.jsx(P,{htmlFor:"title_ar",className:"text-base font-bold tracking-tight text-right block",children:"Title (Arabic)"}),e[95]=us):us=e[95];let Be;e[96]!==a?(Be=v=>a("title_ar",v.target.value),e[96]=a,e[97]=Be):Be=e[97];let He;e[98]!==r.title_ar||e[99]!==Be?(He=t.jsxs("div",{className:"space-y-3",children:[us,t.jsx(fe,{id:"title_ar",dir:"rtl",className:"h-14 text-lg font-bold border-muted-foreground/20 rounded-xl px-5 bg-muted/10 shadow-inner",value:r.title_ar,onChange:Be})]}),e[98]=r.title_ar,e[99]=Be,e[100]=He):He=e[100];let fs;e[101]===Symbol.for("react.memo_cache_sentinel")?(fs=t.jsx(P,{htmlFor:"description",className:"text-base font-bold tracking-tight",children:"Description"}),e[101]=fs):fs=e[101];let Ge;e[102]!==a?(Ge=v=>a("description",v.target.value),e[102]=a,e[103]=Ge):Ge=e[103];let Ke;e[104]!==r.description||e[105]!==Ge?(Ke=t.jsx(ls,{id:"description",className:"min-h-[160px] text-lg font-medium border-muted-foreground/20 rounded-xl p-5 bg-muted/10 shadow-inner resize-none leading-relaxed",value:r.description,onChange:Ge,required:!0}),e[104]=r.description,e[105]=Ge,e[106]=Ke):Ke=e[106];let Ye;e[107]!==d.description?(Ye=t.jsx(K,{message:d.description}),e[107]=d.description,e[108]=Ye):Ye=e[108];let Ze;e[109]!==Ke||e[110]!==Ye?(Ze=t.jsxs("div",{className:"space-y-3",children:[fs,Ke,Ye]}),e[109]=Ke,e[110]=Ye,e[111]=Ze):Ze=e[111];let xs;e[112]===Symbol.for("react.memo_cache_sentinel")?(xs=t.jsx(P,{htmlFor:"description_ar",className:"text-base font-bold tracking-tight text-right block",children:"Description (Arabic)"}),e[112]=xs):xs=e[112];let We;e[113]!==a?(We=v=>a("description_ar",v.target.value),e[113]=a,e[114]=We):We=e[114];let Xe;e[115]!==r.description_ar||e[116]!==We?(Xe=t.jsxs("div",{className:"space-y-3",children:[xs,t.jsx(ls,{id:"description_ar",dir:"rtl",className:"min-h-[160px] text-lg font-medium border-muted-foreground/20 rounded-xl p-5 bg-muted/10 shadow-inner resize-none leading-relaxed",value:r.description_ar,onChange:We})]}),e[115]=r.description_ar,e[116]=We,e[117]=Xe):Xe=e[117];let hs;e[118]===Symbol.for("react.memo_cache_sentinel")?(hs=t.jsx(ol,{className:"my-8 border-dashed"}),e[118]=hs):hs=e[118];let ps;e[119]===Symbol.for("react.memo_cache_sentinel")?(ps=t.jsx(P,{className:"text-base font-bold tracking-tight",children:"What will students learn?"}),e[119]=ps):ps=e[119];let Je;e[120]!==S?(Je=()=>S("en"),e[120]=S,e[121]=Je):Je=e[121];let gs;e[122]===Symbol.for("react.memo_cache_sentinel")?(gs=t.jsx(rs,{className:"w-4 h-4 mr-1"}),e[122]=gs):gs=e[122];let et;e[123]!==Je?(et=t.jsxs("div",{className:"flex items-center justify-between",children:[ps,t.jsxs($,{type:"button",variant:"ghost",size:"sm",className:"text-primary font-bold",onClick:Je,children:[gs," Add Outcome"]})]}),e[123]=Je,e[124]=et):et=e[124];let tt;if(e[125]!==r.learning_outcomes||e[126]!==I||e[127]!==k){let v;e[129]!==r.learning_outcomes.length||e[130]!==I||e[131]!==k?(v=(ye,ue)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(fe,{placeholder:`Outcome #${ue+1}`,className:"h-12 border-muted-foreground/20 rounded-xl bg-muted/5 shadow-inner",value:ye,onChange:Fe=>I("en",ue,Fe.target.value)}),r.learning_outcomes.length>1&&t.jsx($,{type:"button",variant:"ghost",size:"icon",className:"h-12 w-12 rounded-xl text-muted-foreground hover:text-destructive",onClick:()=>k("en",ue),children:t.jsx(as,{className:"w-5 h-5"})})]},ue),e[129]=r.learning_outcomes.length,e[130]=I,e[131]=k,e[132]=v):v=e[132],tt=r.learning_outcomes.map(v),e[125]=r.learning_outcomes,e[126]=I,e[127]=k,e[128]=tt}else tt=e[128];let st;e[133]!==tt?(st=t.jsx("div",{className:"space-y-3",children:tt}),e[133]=tt,e[134]=st):st=e[134];let lt;e[135]!==d.learning_outcomes?(lt=t.jsx(K,{message:d.learning_outcomes}),e[135]=d.learning_outcomes,e[136]=lt):lt=e[136];let at;e[137]!==et||e[138]!==st||e[139]!==lt?(at=t.jsxs("div",{className:"space-y-4",children:[et,st,lt]}),e[137]=et,e[138]=st,e[139]=lt,e[140]=at):at=e[140];let bs;e[141]===Symbol.for("react.memo_cache_sentinel")?(bs=t.jsx(P,{className:"text-base font-bold tracking-tight text-right block w-full",children:"ماذا سيتعلم الطلاب؟ (بالعربية)"}),e[141]=bs):bs=e[141];let rt;e[142]!==S?(rt=()=>S("ar"),e[142]=S,e[143]=rt):rt=e[143];let js;e[144]===Symbol.for("react.memo_cache_sentinel")?(js=t.jsx(rs,{className:"w-4 h-4 mr-1"}),e[144]=js):js=e[144];let it;e[145]!==rt?(it=t.jsxs("div",{className:"flex items-center justify-between",children:[bs,t.jsxs($,{type:"button",variant:"ghost",size:"sm",className:"text-primary font-bold",onClick:rt,children:[js," إضافة مخرجات"]})]}),e[145]=rt,e[146]=it):it=e[146];let nt;if(e[147]!==r.learning_outcomes_ar||e[148]!==I||e[149]!==k){let v;e[151]!==r.learning_outcomes_ar.length||e[152]!==I||e[153]!==k?(v=(ye,ue)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(fe,{dir:"rtl",placeholder:`المخرج #${ue+1}`,className:"h-12 border-muted-foreground/20 rounded-xl bg-muted/5 shadow-inner",value:ye,onChange:Fe=>I("ar",ue,Fe.target.value)}),r.learning_outcomes_ar.length>1&&t.jsx($,{type:"button",variant:"ghost",size:"icon",className:"h-12 w-12 rounded-xl text-muted-foreground hover:text-destructive",onClick:()=>k("ar",ue),children:t.jsx(as,{className:"w-5 h-5"})})]},ue),e[151]=r.learning_outcomes_ar.length,e[152]=I,e[153]=k,e[154]=v):v=e[154],nt=r.learning_outcomes_ar.map(v),e[147]=r.learning_outcomes_ar,e[148]=I,e[149]=k,e[150]=nt}else nt=e[150];let ot;e[155]!==nt?(ot=t.jsx("div",{className:"space-y-3",children:nt}),e[155]=nt,e[156]=ot):ot=e[156];let ct;e[157]!==it||e[158]!==ot?(ct=t.jsxs("div",{className:"space-y-4",children:[it,ot]}),e[157]=it,e[158]=ot,e[159]=ct):ct=e[159];let _s;e[160]===Symbol.for("react.memo_cache_sentinel")?(_s=t.jsx(P,{htmlFor:"category_id",className:"text-base font-bold tracking-tight",children:"Category"}),e[160]=_s):_s=e[160];let dt;e[161]!==a?(dt=v=>a("category_id",v),e[161]=a,e[162]=dt):dt=e[162];const Sl=r.category_id;let vs;e[163]===Symbol.for("react.memo_cache_sentinel")?(vs=t.jsx(Xs,{id:"category_id",className:"h-14 rounded-xl border-muted-foreground/20 text-lg font-medium px-5 bg-muted/10",children:t.jsx(Js,{placeholder:"Select a Category"})}),e[163]=vs):vs=e[163];let mt;e[164]!==l?(mt=l.map(_a),e[164]=l,e[165]=mt):mt=e[165];let ut;e[166]!==mt?(ut=t.jsx(el,{className:"rounded-xl",children:mt}),e[166]=mt,e[167]=ut):ut=e[167];let ft;e[168]!==r.category_id||e[169]!==dt||e[170]!==ut?(ft=t.jsxs(Ws,{onValueChange:dt,value:Sl,children:[vs,ut]}),e[168]=r.category_id,e[169]=dt,e[170]=ut,e[171]=ft):ft=e[171];let xt;e[172]!==d.category_id?(xt=t.jsx(K,{message:d.category_id}),e[172]=d.category_id,e[173]=xt):xt=e[173];let ht;e[174]!==ft||e[175]!==xt?(ht=t.jsxs("div",{className:"space-y-3",children:[_s,ft,xt]}),e[174]=ft,e[175]=xt,e[176]=ht):ht=e[176];let ys;e[177]===Symbol.for("react.memo_cache_sentinel")?(ys=t.jsx(P,{htmlFor:"price",className:"text-base font-bold tracking-tight",children:"Price (USD)"}),e[177]=ys):ys=e[177];let Ns;e[178]===Symbol.for("react.memo_cache_sentinel")?(Ns=t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl font-black text-muted-foreground",children:"USD"}),e[178]=Ns):Ns=e[178];let pt;e[179]!==a?(pt=v=>a("price",parseFloat(v.target.value)),e[179]=a,e[180]=pt):pt=e[180];let gt;e[181]!==r.price||e[182]!==pt?(gt=t.jsxs("div",{className:"relative",children:[Ns,t.jsx(fe,{id:"price",type:"number",step:"0.01",min:"0",className:"h-14 rounded-xl border-muted-foreground/20 text-xl font-black pl-16 pr-5 bg-muted/10 shadow-inner",value:r.price,onChange:pt,required:!0})]}),e[181]=r.price,e[182]=pt,e[183]=gt):gt=e[183];let bt;e[184]!==d.price?(bt=t.jsx(K,{message:d.price}),e[184]=d.price,e[185]=bt):bt=e[185];let jt;e[186]!==gt||e[187]!==bt?(jt=t.jsxs("div",{className:"space-y-3",children:[ys,gt,bt]}),e[186]=gt,e[187]=bt,e[188]=jt):jt=e[188];let _t;e[189]!==jt||e[190]!==ht?(_t=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[ht,jt]}),e[189]=jt,e[190]=ht,e[191]=_t):_t=e[191];let ws;e[192]===Symbol.for("react.memo_cache_sentinel")?(ws=t.jsx(ol,{className:"my-8 border-dashed"}),e[192]=ws):ws=e[192];let vt;e[193]!==g?(vt=g?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(cl,{className:"mr-2 h-5 w-5"})," Save Changes"]}),e[193]=g,e[194]=vt):vt=e[194];let yt;e[195]!==g||e[196]!==vt?(yt=t.jsx($,{type:"submit",size:"lg",disabled:g,className:"h-14 rounded-full px-10 font-black tracking-tight text-lg shadow-xl shadow-primary/20 transition-all hover:scale-105 active:scale-95",children:vt}),e[195]=g,e[196]=vt,e[197]=yt):yt=e[197];let Nt;e[198]!==U||e[199]!==_t||e[200]!==yt||e[201]!==Ve||e[202]!==He||e[203]!==Ze||e[204]!==Xe||e[205]!==at||e[206]!==ct?(Nt=t.jsx(Pe,{value:"details",className:"mt-0 animate-in fade-in slide-in-from-left-4 duration-500",children:t.jsxs(je,{className:"border-none shadow-xl",children:[ds,t.jsx(qe,{className:"p-8",children:t.jsxs("form",{onSubmit:U,className:"space-y-8 max-w-4xl",children:[Ve,He,Ze,Xe,hs,at,ct,_t,ws,yt]})})]})}),e[198]=U,e[199]=_t,e[200]=yt,e[201]=Ve,e[202]=He,e[203]=Ze,e[204]=Xe,e[205]=at,e[206]=ct,e[207]=Nt):Nt=e[207];let Ss;e[208]===Symbol.for("react.memo_cache_sentinel")?(Ss=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(il,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Structure Editor"}),t.jsx(Ls,{children:"Drag, drop, and refine your learning path."})]})]})}),e[208]=Ss):Ss=e[208];let wt;e[209]!==s.id||e[210]!==s.lessons?(wt=t.jsx(Pe,{value:"curriculum",className:"mt-0 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs(je,{className:"border-none shadow-xl overflow-hidden",children:[Ss,t.jsx(qe,{className:"p-8",children:t.jsx(ba,{lessons:s.lessons,courseId:s.id,onUpdate:le,onContentEdit:ae})})]})}),e[209]=s.id,e[210]=s.lessons,e[211]=wt):wt=e[211];let ks;e[212]===Symbol.for("react.memo_cache_sentinel")?(ks=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(Ms,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Content Audit"}),t.jsx(Ls,{children:"Verification of all attached learning resources."})]})]})}),e[212]=ks):ks=e[212];let Cs;e[213]===Symbol.for("react.memo_cache_sentinel")?(Cs=t.jsxs("p",{className:"text-muted-foreground mb-10 font-medium bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800 text-sm",children:[t.jsx(ss,{className:"inline h-4 w-4 mr-2 mb-0.5 text-blue-600"}),"All media management is integrated directly within the **Curriculum Builder** tab for a seamless experience."]}),e[213]=Cs):Cs=e[213];let St;e[214]!==s.lessons?(St=s.lessons.map(ja),e[214]=s.lessons,e[215]=St):St=e[215];let kt;e[216]!==St?(kt=t.jsx(Pe,{value:"media",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsxs(je,{className:"border-none shadow-xl",children:[ks,t.jsxs(qe,{className:"p-8",children:[Cs,t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:St})]})]})}),e[216]=St,e[217]=kt):kt=e[217];let zs;e[218]===Symbol.for("react.memo_cache_sentinel")?(zs=t.jsx(Pe,{value:"quizzes",className:"mt-0 animate-in fade-in zoom-in-95 duration-500"}),e[218]=zs):zs=e[218];let Ts;e[219]===Symbol.for("react.memo_cache_sentinel")?(Ts=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-green-600 border shadow-sm",children:t.jsx(Ys,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Promotion & Offers"}),t.jsx(Ls,{children:"Increase enrollments by setting temporary discounts."})]})]})}),e[219]=Ts):Ts=e[219];let Ds;e[220]===Symbol.for("react.memo_cache_sentinel")?(Ds=t.jsx(P,{htmlFor:"discount_percentage",className:"text-base font-bold tracking-tight",children:"Discount Percentage (%)"}),e[220]=Ds):Ds=e[220];let Ct;e[221]!==a?(Ct=v=>a("discount_percentage",parseInt(v.target.value)),e[221]=a,e[222]=Ct):Ct=e[222];let zt;e[223]!==r.discount_percentage||e[224]!==Ct?(zt=t.jsx(fe,{id:"discount_percentage",type:"number",min:"0",max:"100",className:"h-14 rounded-xl border-muted-foreground/20 text-xl font-black px-5 bg-muted/10 shadow-inner",value:r.discount_percentage,onChange:Ct}),e[223]=r.discount_percentage,e[224]=Ct,e[225]=zt):zt=e[225];let Fs;e[226]===Symbol.for("react.memo_cache_sentinel")?(Fs=t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl font-black text-muted-foreground",children:"%"}),e[226]=Fs):Fs=e[226];let Tt;e[227]!==zt?(Tt=t.jsxs("div",{className:"relative",children:[zt,Fs]}),e[227]=zt,e[228]=Tt):Tt=e[228];let Dt;e[229]!==d.discount_percentage?(Dt=t.jsx(K,{message:d.discount_percentage}),e[229]=d.discount_percentage,e[230]=Dt):Dt=e[230];let Ft;e[231]!==Tt||e[232]!==Dt?(Ft=t.jsxs("div",{className:"space-y-3",children:[Ds,Tt,Dt]}),e[231]=Tt,e[232]=Dt,e[233]=Ft):Ft=e[233];let qs;e[234]===Symbol.for("react.memo_cache_sentinel")?(qs=t.jsx(P,{className:"text-base font-bold tracking-tight",children:"Final Price"}),e[234]=qs):qs=e[234];const Bs=r.price*(1-r.discount_percentage/100);let qt;e[235]!==Bs?(qt=Bs.toFixed(2),e[235]=Bs,e[236]=qt):qt=e[236];let It;e[237]!==qt?(It=t.jsxs("div",{className:"space-y-3",children:[qs,t.jsxs("div",{className:"h-14 flex items-center px-5 rounded-xl bg-orange-50 border border-orange-100 text-orange-700 font-black text-xl",children:["USD ",qt]})]}),e[237]=qt,e[238]=It):It=e[238];let At;e[239]!==Ft||e[240]!==It?(At=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Ft,It]}),e[239]=Ft,e[240]=It,e[241]=At):At=e[241];let Is;e[242]===Symbol.for("react.memo_cache_sentinel")?(Is=t.jsx(P,{htmlFor:"discount_start_date",className:"text-base font-bold tracking-tight",children:"Offer Start Date"}),e[242]=Is):Is=e[242];let Qt;e[243]!==a?(Qt=v=>a("discount_start_date",v.target.value),e[243]=a,e[244]=Qt):Qt=e[244];let Et;e[245]!==r.discount_start_date||e[246]!==Qt?(Et=t.jsx(fe,{id:"discount_start_date",type:"datetime-local",className:"h-14 rounded-xl border-muted-foreground/20 font-medium px-5 bg-muted/10",value:r.discount_start_date,onChange:Qt}),e[245]=r.discount_start_date,e[246]=Qt,e[247]=Et):Et=e[247];let Pt;e[248]!==d.discount_start_date?(Pt=t.jsx(K,{message:d.discount_start_date}),e[248]=d.discount_start_date,e[249]=Pt):Pt=e[249];let Lt;e[250]!==Et||e[251]!==Pt?(Lt=t.jsxs("div",{className:"space-y-3",children:[Is,Et,Pt]}),e[250]=Et,e[251]=Pt,e[252]=Lt):Lt=e[252];let As;e[253]===Symbol.for("react.memo_cache_sentinel")?(As=t.jsx(P,{htmlFor:"discount_end_date",className:"text-base font-bold tracking-tight",children:"Offer End Date"}),e[253]=As):As=e[253];let $t;e[254]!==a?($t=v=>a("discount_end_date",v.target.value),e[254]=a,e[255]=$t):$t=e[255];let Mt;e[256]!==r.discount_end_date||e[257]!==$t?(Mt=t.jsx(fe,{id:"discount_end_date",type:"datetime-local",className:"h-14 rounded-xl border-muted-foreground/20 font-medium px-5 bg-muted/10",value:r.discount_end_date,onChange:$t}),e[256]=r.discount_end_date,e[257]=$t,e[258]=Mt):Mt=e[258];let Ut;e[259]!==d.discount_end_date?(Ut=t.jsx(K,{message:d.discount_end_date}),e[259]=d.discount_end_date,e[260]=Ut):Ut=e[260];let Rt;e[261]!==Mt||e[262]!==Ut?(Rt=t.jsxs("div",{className:"space-y-3",children:[As,Mt,Ut]}),e[261]=Mt,e[262]=Ut,e[263]=Rt):Rt=e[263];let Ot;e[264]!==Lt||e[265]!==Rt?(Ot=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Lt,Rt]}),e[264]=Lt,e[265]=Rt,e[266]=Ot):Ot=e[266];let Qs;e[267]===Symbol.for("react.memo_cache_sentinel")?(Qs=t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 flex gap-4",children:[t.jsx(ss,{className:"h-6 w-6 text-blue-600 shrink-0"}),t.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300 font-medium leading-relaxed",children:"Instructors can use offers to boost sales. Discounts are automatically applied during the specified time range. Set percentage to **0** to disable any active offer."})]}),e[267]=Qs):Qs=e[267];let Vt;e[268]!==g?(Vt=g?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(cl,{className:"mr-2 h-5 w-5"})," Update Offer Details"]}),e[268]=g,e[269]=Vt):Vt=e[269];let Bt;e[270]!==g||e[271]!==Vt?(Bt=t.jsx($,{type:"submit",size:"lg",disabled:g,className:"h-14 rounded-full px-10 font-black tracking-tight text-lg shadow-xl shadow-primary/20 transition-all hover:scale-105 active:scale-95",children:Vt}),e[270]=g,e[271]=Vt,e[272]=Bt):Bt=e[272];let Ht;e[273]!==U||e[274]!==At||e[275]!==Ot||e[276]!==Bt?(Ht=t.jsx(Pe,{value:"offers",className:"mt-0 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs(je,{className:"border-none shadow-xl",children:[Ts,t.jsx(qe,{className:"p-8",children:t.jsxs("form",{onSubmit:U,className:"space-y-8 max-w-2xl",children:[At,Ot,Qs,Bt]})})]})}),e[273]=U,e[274]=At,e[275]=Ot,e[276]=Bt,e[277]=Ht):Ht=e[277];let Gt;e[278]!==Q||e[279]!==Nt||e[280]!==wt||e[281]!==kt||e[282]!==Ht?(Gt=t.jsx("div",{className:"container mx-auto px-4 py-10",children:t.jsxs(Nl,{value:Q,onValueChange:_e,className:"w-full",children:[cs,Nt,wt,kt,zs,Ht]})}),e[278]=Q,e[279]=Nt,e[280]=wt,e[281]=kt,e[282]=Ht,e[283]=Gt):Gt=e[283];let Kt;e[284]!==Gt||e[285]!==be?(Kt=t.jsxs("div",{className:"bg-background min-h-screen pb-20",children:[be,Gt]}),e[284]=Gt,e[285]=be,e[286]=Kt):Kt=e[286];let Es;e[287]===Symbol.for("react.memo_cache_sentinel")?(Es=t.jsx(il,{className:"h-6 w-6"}),e[287]=Es):Es=e[287];const Hs=j?.title;let Yt;e[288]!==Hs?(Yt=t.jsxs($l,{className:"text-2xl font-black tracking-tight flex items-center gap-3 uppercase",children:[Es," Editing Resource: ",Hs]}),e[288]=Hs,e[289]=Yt):Yt=e[289];const Gs=j?.order;let Zt;e[290]!==Gs?(Zt=t.jsxs("p",{className:"text-primary-foreground/70 font-medium italic mt-1",children:["Refining content for Lesson ",Gs]}),e[290]=Gs,e[291]=Zt):Zt=e[291];let Wt;e[292]!==Yt||e[293]!==Zt?(Wt=t.jsxs(Ml,{className:"p-8 bg-primary text-primary-foreground",children:[Yt,Zt]}),e[292]=Yt,e[293]=Zt,e[294]=Wt):Wt=e[294];let Xt;e[295]!==ie||e[296]!==j?(Xt=t.jsx("div",{className:"p-8 bg-card",children:j&&j.type==="text"?t.jsx(da,{lessonId:j.id,initialContent:j.description||"",initialTitle:j.title||"Untitled Lesson",initialOrder:j.order||0,initialIsFreePreview:j.is_free_preview||!1,onSave:()=>{L(!1),le()}}):j&&["video","downloadable"].includes(j.type)?t.jsx(ca,{lessonId:j.id,lessonType:j.type,onUploadSuccess:re}):j?.type==="quiz"?t.jsx(ga,{lessonId:j.id,quizId:j.quiz?.id||null,lessonTitle:j.title,existingQuestions:ne(j),onQuizCreated:ie,onQuestionSaved:he}):t.jsxs("div",{className:"py-20 text-center",children:[t.jsx(ss,{className:"h-12 w-12 mx-auto text-muted-foreground/20 mb-4"}),t.jsx("p",{className:"text-muted-foreground font-bold italic",children:"Lesson configuration incomplete."})]})}),e[295]=ie,e[296]=j,e[297]=Xt):Xt=e[297];let Jt;e[298]!==Wt||e[299]!==Xt?(Jt=t.jsxs(Ul,{className:"max-w-4xl p-0 border-none rounded-3xl overflow-hidden shadow-3xl overflow-y-auto max-h-[90vh]",children:[Wt,Xt]}),e[298]=Wt,e[299]=Xt,e[300]=Jt):Jt=e[300];let es;e[301]!==M||e[302]!==Jt?(es=t.jsx(Rl,{open:M,onOpenChange:L,children:Jt}),e[301]=M,e[302]=Jt,e[303]=es):es=e[303];let Ps;return e[304]!==Kt||e[305]!==es||e[306]!==Z||e[307]!==X?(Ps=t.jsxs(Fl,{title:Z,children:[X,Kt,es]}),e[304]=Kt,e[305]=es,e[306]=Z,e[307]=X,e[308]=Ps):Ps=e[308],Ps}function ja(n){return t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-2xl bg-muted/10 group hover:border-primary/30 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-background border flex items-center justify-center text-[10px] font-black",children:n.order}),t.jsx("span",{className:"font-bold",children:n.title})]}),t.jsx(is,{variant:"outline",className:Me("h-7 px-3 rounded-full text-[10px] font-bold tracking-widest uppercase",n.video?.path||n.downloadable_path?"bg-green-50 text-green-600 border-green-200":"bg-muted text-muted-foreground border-muted-foreground/10"),children:n.video?.path||n.downloadable_path?"Resource Ready":"Empty"})]},n.id)}function _a(n){return t.jsx(Qe,{value:n.id.toString(),className:"text-base py-3",children:n.name},n.id)}function va(n){return n.quiz?.questions||[]}function ya(){$e.reload({only:["course"]})}function Na(){$e.reload({only:["course"]}),Ne.success("Changes saved successfully.")}function wa(){return Ne.success("Lesson deleted successfully.")}function Sa(n){confirm("Are you sure you want to delete this lesson? All associated content will be lost.")&&$e.delete($s("instructor.lessons.destroy",n),{onSuccess:wa,preserveScroll:!0})}function ka(n,e){return n.order-e.order}export{dr as default};
