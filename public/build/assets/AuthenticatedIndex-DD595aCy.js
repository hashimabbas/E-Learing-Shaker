import{c as q,r as I,j as t}from"./app-BPQpkLWe.js";import{I as G}from"./input-Cl9fiB9z.js";import{B as H,c as J}from"./button-WX8H90jI.js";import{c as K,b as M}from"./card-DtksBBig.js";import{s as O}from"./sheet-Cuv2ggtI.js";import{c as P}from"./app-layout-CnkzZBB9.js";import{S as Q}from"./search-5pA8hTnL.js";import{S as T}from"./star-CvNUkrGM.js";/* empty css            */import"./index-D3hp6nvv.js";import"./index-DMhazPYd.js";import"./index-Dc5gxj5P.js";import"./book-open-6k8hTGrW.js";import"./chevron-right-C9tH2w_m.js";function de(r){const e=q.c(46),{courses:b,categories:j,canRegister:W}=r;let y;e[0]!==b?(y=b===void 0?[]:b,e[0]=b,e[1]=y):y=e[1];const B=y;let N;e[2]!==j?(N=j===void 0?[]:j,e[2]=j,e[3]=N):N=e[3];const a=N,F=a[0],[o,z]=I.useState(""),[s,R]=I.useState(F?.slug??null);let C;if(e[4]!==B||e[5]!==o||e[6]!==s){let l;e[8]!==o||e[9]!==s?(l=i=>{const D=!s||i.category?.slug===s,U=i.title?.toLowerCase().includes(o.toLowerCase());return D&&U},e[8]=o,e[9]=s,e[10]=l):l=e[10],C=B.filter(l),e[4]=B,e[5]=o,e[6]=s,e[7]=C}else C=e[7];const n=C;let v;e[11]!==a||e[12]!==s?(v=a.find(l=>l.slug===s)||null,e[11]=a,e[12]=s,e[13]=v):v=e[13];const $=v;let w;e[14]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("h1",{className:"text-3xl font-bold",children:"Course Catalog"}),e[14]=w):w=e[14];let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=l=>z(l.target.value),e[15]=S):S=e[15];let c;e[16]!==o?(c=t.jsx(G,{placeholder:"Search courses...",value:o,onChange:S,className:"rounded-r-none border-r-0"}),e[16]=o,e[17]=c):c=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(H,{className:"rounded-l-none px-4",children:t.jsx(Q,{className:"w-5 h-5"})}),e[18]=k):k=e[18];let m;e[19]!==c?(m=t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[w,t.jsxs("div",{className:"flex w-1/3",children:[c,k]})]}),e[19]=c,e[20]=m):m=e[20];let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Browse by category"}),e[21]=_):_=e[21];let d;if(e[22]!==a||e[23]!==s){let l;e[25]!==s?(l=i=>t.jsx("button",{onClick:()=>R(i.slug),className:J("inline-block py-2 px-4 font-medium rounded-t-md transition-colors",i.slug===s?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"),children:i.name},i.slug),e[25]=s,e[26]=l):l=e[26],d=a.map(l),e[22]=a,e[23]=s,e[24]=d}else d=e[24];let A;e[27]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("button",{onClick:()=>R(null),className:"inline-block py-2 px-4 font-medium text-primary",children:"All Courses"}),e[27]=A):A=e[27];let x;e[28]!==d?(x=t.jsxs("div",{className:"border-b pb-2 overflow-x-auto whitespace-nowrap sticky top-16 bg-white dark:bg-gray-900 z-40",children:[d,A]}),e[28]=d,e[29]=x):x=e[29];const E=$?`Courses in ${$.name}`:"All Courses";let f;e[30]!==E?(f=t.jsx("h3",{className:"text-2xl font-bold mb-2",children:E}),e[30]=E,e[31]=f):f=e[31];let h;e[32]!==n?(h=n.map(V),e[32]=n,e[33]=h):h=e[33];let u;e[34]!==n.length?(u=n.length===0&&t.jsx("p",{className:"col-span-full text-muted-foreground",children:"No courses found."}),e[34]=n.length,e[35]=u):u=e[35];let p;e[36]!==h||e[37]!==u?(p=t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[h,u]}),e[36]=h,e[37]=u,e[38]=p):p=e[38];let g;e[39]!==f||e[40]!==p?(g=t.jsxs("div",{className:"py-12",children:[f,p]}),e[39]=f,e[40]=p,e[41]=g):g=e[41];let L;return e[42]!==m||e[43]!==x||e[44]!==g?(L=t.jsx(P,{title:"All Courses",children:t.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:t.jsxs("main",{className:"pt-4",children:[" ",t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[m,_,x,g]})]})})}),e[42]=m,e[43]=x,e[44]=g,e[45]=L):L=e[45],L}function V(r){return t.jsx(I.Link,{href:O("courses.show",{course:r.slug}),children:t.jsx(K,{className:"h-full transition-all hover:-translate-y-0.5 hover:shadow-xl",children:t.jsxs(M,{className:"p-3",children:[t.jsx("div",{className:"h-24 bg-muted rounded-md mb-3"}),t.jsx("p",{className:"font-semibold text-sm line-clamp-2",children:r.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:r.instructor?.name}),t.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(T,{className:"w-3 h-3 fill-yellow-500 text-yellow-500 mr-1"}),r.average_rating?.toFixed(1)??"0.0"]}),t.jsx("span",{className:"font-bold text-primary",children:r.price>0?`USD ${r.price}`:"Free"})]})]})})},r.id)}export{de as default};
