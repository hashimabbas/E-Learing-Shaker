import{d as Us,r as se,j as t,c as Ce,a as ts,t as Fe,b as $e,H as wl,L as ll,C as Sl}from"./app-B5-nqaHQ.js";import{U as Cl,f as kl,L as al,c as zl}from"./app-layout-BpUjAViM.js";import{c as Me,B as R}from"./button-DcuPLS5m.js";import{a as Le,C as Ae,b as De,c as je,d as Ls}from"./card-CsSO7LwQ.js";import{c as Tl,P as ql,a as Ks,u as Dl}from"./index-B7r_PU5b.js";import{f as cl,I as Fl,R as Il,u as Al,g as El,s as $s}from"./sheet-CUmi73_f.js";import{P as Os}from"./index-cDsLpkIM.js";import{I as fe}from"./input-B-FWRgCd.js";import{L as $}from"./label-CoM-wO66.js";import{T as ls}from"./textarea-DfHaYg8x.js";import{I as K}from"./input-error-D2FmfHCa.js";import{d as Ws,S as Xs,a as Js,b as Zs,c as Ee}from"./select-BCqHpX1t.js";import{D as Ql,a as Pl,d as Ll,e as $l}from"./dialog-BYc9o6cb.js";import{P as Ml}from"./progress-Bt5gSAep.js";import{V as Ms}from"./video-Du3cDjkR.js";import{D as Rl}from"./download-BOKKF0hm.js";import{C as Ul}from"./checkbox-CIP8_C1t.js";import{C as Ol}from"./circle-check-big-CqJS6-1K.js";import{C as Vl}from"./circle-x-DflAKC0X.js";import{T as as}from"./trash-2-BUAS-SWE.js";import{C as rs}from"./circle-plus-J38JKBB8.js";import{S as rl}from"./square-pen-DMzKSEgC.js";import{B as is}from"./badge-B-lFf3U4.js";import{S as il}from"./separator-CPMnSo4T.js";import{C as ss}from"./circle-help-1ythCxC5.js";import{A as Bl}from"./arrow-left-CHkcvxdn.js";import{P as Hl}from"./play-AOLX72Dp.js";import{B as Ys}from"./badge-dollar-sign-CZcwm6uP.js";import{F as Gl}from"./file-text-DpnPfC09.js";/* empty css            */import"./index-Dc5gxj5P.js";import"./book-open-CMXCTblI.js";import"./chevron-right-B4B2GUOk.js";import"./index-BXQj_SDb.js";import"./chevron-down-4irLI1Pu.js";import"./check-DLUu7bgX.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],el=Us("ListOrdered",Kl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],dl=Us("Pen",Yl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nl=Us("Save",Wl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Jl=Us("Upload",Xl);var Vs="Tabs",[Zl,nr]=Tl(Vs,[cl]),ml=cl(),[ea,tl]=Zl(Vs),ul=se.forwardRef((r,e)=>{const{__scopeTabs:s,value:l,onValueChange:o,defaultValue:d,orientation:u="horizontal",dir:b,activationMode:y="automatic",...S}=r,N=Al(b),[_,h]=Dl({prop:l,onChange:o,defaultProp:d??"",caller:Vs});return t.jsx(ea,{scope:s,baseId:El(),value:_,onValueChange:h,orientation:u,dir:N,activationMode:y,children:t.jsx(Os.div,{dir:N,"data-orientation":u,...S,ref:e})})});ul.displayName=Vs;var fl="TabsList",xl=se.forwardRef((r,e)=>{const{__scopeTabs:s,loop:l=!0,...o}=r,d=tl(fl,s),u=ml(s);return t.jsx(Il,{asChild:!0,...u,orientation:d.orientation,dir:d.dir,loop:l,children:t.jsx(Os.div,{role:"tablist","aria-orientation":d.orientation,...o,ref:e})})});xl.displayName=fl;var hl="TabsTrigger",pl=se.forwardRef((r,e)=>{const{__scopeTabs:s,value:l,disabled:o=!1,...d}=r,u=tl(hl,s),b=ml(s),y=jl(u.baseId,l),S=_l(u.baseId,l),N=l===u.value;return t.jsx(Fl,{asChild:!0,...b,focusable:!o,active:N,children:t.jsx(Os.button,{type:"button",role:"tab","aria-selected":N,"aria-controls":S,"data-state":N?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:y,...d,ref:e,onMouseDown:Ks(r.onMouseDown,_=>{!o&&_.button===0&&_.ctrlKey===!1?u.onValueChange(l):_.preventDefault()}),onKeyDown:Ks(r.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&u.onValueChange(l)}),onFocus:Ks(r.onFocus,()=>{const _=u.activationMode!=="manual";!N&&!o&&_&&u.onValueChange(l)})})})});pl.displayName=hl;var gl="TabsContent",bl=se.forwardRef((r,e)=>{const{__scopeTabs:s,value:l,forceMount:o,children:d,...u}=r,b=tl(gl,s),y=jl(b.baseId,l),S=_l(b.baseId,l),N=l===b.value,_=se.useRef(N);return se.useEffect(()=>{const h=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(h)},[]),t.jsx(ql,{present:o||N,children:({present:h})=>t.jsx(Os.div,{"data-state":N?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":y,hidden:!h,id:S,tabIndex:0,...u,ref:e,style:{...r.style,animationDuration:_.current?"0s":void 0},children:h&&d})})});bl.displayName=gl;function jl(r,e){return`${r}-trigger-${e}`}function _l(r,e){return`${r}-content-${e}`}var ta=ul,sa=xl,la=pl,aa=bl;function vl(r){const e=Ce.c(8);let s,l;e[0]!==r?({className:s,...l}=r,e[0]=r,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("flex flex-col gap-2",s),e[3]=s,e[4]=o):o=e[4];let d;return e[5]!==l||e[6]!==o?(d=t.jsx(ta,{"data-slot":"tabs",className:o,...l}),e[5]=l,e[6]=o,e[7]=d):d=e[7],d}function yl(r){const e=Ce.c(8);let s,l;e[0]!==r?({className:s,...l}=r,e[0]=r,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),e[3]=s,e[4]=o):o=e[4];let d;return e[5]!==l||e[6]!==o?(d=t.jsx(sa,{"data-slot":"tabs-list",className:o,...l}),e[5]=l,e[6]=o,e[7]=d):d=e[7],d}function Qe(r){const e=Ce.c(8);let s,l;e[0]!==r?({className:s,...l}=r,e[0]=r,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[3]=s,e[4]=o):o=e[4];let d;return e[5]!==l||e[6]!==o?(d=t.jsx(la,{"data-slot":"tabs-trigger",className:o,...l}),e[5]=l,e[6]=o,e[7]=d):d=e[7],d}function Pe(r){const e=Ce.c(8);let s,l;e[0]!==r?({className:s,...l}=r,e[0]=r,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let o;e[3]!==s?(o=Me("flex-1 outline-none",s),e[3]=s,e[4]=o):o=e[4];let d;return e[5]!==l||e[6]!==o?(d=t.jsx(aa,{"data-slot":"tabs-content",className:o,...l}),e[5]=l,e[6]=o,e[7]=d):d=e[7],d}function ra(r){const e=Ce.c(92),{courseId:s,lesson:l,onSave:o,onCancel:d}=r,u=!!l?.id,b=l?.id||null,y=l?.title||"",S=l?.description||"",N=l?.type||"video",_=l?.order||0,h=l?.is_free_preview||!1;let q;e[0]!==s||e[1]!==b||e[2]!==y||e[3]!==S||e[4]!==N||e[5]!==_||e[6]!==h?(q={id:b,course_id:s,title:y,description:S,type:N,order:_,is_free_preview:h},e[0]=s,e[1]=b,e[2]=y,e[3]=S,e[4]=N,e[5]=_,e[6]=h,e[7]=q):q=e[7];const{data:p,setData:f,post:n,patch:m,processing:a,errors:i,reset:k}=ts(q);let g;e[8]!==p.id||e[9]!==u||e[10]!==o||e[11]!==m||e[12]!==n||e[13]!==k?(g=j=>{j.preventDefault();const Q=u?"instructor.lessons.update":"instructor.lessons.store",A=u?p.id:void 0;u?m(route(Q,A),{onSuccess:()=>{o(),k()},preserveScroll:!0}):n(route(Q,A),{onSuccess:()=>{o(),k()},preserveScroll:!0})},e[8]=p.id,e[9]=u,e[10]=o,e[11]=m,e[12]=n,e[13]=k,e[14]=g):g=e[14];const c=g,T=u?"Edit Lesson":"Add New Lesson";let C;e[15]!==T?(C=t.jsx(Le,{children:t.jsx(Ae,{children:T})}),e[15]=T,e[16]=C):C=e[16];let z;e[17]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx($,{htmlFor:"title",children:"Title"}),e[17]=z):z=e[17];let w;e[18]!==f?(w=j=>f("title",j.target.value),e[18]=f,e[19]=w):w=e[19];let D;e[20]!==p.title||e[21]!==w?(D=t.jsx(fe,{id:"title",value:p.title,onChange:w,required:!0}),e[20]=p.title,e[21]=w,e[22]=D):D=e[22];let F;e[23]!==i.title?(F=t.jsx(K,{message:i.title}),e[23]=i.title,e[24]=F):F=e[24];let E;e[25]!==D||e[26]!==F?(E=t.jsxs("div",{className:"space-y-2",children:[z,D,F]}),e[25]=D,e[26]=F,e[27]=E):E=e[27];let I;e[28]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx($,{htmlFor:"description",children:"Description"}),e[28]=I):I=e[28];let x;e[29]!==f?(x=j=>f("description",j.target.value),e[29]=f,e[30]=x):x=e[30];let M;e[31]!==p.description||e[32]!==x?(M=t.jsx(ls,{id:"description",value:p.description,onChange:x,rows:3}),e[31]=p.description,e[32]=x,e[33]=M):M=e[33];let P;e[34]!==i.description?(P=t.jsx(K,{message:i.description}),e[34]=i.description,e[35]=P):P=e[35];let _e;e[36]!==M||e[37]!==P?(_e=t.jsxs("div",{className:"space-y-2",children:[I,M,P]}),e[36]=M,e[37]=P,e[38]=_e):_e=e[38];let xe;e[39]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx($,{htmlFor:"order",children:"Order"}),e[39]=xe):xe=e[39];let U;e[40]!==f?(U=j=>f("order",parseInt(j.target.value)),e[40]=f,e[41]=U):U=e[41];let le;e[42]!==p.order||e[43]!==U?(le=t.jsx(fe,{id:"order",type:"number",value:p.order,onChange:U,required:!0}),e[42]=p.order,e[43]=U,e[44]=le):le=e[44];let B;e[45]!==i.order?(B=t.jsx(K,{message:i.order}),e[45]=i.order,e[46]=B):B=e[46];let ae;e[47]!==le||e[48]!==B?(ae=t.jsxs("div",{className:"space-y-2",children:[xe,le,B]}),e[47]=le,e[48]=B,e[49]=ae):ae=e[49];let J;e[50]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx($,{htmlFor:"type",children:"Lesson Type"}),e[50]=J):J=e[50];let re;e[51]!==f?(re=j=>f("type",j),e[51]=f,e[52]=re):re=e[52];let de;e[53]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(Xs,{children:t.jsx(Js,{placeholder:"Select Type"})}),e[53]=de):de=e[53];let ie;e[54]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs(Zs,{children:[t.jsx(Ee,{value:"video",children:"Video"}),t.jsx(Ee,{value:"downloadable",children:"E-book/PDF"}),t.jsx(Ee,{value:"quiz",children:"Quiz"}),t.jsx(Ee,{value:"text",children:"Text"})]}),e[54]=ie):ie=e[54];let Z;e[55]!==p.type||e[56]!==re?(Z=t.jsxs(Ws,{onValueChange:re,value:p.type,children:[de,ie]}),e[55]=p.type,e[56]=re,e[57]=Z):Z=e[57];let he;e[58]!==i.type?(he=t.jsx(K,{message:i.type}),e[58]=i.type,e[59]=he):he=e[59];let ne;e[60]!==Z||e[61]!==he?(ne=t.jsxs("div",{className:"space-y-2",children:[J,Z,he]}),e[60]=Z,e[61]=he,e[62]=ne):ne=e[62];let Y;e[63]!==ae||e[64]!==ne?(Y=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ae,ne]}),e[63]=ae,e[64]=ne,e[65]=Y):Y=e[65];let W;e[66]!==f?(W=j=>f("is_free_preview",j.target.checked),e[66]=f,e[67]=W):W=e[67];let X;e[68]!==p.is_free_preview||e[69]!==W?(X=t.jsx("input",{type:"checkbox",id:"preview",checked:p.is_free_preview,onChange:W,className:"form-checkbox"}),e[68]=p.is_free_preview,e[69]=W,e[70]=X):X=e[70];let ee;e[71]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx($,{htmlFor:"preview",className:"font-normal",children:"Allow Free Preview"}),e[71]=ee):ee=e[71];let H;e[72]!==X?(H=t.jsxs("div",{className:"flex items-center space-x-2",children:[X,ee]}),e[72]=X,e[73]=H):H=e[73];let G;e[74]!==d?(G=t.jsx(R,{type:"button",variant:"secondary",onClick:d,children:"Cancel"}),e[74]=d,e[75]=G):G=e[75];const ve=u?"Save Changes":"Add Lesson";let O;e[76]!==a||e[77]!==ve?(O=t.jsx(R,{type:"submit",disabled:a,children:ve}),e[76]=a,e[77]=ve,e[78]=O):O=e[78];let me;e[79]!==G||e[80]!==O?(me=t.jsxs("div",{className:"flex justify-end space-x-2",children:[G,O]}),e[79]=G,e[80]=O,e[81]=me):me=e[81];let V;e[82]!==c||e[83]!==E||e[84]!==_e||e[85]!==Y||e[86]!==H||e[87]!==me?(V=t.jsx(De,{children:t.jsxs("form",{onSubmit:c,className:"space-y-4",children:[E,_e,Y,H,me]})}),e[82]=c,e[83]=E,e[84]=_e,e[85]=Y,e[86]=H,e[87]=me,e[88]=V):V=e[88];let te;return e[89]!==C||e[90]!==V?(te=t.jsxs(je,{className:"shadow-lg border-primary/50",children:[C,V]}),e[89]=C,e[90]=V,e[91]=te):te=e[91],te}function ia(r){const e=Ce.c(37),{lessonId:s,lessonType:l,onUploadSuccess:o}=r;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={resource_file:null},e[0]=d):d=e[0];const{data:u,setData:b,post:y,processing:S,errors:N,reset:_,progress:h}=ts(d),q=l==="video",p=q?"video/mp4,video/quicktime":"application/pdf";let f;e[1]!==q?(f=q?t.jsx(Ms,{className:"h-4 w-4 mr-2"}):t.jsx(Rl,{className:"h-4 w-4 mr-2"}),e[1]=q,e[2]=f):f=e[2];const n=f;let m;e[3]!==u.resource_file||e[4]!==s||e[5]!==o||e[6]!==y||e[7]!==_?(m=M=>{if(M.preventDefault(),!u.resource_file){alert("Please select a file to upload.");return}y(route("instructor.lessons.upload_resource",s),{forceFormData:!0,onSuccess:()=>{o(),_("resource_file")},onError:na,preserveScroll:!0})},e[3]=u.resource_file,e[4]=s,e[5]=o,e[6]=y,e[7]=_,e[8]=m):m=e[8];const a=m,i=q?"Video Lecture":"E-Book PDF";let k;e[9]!==i||e[10]!==n?(k=t.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n," Upload ",i]}),e[9]=i,e[10]=n,e[11]=k):k=e[11];const g=q?"Select Video File":"Select PDF File";let c;e[12]!==g?(c=t.jsx($,{htmlFor:"resource_file",children:g}),e[12]=g,e[13]=c):c=e[13];let T;e[14]!==b?(T=M=>b("resource_file",M.target.files?M.target.files[0]:null),e[14]=b,e[15]=T):T=e[15];let C;e[16]!==p||e[17]!==T?(C=t.jsx(fe,{id:"resource_file",type:"file",accept:p,onChange:T,required:!0}),e[16]=p,e[17]=T,e[18]=C):C=e[18];let z;e[19]!==N.resource_file?(z=t.jsx(K,{message:N.resource_file}),e[19]=N.resource_file,e[20]=z):z=e[20];let w;e[21]!==z||e[22]!==c||e[23]!==C?(w=t.jsxs("div",{className:"space-y-2",children:[c,C,z]}),e[21]=z,e[22]=c,e[23]=C,e[24]=w):w=e[24];let D;e[25]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(Jl,{className:"w-4 h-4 mr-2"}),e[25]=D):D=e[25];const F=S?"Uploading...":"Start Upload";let E;e[26]!==S||e[27]!==F?(E=t.jsxs(R,{type:"submit",disabled:S,className:"w-full",children:[D," ",F]}),e[26]=S,e[27]=F,e[28]=E):E=e[28];let I;e[29]!==h?(I=h&&t.jsxs("div",{className:"space-y-2 animate-in fade-in zoom-in-95 duration-300",children:[t.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[t.jsx("span",{children:"Uploading..."}),t.jsxs("span",{children:[h.percentage,"%"]})]}),t.jsx(Ml,{value:h.percentage,className:"h-2"})]}),e[29]=h,e[30]=I):I=e[30];let x;return e[31]!==a||e[32]!==w||e[33]!==E||e[34]!==I||e[35]!==k?(x=t.jsxs("form",{onSubmit:a,className:"space-y-4 p-4 border rounded-lg bg-neutral-50 dark:bg-neutral-800",children:[k,w,E,I]}),e[31]=a,e[32]=w,e[33]=E,e[34]=I,e[35]=k,e[36]=x):x=e[36],x}function na(r){return console.error(r)}function oa(r){const e=Ce.c(34),{lessonId:s,initialContent:l,initialTitle:o,initialOrder:d,initialIsFreePreview:u,onSave:b}=r;let y;e[0]!==l||e[1]!==u||e[2]!==d||e[3]!==o?(y={description:l,title:o,order:d,is_free_preview:u},e[0]=l,e[1]=u,e[2]=d,e[3]=o,e[4]=y):y=e[4];const{data:S,setData:N,patch:_,processing:h,errors:q}=ts(y);let p;e[5]!==s||e[6]!==b||e[7]!==_?(p=D=>{D.preventDefault(),_(route("instructor.lessons.update",s),{onSuccess:()=>{Fe.success("Text content saved successfully."),b()},onError:ca,preserveScroll:!0})},e[5]=s,e[6]=b,e[7]=_,e[8]=p):p=e[8];const f=p;let n;e[9]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("h3",{className:"text-lg font-semibold",children:"Edit Text Content"}),e[9]=n):n=e[9];let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx($,{htmlFor:"content",children:"Lesson Text Content (Supports Markdown)"}),e[10]=m):m=e[10];let a;e[11]!==N?(a=D=>N("description",D.target.value),e[11]=N,e[12]=a):a=e[12];let i;e[13]!==S.description||e[14]!==a?(i=t.jsx(ls,{id:"content",value:S.description,onChange:a,rows:10,required:!0}),e[13]=S.description,e[14]=a,e[15]=i):i=e[15];let k;e[16]!==q.description?(k=t.jsx(K,{message:q.description}),e[16]=q.description,e[17]=k):k=e[17];let g;e[18]!==i||e[19]!==k?(g=t.jsxs("div",{className:"space-y-2",children:[m,i,k]}),e[18]=i,e[19]=k,e[20]=g):g=e[20];const c=h?"Saving...":"Save Text Content";let T;e[21]!==h||e[22]!==c?(T=t.jsx(R,{type:"submit",disabled:h,children:c}),e[21]=h,e[22]=c,e[23]=T):T=e[23];let C;e[24]!==S.order||e[25]!==S.title?(C=t.jsxs("p",{className:"text-sm text-muted-foreground pt-2 border-t mt-4",children:["Updating content for: **",S.title,"** (Order: ",S.order,")"]}),e[24]=S.order,e[25]=S.title,e[26]=C):C=e[26];let z;e[27]!==T||e[28]!==C?(z=t.jsxs("div",{className:"flex justify-end space-x-2",children:[T,C]}),e[27]=T,e[28]=C,e[29]=z):z=e[29];let w;return e[30]!==f||e[31]!==z||e[32]!==g?(w=t.jsxs("form",{onSubmit:f,className:"space-y-4 p-4 border rounded-lg bg-white dark:bg-neutral-900",children:[n,g,z]}),e[30]=f,e[31]=z,e[32]=g,e[33]=w):w=e[33],w}function ca(r){return console.error("Text content save failed:",r)}const Rs=()=>Date.now()+Math.random(),ol=[{local_id:Rs(),text:"",is_correct:!0},{local_id:Rs(),text:"",is_correct:!1}],da=r=>r.map(e=>({local_id:e.id||Rs(),id:e.id,text:e.text,is_correct:e.is_correct}));function ma(r){const e=Ce.c(116),{lessonId:s,quizId:l,lessonTitle:o,onQuizCreated:d,onQuestionSaved:u,initialQuestion:b}=r;let y;e[0]!==b||e[1]!==l?(y=b?{id:b.id,text:b.text,type:b.type,answers:da(b.answers),quiz_id:l}:{id:null,text:"",type:"single_choice",answers:ol,quiz_id:l},e[0]=b,e[1]=l,e[2]=y):y=e[2];const S=y;let N;e[3]!==s||e[4]!==o?(N={lesson_id:s,title:o,pass_percentage:70},e[3]=s,e[4]=o,e[5]=N):N=e[5];const{data:_,setData:h,post:q,processing:p,errors:f}=ts(N),{data:n,setData:m,post:a,put:i,processing:k,errors:g,reset:c}=ts(S);let T;e[6]!==n.quiz_id||e[7]!==l||e[8]!==m?(T=()=>{l&&n.quiz_id!==l&&m("quiz_id",l)},e[6]=n.quiz_id,e[7]=l,e[8]=m,e[9]=T):T=e[9];let C;e[10]!==l?(C=[l],e[10]=l,e[11]=C):C=e[11],se.useEffect(T,C);let z;e[12]!==n.answers||e[13]!==m?(z=(j,Q)=>{const A=n.answers.map((L,oe)=>oe===j?{...L,text:Q}:L);m("answers",A)},e[12]=n.answers,e[13]=m,e[14]=z):z=e[14];const w=z;let D;e[15]!==n.answers||e[16]!==n.type||e[17]!==m?(D=j=>{let Q;n.type==="single_choice"||n.type==="true_false"?Q=n.answers.map((A,L)=>({...A,is_correct:L===j})):Q=n.answers.map((A,L)=>({...A,is_correct:L===j?!A.is_correct:A.is_correct})),m("answers",Q)},e[15]=n.answers,e[16]=n.type,e[17]=m,e[18]=D):D=e[18];const F=D;let E;e[19]!==n.answers||e[20]!==m?(E=()=>{m("answers",[...n.answers,{local_id:Rs(),text:"",is_correct:!1}])},e[19]=n.answers,e[20]=m,e[21]=E):E=e[21];const I=E;let x;e[22]!==d||e[23]!==q?(x=j=>{j.preventDefault(),q(route("instructor.quizzes.store"),{onSuccess:()=>d(),preserveScroll:!0,onError:xa})},e[22]=d,e[23]=q,e[24]=x):x=e[24];const M=x;let P;e[25]!==u||e[26]!==a||e[27]!==i||e[28]!==n||e[29]!==c||e[30]!==l||e[31]!==m?(P=j=>{j.preventDefault();const Q=n.answers.filter(fa).length;if(n.answers.length<2||Q===0){Fe.error("Question must have at least two answers and one correct answer.");return}const A=!!n.id,L=A?i:a,oe=A?"instructor.quizzes.question.update":"instructor.quizzes.question.add",ce=A?{question:n.id}:{quiz:l};L(route(oe,ce),n,{onSuccess:()=>{c("text"),m("answers",ol),u(),Fe.success(`Question ${A?"updated":"added"} successfully!`)},onError:ua,preserveScroll:!0})},e[25]=u,e[26]=a,e[27]=i,e[28]=n,e[29]=c,e[30]=l,e[31]=m,e[32]=P):P=e[32];const _e=P;if(!l){let j;e[33]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(Le,{children:t.jsx(Ae,{className:"text-xl",children:"Quiz Not Initialized"})}),e[33]=j):j=e[33];let Q;e[34]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"mb-4 text-muted-foreground",children:"This lesson does not have a Quiz record yet. You must create the Quiz before adding questions."}),e[34]=Q):Q=e[34];let A;e[35]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx($,{htmlFor:"quiz-title",children:"Quiz Title"}),e[35]=A):A=e[35];let L;e[36]!==h?(L=Ie=>h("title",Ie.target.value),e[36]=h,e[37]=L):L=e[37];let oe;e[38]!==_.title||e[39]!==L?(oe=t.jsx(fe,{id:"quiz-title",value:_.title,onChange:L,required:!0}),e[38]=_.title,e[39]=L,e[40]=oe):oe=e[40];let ce;e[41]!==f.title?(ce=t.jsx(K,{message:f.title}),e[41]=f.title,e[42]=ce):ce=e[42];let pe;e[43]!==oe||e[44]!==ce?(pe=t.jsxs("div",{className:"space-y-2",children:[A,oe,ce]}),e[43]=oe,e[44]=ce,e[45]=pe):pe=e[45];let ze;e[46]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsx($,{htmlFor:"pass-percentage",children:"Pass Percentage (%)"}),e[46]=ze):ze=e[46];let Ne;e[47]!==h?(Ne=Ie=>h("pass_percentage",parseInt(Ie.target.value)),e[47]=h,e[48]=Ne):Ne=e[48];let we;e[49]!==_.pass_percentage||e[50]!==Ne?(we=t.jsx(fe,{id:"pass-percentage",type:"number",min:"1",max:"100",value:_.pass_percentage,onChange:Ne,required:!0}),e[49]=_.pass_percentage,e[50]=Ne,e[51]=we):we=e[51];let ge;e[52]!==f.pass_percentage?(ge=t.jsx(K,{message:f.pass_percentage}),e[52]=f.pass_percentage,e[53]=ge):ge=e[53];let Se;e[54]!==we||e[55]!==ge?(Se=t.jsxs("div",{className:"space-y-2",children:[ze,we,ge]}),e[54]=we,e[55]=ge,e[56]=Se):Se=e[56];const ke=p?"Creating...":"Initialize Quiz";let be;e[57]!==p||e[58]!==ke?(be=t.jsx(R,{type:"submit",disabled:p,children:ke}),e[57]=p,e[58]=ke,e[59]=be):be=e[59];let Te;return e[60]!==M||e[61]!==pe||e[62]!==Se||e[63]!==be?(Te=t.jsxs(je,{children:[j,t.jsxs(De,{children:[Q,t.jsxs("form",{onSubmit:M,className:"space-y-4",children:[pe,Se,be]})]})]}),e[60]=M,e[61]=pe,e[62]=Se,e[63]=be,e[64]=Te):Te=e[64],Te}const xe=n.id?"Editing Question":"Add New Question";let U;e[65]!==xe?(U=t.jsx(Le,{className:"p-0",children:t.jsx(Ae,{className:"text-lg",children:xe})}),e[65]=xe,e[66]=U):U=e[66];let le;e[67]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx($,{htmlFor:"question-text",children:"Question Text"}),e[67]=le):le=e[67];let B;e[68]!==m?(B=j=>m("text",j.target.value),e[68]=m,e[69]=B):B=e[69];let ae;e[70]!==n.text||e[71]!==B?(ae=t.jsx(ls,{id:"question-text",value:n.text,onChange:B,required:!0,rows:3}),e[70]=n.text,e[71]=B,e[72]=ae):ae=e[72];let J;e[73]!==g.text?(J=t.jsx(K,{message:g.text}),e[73]=g.text,e[74]=J):J=e[74];let re;e[75]!==ae||e[76]!==J?(re=t.jsxs("div",{className:"space-y-2",children:[le,ae,J]}),e[75]=ae,e[76]=J,e[77]=re):re=e[77];let de;e[78]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx($,{htmlFor:"type",children:"Question Type"}),e[78]=de):de=e[78];let ie;e[79]!==m?(ie=j=>m("type",j),e[79]=m,e[80]=ie):ie=e[80];let Z;e[81]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Xs,{id:"type",children:t.jsx(Js,{placeholder:"Select Type"})}),e[81]=Z):Z=e[81];let he;e[82]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsxs(Zs,{children:[t.jsx(Ee,{value:"single_choice",children:"Single Choice"}),t.jsx(Ee,{value:"multiple_choice",children:"Multiple Choice"}),t.jsx(Ee,{value:"true_false",children:"True/False"})]}),e[82]=he):he=e[82];let ne;e[83]!==n.type||e[84]!==ie?(ne=t.jsxs(Ws,{onValueChange:ie,value:n.type,children:[Z,he]}),e[83]=n.type,e[84]=ie,e[85]=ne):ne=e[85];let Y;e[86]!==g.type?(Y=t.jsx(K,{message:g.type}),e[86]=g.type,e[87]=Y):Y=e[87];let W;e[88]!==ne||e[89]!==Y?(W=t.jsxs("div",{className:"space-y-2",children:[de,ne,Y]}),e[88]=ne,e[89]=Y,e[90]=W):W=e[90];const X=Array.isArray(n.answers)?n.answers.length:0;let ee;e[91]!==X?(ee=t.jsxs("h4",{className:"font-semibold border-b pb-2",children:["Answers (",X,")"]}),e[91]=X,e[92]=ee):ee=e[92];let H;e[93]!==w||e[94]!==F||e[95]!==n.answers||e[96]!==n.type||e[97]!==m?(H=Array.isArray(n.answers)&&n.answers.map((j,Q)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[n.type==="multiple_choice"?t.jsxs("div",{className:"flex h-9 items-center space-x-2",children:[t.jsx(Ul,{id:`answer-check-${Q}`,checked:j.is_correct,onCheckedChange:()=>F(Q)}),t.jsx($,{htmlFor:`answer-check-${Q}`,className:"font-normal cursor-pointer",children:"Correct"})]}):t.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-md border text-sm font-medium transition-colors cursor-pointer
                        ${j.is_correct?"bg-green-500 text-white hover:bg-green-600":"bg-background hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,onClick:()=>F(Q),title:j.is_correct?"Correct Answer":"Mark as Correct",children:j.is_correct?t.jsx(Ol,{className:"w-4 h-4"}):t.jsx(Vl,{className:"w-4 h-4"})}),t.jsx(fe,{placeholder:`Answer Option ${Q+1}`,value:j.text,onChange:A=>w(Q,A.target.value),required:!0}),t.jsx(R,{type:"button",variant:"destructive",size:"icon",disabled:n.answers.length<=2,onClick:()=>m("answers",n.answers.filter((A,L)=>L!==Q)),children:t.jsx(as,{className:"w-4 h-4"})})]},j.local_id)),e[93]=w,e[94]=F,e[95]=n.answers,e[96]=n.type,e[97]=m,e[98]=H):H=e[98];let G;e[99]!==H?(G=t.jsx("div",{className:"space-y-3",children:H}),e[99]=H,e[100]=G):G=e[100];let ve;e[101]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(rs,{className:"w-4 h-4 mr-2"}),e[101]=ve):ve=e[101];let O;e[102]!==I?(O=t.jsxs(R,{type:"button",variant:"secondary",onClick:I,children:[ve," Add Answer Option"]}),e[102]=I,e[103]=O):O=e[103];const me=k?"Saving...":"Save Question";let V;e[104]!==k||e[105]!==me?(V=t.jsx(R,{type:"submit",disabled:k,className:"w-full",children:me}),e[104]=k,e[105]=me,e[106]=V):V=e[106];let te;return e[107]!==_e||e[108]!==U||e[109]!==re||e[110]!==W||e[111]!==ee||e[112]!==G||e[113]!==O||e[114]!==V?(te=t.jsx(je,{children:t.jsx(De,{children:t.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[U,re,W,ee,G,O,V]})})}),e[107]=_e,e[108]=U,e[109]=re,e[110]=W,e[111]=ee,e[112]=G,e[113]=O,e[114]=V,e[115]=te):te=e[115],te}function ua(r){console.error("Submission Error:",r)}function fa(r){return r.is_correct&&r.text.trim()!==""}function xa(r){return console.error("Quiz Creation Error:",r)}function ha(r){const e=Ce.c(35),{lessonId:s,quizId:l,lessonTitle:o,onQuizCreated:d,onQuestionSaved:u,existingQuestions:b}=r,[y,S]=se.useState("manage"),[N,_]=se.useState(b),[h,q]=se.useState(null),p=h?"Edit Question":"Add New Question";let f,n;e[0]!==b?(f=()=>{_(b)},n=[b],e[0]=b,e[1]=f,e[2]=n):(f=e[1],n=e[2]),se.useEffect(f,n);let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=P=>{q(P),S("add")},e[3]=m):m=e[3];const a=m;let i;e[4]!==u?(i=()=>{q(null),S("manage"),u()},e[4]=u,e[5]=i):i=e[5];const k=i;let g;e[6]!==u?(g=P=>{confirm("Are you sure you want to delete this question?")&&$e.delete(route("instructor.quizzes.question.destroy",P),{onSuccess:()=>{Fe.success("Question deleted successfully!"),u()},preserveScroll:!0})},e[6]=u,e[7]=g):g=e[7];const c=g;let T;e[8]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs(Qe,{value:"manage",className:"flex items-center",children:[t.jsx(el,{className:"w-4 h-4 mr-2"})," View/Manage Questions"]}),e[8]=T):T=e[8];let C;e[9]!==h?(C=h?t.jsx(rl,{className:"w-4 h-4 mr-2"}):t.jsx(rs,{className:"w-4 h-4 mr-2"}),e[9]=h,e[10]=C):C=e[10];let z;e[11]!==C||e[12]!==p?(z=t.jsxs(yl,{className:"grid w-full grid-cols-2",children:[T,t.jsxs(Qe,{value:"add",className:"flex items-center",children:[C,p]})]}),e[11]=C,e[12]=p,e[13]=z):z=e[13];let w;e[14]!==c||e[15]!==N?(w=N.length===0?t.jsx("p",{className:"text-muted-foreground",children:"No questions found for this quiz."}):N.map(P=>t.jsxs("div",{className:"border p-4 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("p",{className:"font-semibold",children:P.text}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(R,{size:"icon",variant:"outline",title:"Edit",onClick:()=>a(P),children:[" ",t.jsx(rl,{className:"w-4 h-4"})]}),t.jsx(R,{size:"icon",variant:"destructive",onClick:()=>c(P.id),children:t.jsx(as,{className:"w-4 h-4"})})]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Answers: ",P.answers.length]})]},P.id)),e[14]=c,e[15]=N,e[16]=w):w=e[16];let D;e[17]===Symbol.for("react.memo_cache_sentinel")?(D=()=>S("add"),e[17]=D):D=e[17];const F=!l;let E;e[18]!==F?(E=t.jsx(R,{onClick:D,disabled:F,className:"w-full",children:"Add First Question"}),e[18]=F,e[19]=E):E=e[19];let I;e[20]!==E||e[21]!==w?(I=t.jsx(Pe,{value:"manage",className:"mt-4 max-h-[60vh] overflow-y-auto",children:t.jsx(je,{children:t.jsxs(De,{className:"space-y-4 pt-4",children:[w,E]})})}),e[20]=E,e[21]=w,e[22]=I):I=e[22];let x;e[23]!==h||e[24]!==k||e[25]!==s||e[26]!==o||e[27]!==d||e[28]!==l?(x=t.jsx(Pe,{value:"add",className:"mt-4 max-h-[60vh] overflow-y-auto",children:l?t.jsx(ma,{lessonId:s,quizId:l,lessonTitle:o,initialQuestion:h,onQuizCreated:d,onQuestionSaved:k}):t.jsxs(je,{className:"p-4",children:[t.jsx(Ae,{className:"text-lg",children:"Initialize Quiz First"}),t.jsx("p",{className:"text-muted-foreground mt-2",children:"You must initialize the Quiz from the main Curriculum tab before you can add questions here."})]})}),e[23]=h,e[24]=k,e[25]=s,e[26]=o,e[27]=d,e[28]=l,e[29]=x):x=e[29];let M;return e[30]!==y||e[31]!==I||e[32]!==x||e[33]!==z?(M=t.jsxs(vl,{value:y,onValueChange:S,className:"w-full",children:[z,I,x]}),e[30]=y,e[31]=I,e[32]=x,e[33]=z,e[34]=M):M=e[34],M}const pa=r=>{const e=Ce.c(21),{lessons:s,courseId:l,onUpdate:o,onContentEdit:d}=r,[u,b]=se.useState(!1),[y,S]=se.useState(null),N=Na;let _;e[0]!==o?(_=()=>{b(!1),S(null),o(),Fe.success("Lesson details saved.")},e[0]=o,e[1]=_):_=e[1];const h=_;let q;e[2]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Course Curriculum"}),t.jsx("p",{className:"text-muted-foreground font-medium text-sm",children:"Manage lessons, modules, and learning assessments."})]}),e[2]=q):q=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=()=>b(!0),e[3]=p):p=e[3];const f=u||!!y;let n;e[4]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(rs,{className:"h-4 w-4 mr-2"}),e[4]=n):n=e[4];let m;e[5]!==f?(m=t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[q,t.jsxs(R,{onClick:p,disabled:f,className:"rounded-full px-6 font-bold shadow-lg shadow-primary/10",children:[n," New Lesson"]})]}),e[5]=f,e[6]=m):m=e[6];let a;e[7]!==l||e[8]!==y||e[9]!==h||e[10]!==u?(a=(u||y)&&t.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-500",children:t.jsx(ra,{courseId:l,lesson:y,onSave:h,onCancel:()=>{b(!1),S(null)}})}),e[7]=l,e[8]=y,e[9]=h,e[10]=u,e[11]=a):a=e[11];let i;e[12]!==s||e[13]!==d?(i=s.length>0?s.sort(wa).map(c=>t.jsx(je,{className:"group border shadow-sm hover:shadow-md transition-all overflow-hidden bg-card/50",children:t.jsx(De,{className:"p-0",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center p-4 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-muted font-black text-muted-foreground text-sm border",children:c.order}),t.jsx("div",{className:Me("flex h-10 w-10 items-center justify-center rounded-xl border relative",c.type==="quiz"?"bg-rose-50 text-rose-600 border-rose-100":c.type==="video"?"bg-blue-50 text-blue-600 border-blue-100":"bg-emerald-50 text-emerald-600 border-emerald-100"),children:c.type==="quiz"?t.jsx(ss,{className:"h-5 w-5"}):c.type==="video"?t.jsx(Ms,{className:"h-5 w-5"}):t.jsx(Gl,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left",children:[t.jsx("h4",{className:"font-bold text-lg truncate leading-snug",children:c.title}),t.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3 mt-1",children:[t.jsx(is,{variant:"outline",className:"capitalize text-[10px] h-5 px-1.5 font-bold tracking-widest bg-background",children:c.type}),c.is_free_preview&&t.jsx(is,{className:"bg-green-500 hover:bg-green-600 text-white border-none text-[10px] h-5 px-1.5 font-bold uppercase tracking-widest",children:"Free Preview"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 pt-2 sm:pt-0",children:[t.jsx(R,{variant:"secondary",size:"sm",className:"font-bold h-9 px-4 rounded-lg bg-background border shadow-sm",onClick:()=>d(c),children:"Edit Content"}),t.jsx(R,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg hover:bg-primary/10 hover:text-primary",onClick:()=>S(c),children:t.jsx(dl,{className:"w-4 h-4"})}),t.jsx(R,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg hover:bg-destructive/10 hover:text-destructive",onClick:()=>N(c.id),children:t.jsx(as,{className:"w-4 h-4"})})]})]})})},c.id)):t.jsxs("div",{className:"py-12 border-2 border-dashed rounded-3xl text-center space-y-3 bg-muted/20",children:[t.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:t.jsx(el,{className:"h-6 w-6 text-muted-foreground/40"})}),t.jsx("p",{className:"text-muted-foreground font-bold italic",children:"No lessons in this curriculum yet."}),t.jsx(R,{variant:"ghost",className:"text-primary font-black",onClick:()=>b(!0),children:"Create the first lesson"})]}),e[12]=s,e[13]=d,e[14]=i):i=e[14];let k;e[15]!==i?(k=t.jsx("div",{className:"grid gap-3",children:i}),e[15]=i,e[16]=k):k=e[16];let g;return e[17]!==m||e[18]!==a||e[19]!==k?(g=t.jsxs("div",{className:"space-y-6",children:[m,a,k]}),e[17]=m,e[18]=a,e[19]=k,e[20]=g):g=e[20],g};function or(r){const e=Ce.c(309),{course:s,categories:l}=r,o=s.title||"",d=s.title_ar||"",u=s.description||"",b=s.description_ar||"";let y;e[0]!==s.category_id?(y=s.category_id?s.category_id.toString():"",e[0]=s.category_id,e[1]=y):y=e[1];const S=s.price||0;let N;e[2]!==s.learning_outcomes?(N=s.learning_outcomes?.length>0?s.learning_outcomes:[""],e[2]=s.learning_outcomes,e[3]=N):N=e[3];const _=N;let h;e[4]!==s.learning_outcomes_ar?(h=s.learning_outcomes_ar?.length>0?s.learning_outcomes_ar:[""],e[4]=s.learning_outcomes_ar,e[5]=h):h=e[5];const q=h,p=s.discount_percentage||0;let f;e[6]!==s.discount_start_date?(f=s.discount_start_date?new Date(s.discount_start_date).toISOString().slice(0,16):"",e[6]=s.discount_start_date,e[7]=f):f=e[7];let n;e[8]!==s.discount_end_date?(n=s.discount_end_date?new Date(s.discount_end_date).toISOString().slice(0,16):"",e[8]=s.discount_end_date,e[9]=n):n=e[9];let m;e[10]!==o||e[11]!==q||e[12]!==p||e[13]!==f||e[14]!==n||e[15]!==d||e[16]!==u||e[17]!==b||e[18]!==y||e[19]!==S||e[20]!==_?(m={title:o,title_ar:d,description:u,description_ar:b,category_id:y,price:S,learning_outcomes:_,learning_outcomes_ar:q,discount_percentage:p,discount_start_date:f,discount_end_date:n},e[10]=o,e[11]=q,e[12]=p,e[13]=f,e[14]=n,e[15]=d,e[16]=u,e[17]=b,e[18]=y,e[19]=S,e[20]=_,e[21]=m):m=e[21];const{data:a,setData:i,patch:k,processing:g,errors:c}=ts(m);let T;e[22]!==a||e[23]!==i?(T=v=>{const ye=v==="en"?"learning_outcomes":"learning_outcomes_ar";i(ye,[...a[ye],""])},e[22]=a,e[23]=i,e[24]=T):T=e[24];const C=T;let z;e[25]!==a||e[26]!==i?(z=(v,ye)=>{const ue=v==="en"?"learning_outcomes":"learning_outcomes_ar",qe=[...a[ue]];qe.splice(ye,1),i(ue,qe)},e[25]=a,e[26]=i,e[27]=z):z=e[27];const w=z;let D;e[28]!==a||e[29]!==i?(D=(v,ye,ue)=>{const qe=v==="en"?"learning_outcomes":"learning_outcomes_ar",sl=[...a[qe]];sl[ye]=ue,i(qe,sl)},e[28]=a,e[29]=i,e[30]=D):D=e[30];const F=D,[E,I]=se.useState(!1),[x,M]=se.useState(null),[P,_e]=se.useState("details");let xe;e[31]!==s.id||e[32]!==k?(xe=v=>{v.preventDefault(),k($s("instructor.courses.update",s.id),{onSuccess:va,preserveScroll:!0})},e[31]=s.id,e[32]=k,e[33]=xe):xe=e[33];const U=xe,le=_a;let B;e[34]===Symbol.for("react.memo_cache_sentinel")?(B=v=>{M(v),I(!0)},e[34]=B):B=e[34];const ae=B;let J;e[35]===Symbol.for("react.memo_cache_sentinel")?(J=()=>{I(!1),$e.reload({only:["course"]}),Fe.success("Resource attached successfully.")},e[35]=J):J=e[35];const re=J;let de;e[36]!==s.lessons||e[37]!==x?(de=()=>{I(!1),$e.reload({only:["course"]},{onSuccess:()=>{const v=s.lessons.find(ye=>ye.id===x.id);v&&v.quiz?.id?(M(v),I(!0),Fe.success("Quiz created! Let's add some questions.")):le()}})},e[36]=s.lessons,e[37]=x,e[38]=de):de=e[38];const ie=de;let Z;e[39]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>{I(!1),$e.reload({only:["course"]})},e[39]=Z):Z=e[39];const he=Z,ne=ja,Y=`Edit: ${s.title}`,W=`Edit: ${s.title}`;let X;e[40]!==W?(X=t.jsx(wl,{title:W}),e[40]=W,e[41]=X):X=e[41];let ee;e[42]===Symbol.for("react.memo_cache_sentinel")?(ee=$s("instructor.courses.index"),e[42]=ee):ee=e[42];let H;e[43]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs(ll,{href:ee,className:"flex items-center text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:[t.jsx(Bl,{className:"mr-2 h-4 w-4"})," Back to Catalog"]}),e[43]=H):H=e[43];let G;e[44]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(is,{variant:"secondary",className:"px-3 py-1 font-bold text-xs bg-primary/10 text-primary border-primary/20",children:"COURSE BUILDER"}),e[44]=G):G=e[44];const ve=s.is_published?"text-green-600 bg-green-50 border-green-200":"text-yellow-600 bg-yellow-50 border-yellow-200";let O;e[45]!==ve?(O=Me("px-3 py-1 font-bold text-xs",ve),e[45]=ve,e[46]=O):O=e[46];const me=s.is_published?"LIVE":"DRAFT";let V;e[47]!==O||e[48]!==me?(V=t.jsxs("div",{className:"flex items-center gap-3",children:[G,t.jsx(is,{variant:"outline",className:O,children:me})]}),e[47]=O,e[48]=me,e[49]=V):V=e[49];let te;e[50]!==s.title?(te=t.jsx("h1",{className:"text-4xl font-extrabold tracking-tight md:text-5xl leading-tight text-foreground truncate",children:s.title}),e[50]=s.title,e[51]=te):te=e[51];let j;e[52]!==s.id?(j=t.jsxs("span",{className:"text-foreground tracking-widest",children:["#",s.id]}),e[52]=s.id,e[53]=j):j=e[53];const Q=s.category?.name;let A;e[54]!==j||e[55]!==Q?(A=t.jsxs("p",{className:"text-muted-foreground text-lg font-medium max-w-xl line-clamp-1",children:["Course ID: ",j," • ",Q]}),e[54]=j,e[55]=Q,e[56]=A):A=e[56];let L;e[57]!==s.slug?(L=$s("courses.learn",s.slug),e[57]=s.slug,e[58]=L):L=e[58];let oe;e[59]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsxs(R,{className:"h-11 rounded-full px-6 font-extrabold shadow-lg shadow-primary/20 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Hl,{className:"mr-2 h-4 w-4"})," Preview as Student"]}),e[59]=oe):oe=e[59];let ce;e[60]!==L?(ce=t.jsx("div",{className:"flex flex-wrap gap-3 pt-4",children:t.jsx(ll,{href:L,target:"_blank",children:oe})}),e[60]=L,e[61]=ce):ce=e[61];let pe;e[62]!==V||e[63]!==te||e[64]!==A||e[65]!==ce?(pe=t.jsxs("div",{className:"space-y-4 max-w-2xl",children:[V,te,A,ce]}),e[62]=V,e[63]=te,e[64]=A,e[65]=ce,e[66]=pe):pe=e[66];let ze;e[67]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsxs(je,{className:"p-4 border-none shadow-sm bg-background flex flex-col items-center justify-center text-center",children:[t.jsx(Cl,{className:"h-5 w-5 mb-1 text-primary"}),t.jsx("span",{className:"text-lg font-black leading-none",children:"1.2k"}),t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Students"})]}),e[67]=ze):ze=e[67];let Ne;e[68]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsxs(je,{className:"p-4 border-none shadow-sm bg-background flex flex-col items-center justify-center text-center",children:[t.jsx(Ys,{className:"h-5 w-5 mb-1 text-green-600"}),t.jsx("span",{className:"text-lg font-black leading-none",children:"USD 4.5k"}),t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Revenue"})]}),e[68]=Ne):Ne=e[68];let we;e[69]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(Sl,{className:"h-5 w-5 mb-1 text-blue-600"}),e[69]=we):we=e[69];let ge;e[70]!==s.lessons.length?(ge=t.jsx("span",{className:"text-lg font-black leading-none",children:s.lessons.length}),e[70]=s.lessons.length,e[71]=ge):ge=e[71];let Se;e[72]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground mt-1",children:"Lessons"}),e[72]=Se):Se=e[72];let ke;e[73]!==ge?(ke=t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[ze,Ne,t.jsxs(je,{className:"hidden sm:flex p-4 border-none shadow-sm bg-background flex-col items-center justify-center text-center",children:[we,ge,Se]})]}),e[73]=ge,e[74]=ke):ke=e[74];let be;e[75]!==pe||e[76]!==ke?(be=t.jsx("div",{className:"border-b bg-muted/30 py-8 lg:py-12",children:t.jsxs("div",{className:"container mx-auto px-4",children:[H,t.jsxs("div",{className:"mt-8 flex flex-col lg:flex-row lg:items-end justify-between gap-10",children:[pe,ke]})]})}),e[75]=pe,e[76]=ke,e[77]=be):be=e[77];let Te;e[78]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsxs(Qe,{value:"details",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(dl,{className:"w-4 h-4"})," General Details"]}),e[78]=Te):Te=e[78];let Ie;e[79]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsxs(Qe,{value:"curriculum",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(el,{className:"w-4 h-4"})," Curriculum Builder"]}),e[79]=Ie):Ie=e[79];let ns;e[80]===Symbol.for("react.memo_cache_sentinel")?(ns=t.jsxs(Qe,{value:"media",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(Ms,{className:"w-4 h-4"})," Content Status"]}),e[80]=ns):ns=e[80];let os;e[81]===Symbol.for("react.memo_cache_sentinel")?(os=t.jsxs(Qe,{value:"quizzes",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(ss,{className:"w-4 h-4"})," Assessments"]}),e[81]=os):os=e[81];let cs;e[82]===Symbol.for("react.memo_cache_sentinel")?(cs=t.jsx("div",{className:"bg-muted/30 p-1.5 rounded-2xl inline-flex mb-8 border backdrop-blur-sm",children:t.jsxs(yl,{className:"bg-transparent h-auto gap-1",children:[Te,Ie,ns,os,t.jsxs(Qe,{value:"offers",className:"rounded-xl px-5 py-3 font-bold text-sm flex items-center gap-2 transition-all data-[state=active]:bg-background data-[state=active]:shadow-lg data-[state=active]:text-primary",children:[t.jsx(Ys,{className:"w-4 h-4"})," Promotions"]})]})}),e[82]=cs):cs=e[82];let ds;e[83]===Symbol.for("react.memo_cache_sentinel")?(ds=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(kl,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Basic Settings"}),t.jsx(Ls,{children:"Fundamental details about the course."})]})]})}),e[83]=ds):ds=e[83];let ms;e[84]===Symbol.for("react.memo_cache_sentinel")?(ms=t.jsx($,{htmlFor:"title",className:"text-base font-bold tracking-tight",children:"Title"}),e[84]=ms):ms=e[84];let Re;e[85]!==i?(Re=v=>i("title",v.target.value),e[85]=i,e[86]=Re):Re=e[86];let Ue;e[87]!==a.title||e[88]!==Re?(Ue=t.jsx(fe,{id:"title",className:"h-14 text-lg font-bold border-muted-foreground/20 rounded-xl px-5 bg-muted/10 shadow-inner",value:a.title,onChange:Re,required:!0}),e[87]=a.title,e[88]=Re,e[89]=Ue):Ue=e[89];let Oe;e[90]!==c.title?(Oe=t.jsx(K,{message:c.title}),e[90]=c.title,e[91]=Oe):Oe=e[91];let Ve;e[92]!==Ue||e[93]!==Oe?(Ve=t.jsxs("div",{className:"space-y-3",children:[ms,Ue,Oe]}),e[92]=Ue,e[93]=Oe,e[94]=Ve):Ve=e[94];let us;e[95]===Symbol.for("react.memo_cache_sentinel")?(us=t.jsx($,{htmlFor:"title_ar",className:"text-base font-bold tracking-tight text-right block",children:"Title (Arabic)"}),e[95]=us):us=e[95];let Be;e[96]!==i?(Be=v=>i("title_ar",v.target.value),e[96]=i,e[97]=Be):Be=e[97];let He;e[98]!==a.title_ar||e[99]!==Be?(He=t.jsxs("div",{className:"space-y-3",children:[us,t.jsx(fe,{id:"title_ar",dir:"rtl",className:"h-14 text-lg font-bold border-muted-foreground/20 rounded-xl px-5 bg-muted/10 shadow-inner",value:a.title_ar,onChange:Be})]}),e[98]=a.title_ar,e[99]=Be,e[100]=He):He=e[100];let fs;e[101]===Symbol.for("react.memo_cache_sentinel")?(fs=t.jsx($,{htmlFor:"description",className:"text-base font-bold tracking-tight",children:"Description"}),e[101]=fs):fs=e[101];let Ge;e[102]!==i?(Ge=v=>i("description",v.target.value),e[102]=i,e[103]=Ge):Ge=e[103];let Ke;e[104]!==a.description||e[105]!==Ge?(Ke=t.jsx(ls,{id:"description",className:"min-h-[160px] text-lg font-medium border-muted-foreground/20 rounded-xl p-5 bg-muted/10 shadow-inner resize-none leading-relaxed",value:a.description,onChange:Ge,required:!0}),e[104]=a.description,e[105]=Ge,e[106]=Ke):Ke=e[106];let Ye;e[107]!==c.description?(Ye=t.jsx(K,{message:c.description}),e[107]=c.description,e[108]=Ye):Ye=e[108];let We;e[109]!==Ke||e[110]!==Ye?(We=t.jsxs("div",{className:"space-y-3",children:[fs,Ke,Ye]}),e[109]=Ke,e[110]=Ye,e[111]=We):We=e[111];let xs;e[112]===Symbol.for("react.memo_cache_sentinel")?(xs=t.jsx($,{htmlFor:"description_ar",className:"text-base font-bold tracking-tight text-right block",children:"Description (Arabic)"}),e[112]=xs):xs=e[112];let Xe;e[113]!==i?(Xe=v=>i("description_ar",v.target.value),e[113]=i,e[114]=Xe):Xe=e[114];let Je;e[115]!==a.description_ar||e[116]!==Xe?(Je=t.jsxs("div",{className:"space-y-3",children:[xs,t.jsx(ls,{id:"description_ar",dir:"rtl",className:"min-h-[160px] text-lg font-medium border-muted-foreground/20 rounded-xl p-5 bg-muted/10 shadow-inner resize-none leading-relaxed",value:a.description_ar,onChange:Xe})]}),e[115]=a.description_ar,e[116]=Xe,e[117]=Je):Je=e[117];let hs;e[118]===Symbol.for("react.memo_cache_sentinel")?(hs=t.jsx(il,{className:"my-8 border-dashed"}),e[118]=hs):hs=e[118];let ps;e[119]===Symbol.for("react.memo_cache_sentinel")?(ps=t.jsx($,{className:"text-base font-bold tracking-tight",children:"What will students learn?"}),e[119]=ps):ps=e[119];let Ze;e[120]!==C?(Ze=()=>C("en"),e[120]=C,e[121]=Ze):Ze=e[121];let gs;e[122]===Symbol.for("react.memo_cache_sentinel")?(gs=t.jsx(rs,{className:"w-4 h-4 mr-1"}),e[122]=gs):gs=e[122];let et;e[123]!==Ze?(et=t.jsxs("div",{className:"flex items-center justify-between",children:[ps,t.jsxs(R,{type:"button",variant:"ghost",size:"sm",className:"text-primary font-bold",onClick:Ze,children:[gs," Add Outcome"]})]}),e[123]=Ze,e[124]=et):et=e[124];let tt;if(e[125]!==a.learning_outcomes||e[126]!==F||e[127]!==w){let v;e[129]!==a.learning_outcomes.length||e[130]!==F||e[131]!==w?(v=(ye,ue)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(fe,{placeholder:`Outcome #${ue+1}`,className:"h-12 border-muted-foreground/20 rounded-xl bg-muted/5 shadow-inner",value:ye,onChange:qe=>F("en",ue,qe.target.value)}),a.learning_outcomes.length>1&&t.jsx(R,{type:"button",variant:"ghost",size:"icon",className:"h-12 w-12 rounded-xl text-muted-foreground hover:text-destructive",onClick:()=>w("en",ue),children:t.jsx(as,{className:"w-5 h-5"})})]},ue),e[129]=a.learning_outcomes.length,e[130]=F,e[131]=w,e[132]=v):v=e[132],tt=a.learning_outcomes.map(v),e[125]=a.learning_outcomes,e[126]=F,e[127]=w,e[128]=tt}else tt=e[128];let st;e[133]!==tt?(st=t.jsx("div",{className:"space-y-3",children:tt}),e[133]=tt,e[134]=st):st=e[134];let lt;e[135]!==c.learning_outcomes?(lt=t.jsx(K,{message:c.learning_outcomes}),e[135]=c.learning_outcomes,e[136]=lt):lt=e[136];let at;e[137]!==et||e[138]!==st||e[139]!==lt?(at=t.jsxs("div",{className:"space-y-4",children:[et,st,lt]}),e[137]=et,e[138]=st,e[139]=lt,e[140]=at):at=e[140];let bs;e[141]===Symbol.for("react.memo_cache_sentinel")?(bs=t.jsx($,{className:"text-base font-bold tracking-tight text-right block w-full",children:"ماذا سيتعلم الطلاب؟ (بالعربية)"}),e[141]=bs):bs=e[141];let rt;e[142]!==C?(rt=()=>C("ar"),e[142]=C,e[143]=rt):rt=e[143];let js;e[144]===Symbol.for("react.memo_cache_sentinel")?(js=t.jsx(rs,{className:"w-4 h-4 mr-1"}),e[144]=js):js=e[144];let it;e[145]!==rt?(it=t.jsxs("div",{className:"flex items-center justify-between",children:[bs,t.jsxs(R,{type:"button",variant:"ghost",size:"sm",className:"text-primary font-bold",onClick:rt,children:[js," إضافة مخرجات"]})]}),e[145]=rt,e[146]=it):it=e[146];let nt;if(e[147]!==a.learning_outcomes_ar||e[148]!==F||e[149]!==w){let v;e[151]!==a.learning_outcomes_ar.length||e[152]!==F||e[153]!==w?(v=(ye,ue)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(fe,{dir:"rtl",placeholder:`المخرج #${ue+1}`,className:"h-12 border-muted-foreground/20 rounded-xl bg-muted/5 shadow-inner",value:ye,onChange:qe=>F("ar",ue,qe.target.value)}),a.learning_outcomes_ar.length>1&&t.jsx(R,{type:"button",variant:"ghost",size:"icon",className:"h-12 w-12 rounded-xl text-muted-foreground hover:text-destructive",onClick:()=>w("ar",ue),children:t.jsx(as,{className:"w-5 h-5"})})]},ue),e[151]=a.learning_outcomes_ar.length,e[152]=F,e[153]=w,e[154]=v):v=e[154],nt=a.learning_outcomes_ar.map(v),e[147]=a.learning_outcomes_ar,e[148]=F,e[149]=w,e[150]=nt}else nt=e[150];let ot;e[155]!==nt?(ot=t.jsx("div",{className:"space-y-3",children:nt}),e[155]=nt,e[156]=ot):ot=e[156];let ct;e[157]!==it||e[158]!==ot?(ct=t.jsxs("div",{className:"space-y-4",children:[it,ot]}),e[157]=it,e[158]=ot,e[159]=ct):ct=e[159];let _s;e[160]===Symbol.for("react.memo_cache_sentinel")?(_s=t.jsx($,{htmlFor:"category_id",className:"text-base font-bold tracking-tight",children:"Category"}),e[160]=_s):_s=e[160];let dt;e[161]!==i?(dt=v=>i("category_id",v),e[161]=i,e[162]=dt):dt=e[162];const Nl=a.category_id;let vs;e[163]===Symbol.for("react.memo_cache_sentinel")?(vs=t.jsx(Xs,{id:"category_id",className:"h-14 rounded-xl border-muted-foreground/20 text-lg font-medium px-5 bg-muted/10",children:t.jsx(Js,{placeholder:"Select a Category"})}),e[163]=vs):vs=e[163];let mt;e[164]!==l?(mt=l.map(ba),e[164]=l,e[165]=mt):mt=e[165];let ut;e[166]!==mt?(ut=t.jsx(Zs,{className:"rounded-xl",children:mt}),e[166]=mt,e[167]=ut):ut=e[167];let ft;e[168]!==a.category_id||e[169]!==dt||e[170]!==ut?(ft=t.jsxs(Ws,{onValueChange:dt,value:Nl,children:[vs,ut]}),e[168]=a.category_id,e[169]=dt,e[170]=ut,e[171]=ft):ft=e[171];let xt;e[172]!==c.category_id?(xt=t.jsx(K,{message:c.category_id}),e[172]=c.category_id,e[173]=xt):xt=e[173];let ht;e[174]!==ft||e[175]!==xt?(ht=t.jsxs("div",{className:"space-y-3",children:[_s,ft,xt]}),e[174]=ft,e[175]=xt,e[176]=ht):ht=e[176];let ys;e[177]===Symbol.for("react.memo_cache_sentinel")?(ys=t.jsx($,{htmlFor:"price",className:"text-base font-bold tracking-tight",children:"Price (USD)"}),e[177]=ys):ys=e[177];let Ns;e[178]===Symbol.for("react.memo_cache_sentinel")?(Ns=t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl font-black text-muted-foreground",children:"USD"}),e[178]=Ns):Ns=e[178];let pt;e[179]!==i?(pt=v=>i("price",parseFloat(v.target.value)),e[179]=i,e[180]=pt):pt=e[180];let gt;e[181]!==a.price||e[182]!==pt?(gt=t.jsxs("div",{className:"relative",children:[Ns,t.jsx(fe,{id:"price",type:"number",step:"0.01",min:"0",className:"h-14 rounded-xl border-muted-foreground/20 text-xl font-black pl-16 pr-5 bg-muted/10 shadow-inner",value:a.price,onChange:pt,required:!0})]}),e[181]=a.price,e[182]=pt,e[183]=gt):gt=e[183];let bt;e[184]!==c.price?(bt=t.jsx(K,{message:c.price}),e[184]=c.price,e[185]=bt):bt=e[185];let jt;e[186]!==gt||e[187]!==bt?(jt=t.jsxs("div",{className:"space-y-3",children:[ys,gt,bt]}),e[186]=gt,e[187]=bt,e[188]=jt):jt=e[188];let _t;e[189]!==jt||e[190]!==ht?(_t=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[ht,jt]}),e[189]=jt,e[190]=ht,e[191]=_t):_t=e[191];let ws;e[192]===Symbol.for("react.memo_cache_sentinel")?(ws=t.jsx(il,{className:"my-8 border-dashed"}),e[192]=ws):ws=e[192];let vt;e[193]!==g?(vt=g?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(nl,{className:"mr-2 h-5 w-5"})," Save Changes"]}),e[193]=g,e[194]=vt):vt=e[194];let yt;e[195]!==g||e[196]!==vt?(yt=t.jsx(R,{type:"submit",size:"lg",disabled:g,className:"h-14 rounded-full px-10 font-black tracking-tight text-lg shadow-xl shadow-primary/20 transition-all hover:scale-105 active:scale-95",children:vt}),e[195]=g,e[196]=vt,e[197]=yt):yt=e[197];let Nt;e[198]!==U||e[199]!==_t||e[200]!==yt||e[201]!==Ve||e[202]!==He||e[203]!==We||e[204]!==Je||e[205]!==at||e[206]!==ct?(Nt=t.jsx(Pe,{value:"details",className:"mt-0 animate-in fade-in slide-in-from-left-4 duration-500",children:t.jsxs(je,{className:"border-none shadow-xl",children:[ds,t.jsx(De,{className:"p-8",children:t.jsxs("form",{onSubmit:U,className:"space-y-8 max-w-4xl",children:[Ve,He,We,Je,hs,at,ct,_t,ws,yt]})})]})}),e[198]=U,e[199]=_t,e[200]=yt,e[201]=Ve,e[202]=He,e[203]=We,e[204]=Je,e[205]=at,e[206]=ct,e[207]=Nt):Nt=e[207];let Ss;e[208]===Symbol.for("react.memo_cache_sentinel")?(Ss=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(al,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Structure Editor"}),t.jsx(Ls,{children:"Drag, drop, and refine your learning path."})]})]})}),e[208]=Ss):Ss=e[208];let wt;e[209]!==s.id||e[210]!==s.lessons?(wt=t.jsx(Pe,{value:"curriculum",className:"mt-0 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs(je,{className:"border-none shadow-xl overflow-hidden",children:[Ss,t.jsx(De,{className:"p-8",children:t.jsx(pa,{lessons:s.lessons,courseId:s.id,onUpdate:le,onContentEdit:ae})})]})}),e[209]=s.id,e[210]=s.lessons,e[211]=wt):wt=e[211];let Cs;e[212]===Symbol.for("react.memo_cache_sentinel")?(Cs=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-primary border shadow-sm",children:t.jsx(Ms,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Content Audit"}),t.jsx(Ls,{children:"Verification of all attached learning resources."})]})]})}),e[212]=Cs):Cs=e[212];let ks;e[213]===Symbol.for("react.memo_cache_sentinel")?(ks=t.jsxs("p",{className:"text-muted-foreground mb-10 font-medium bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800 text-sm",children:[t.jsx(ss,{className:"inline h-4 w-4 mr-2 mb-0.5 text-blue-600"}),"All media management is integrated directly within the **Curriculum Builder** tab for a seamless experience."]}),e[213]=ks):ks=e[213];let St;e[214]!==s.lessons?(St=s.lessons.map(ga),e[214]=s.lessons,e[215]=St):St=e[215];let Ct;e[216]!==St?(Ct=t.jsx(Pe,{value:"media",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsxs(je,{className:"border-none shadow-xl",children:[Cs,t.jsxs(De,{className:"p-8",children:[ks,t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:St})]})]})}),e[216]=St,e[217]=Ct):Ct=e[217];let zs;e[218]===Symbol.for("react.memo_cache_sentinel")?(zs=t.jsx(Pe,{value:"quizzes",className:"mt-0 animate-in fade-in zoom-in-95 duration-500"}),e[218]=zs):zs=e[218];let Ts;e[219]===Symbol.for("react.memo_cache_sentinel")?(Ts=t.jsx(Le,{className:"bg-muted/30 pb-6 rounded-t-xl border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-background text-green-600 border shadow-sm",children:t.jsx(Ys,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx(Ae,{className:"text-xl font-bold italic tracking-tight uppercase",children:"Promotion & Offers"}),t.jsx(Ls,{children:"Increase enrollments by setting temporary discounts."})]})]})}),e[219]=Ts):Ts=e[219];let qs;e[220]===Symbol.for("react.memo_cache_sentinel")?(qs=t.jsx($,{htmlFor:"discount_percentage",className:"text-base font-bold tracking-tight",children:"Discount Percentage (%)"}),e[220]=qs):qs=e[220];let kt;e[221]!==i?(kt=v=>i("discount_percentage",parseInt(v.target.value)),e[221]=i,e[222]=kt):kt=e[222];let zt;e[223]!==a.discount_percentage||e[224]!==kt?(zt=t.jsx(fe,{id:"discount_percentage",type:"number",min:"0",max:"100",className:"h-14 rounded-xl border-muted-foreground/20 text-xl font-black px-5 bg-muted/10 shadow-inner",value:a.discount_percentage,onChange:kt}),e[223]=a.discount_percentage,e[224]=kt,e[225]=zt):zt=e[225];let Ds;e[226]===Symbol.for("react.memo_cache_sentinel")?(Ds=t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl font-black text-muted-foreground",children:"%"}),e[226]=Ds):Ds=e[226];let Tt;e[227]!==zt?(Tt=t.jsxs("div",{className:"relative",children:[zt,Ds]}),e[227]=zt,e[228]=Tt):Tt=e[228];let qt;e[229]!==c.discount_percentage?(qt=t.jsx(K,{message:c.discount_percentage}),e[229]=c.discount_percentage,e[230]=qt):qt=e[230];let Dt;e[231]!==Tt||e[232]!==qt?(Dt=t.jsxs("div",{className:"space-y-3",children:[qs,Tt,qt]}),e[231]=Tt,e[232]=qt,e[233]=Dt):Dt=e[233];let Fs;e[234]===Symbol.for("react.memo_cache_sentinel")?(Fs=t.jsx($,{className:"text-base font-bold tracking-tight",children:"Final Price"}),e[234]=Fs):Fs=e[234];const Bs=a.price*(1-a.discount_percentage/100);let Ft;e[235]!==Bs?(Ft=Bs.toFixed(2),e[235]=Bs,e[236]=Ft):Ft=e[236];let It;e[237]!==Ft?(It=t.jsxs("div",{className:"space-y-3",children:[Fs,t.jsxs("div",{className:"h-14 flex items-center px-5 rounded-xl bg-orange-50 border border-orange-100 text-orange-700 font-black text-xl",children:["USD ",Ft]})]}),e[237]=Ft,e[238]=It):It=e[238];let At;e[239]!==Dt||e[240]!==It?(At=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Dt,It]}),e[239]=Dt,e[240]=It,e[241]=At):At=e[241];let Is;e[242]===Symbol.for("react.memo_cache_sentinel")?(Is=t.jsx($,{htmlFor:"discount_start_date",className:"text-base font-bold tracking-tight",children:"Offer Start Date"}),e[242]=Is):Is=e[242];let Et;e[243]!==i?(Et=v=>i("discount_start_date",v.target.value),e[243]=i,e[244]=Et):Et=e[244];let Qt;e[245]!==a.discount_start_date||e[246]!==Et?(Qt=t.jsx(fe,{id:"discount_start_date",type:"datetime-local",className:"h-14 rounded-xl border-muted-foreground/20 font-medium px-5 bg-muted/10",value:a.discount_start_date,onChange:Et}),e[245]=a.discount_start_date,e[246]=Et,e[247]=Qt):Qt=e[247];let Pt;e[248]!==c.discount_start_date?(Pt=t.jsx(K,{message:c.discount_start_date}),e[248]=c.discount_start_date,e[249]=Pt):Pt=e[249];let Lt;e[250]!==Qt||e[251]!==Pt?(Lt=t.jsxs("div",{className:"space-y-3",children:[Is,Qt,Pt]}),e[250]=Qt,e[251]=Pt,e[252]=Lt):Lt=e[252];let As;e[253]===Symbol.for("react.memo_cache_sentinel")?(As=t.jsx($,{htmlFor:"discount_end_date",className:"text-base font-bold tracking-tight",children:"Offer End Date"}),e[253]=As):As=e[253];let $t;e[254]!==i?($t=v=>i("discount_end_date",v.target.value),e[254]=i,e[255]=$t):$t=e[255];let Mt;e[256]!==a.discount_end_date||e[257]!==$t?(Mt=t.jsx(fe,{id:"discount_end_date",type:"datetime-local",className:"h-14 rounded-xl border-muted-foreground/20 font-medium px-5 bg-muted/10",value:a.discount_end_date,onChange:$t}),e[256]=a.discount_end_date,e[257]=$t,e[258]=Mt):Mt=e[258];let Rt;e[259]!==c.discount_end_date?(Rt=t.jsx(K,{message:c.discount_end_date}),e[259]=c.discount_end_date,e[260]=Rt):Rt=e[260];let Ut;e[261]!==Mt||e[262]!==Rt?(Ut=t.jsxs("div",{className:"space-y-3",children:[As,Mt,Rt]}),e[261]=Mt,e[262]=Rt,e[263]=Ut):Ut=e[263];let Ot;e[264]!==Lt||e[265]!==Ut?(Ot=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Lt,Ut]}),e[264]=Lt,e[265]=Ut,e[266]=Ot):Ot=e[266];let Es;e[267]===Symbol.for("react.memo_cache_sentinel")?(Es=t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 flex gap-4",children:[t.jsx(ss,{className:"h-6 w-6 text-blue-600 shrink-0"}),t.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300 font-medium leading-relaxed",children:"Instructors can use offers to boost sales. Discounts are automatically applied during the specified time range. Set percentage to **0** to disable any active offer."})]}),e[267]=Es):Es=e[267];let Vt;e[268]!==g?(Vt=g?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(nl,{className:"mr-2 h-5 w-5"})," Update Offer Details"]}),e[268]=g,e[269]=Vt):Vt=e[269];let Bt;e[270]!==g||e[271]!==Vt?(Bt=t.jsx(R,{type:"submit",size:"lg",disabled:g,className:"h-14 rounded-full px-10 font-black tracking-tight text-lg shadow-xl shadow-primary/20 transition-all hover:scale-105 active:scale-95",children:Vt}),e[270]=g,e[271]=Vt,e[272]=Bt):Bt=e[272];let Ht;e[273]!==U||e[274]!==At||e[275]!==Ot||e[276]!==Bt?(Ht=t.jsx(Pe,{value:"offers",className:"mt-0 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs(je,{className:"border-none shadow-xl",children:[Ts,t.jsx(De,{className:"p-8",children:t.jsxs("form",{onSubmit:U,className:"space-y-8 max-w-2xl",children:[At,Ot,Es,Bt]})})]})}),e[273]=U,e[274]=At,e[275]=Ot,e[276]=Bt,e[277]=Ht):Ht=e[277];let Gt;e[278]!==P||e[279]!==Nt||e[280]!==wt||e[281]!==Ct||e[282]!==Ht?(Gt=t.jsx("div",{className:"container mx-auto px-4 py-10",children:t.jsxs(vl,{value:P,onValueChange:_e,className:"w-full",children:[cs,Nt,wt,Ct,zs,Ht]})}),e[278]=P,e[279]=Nt,e[280]=wt,e[281]=Ct,e[282]=Ht,e[283]=Gt):Gt=e[283];let Kt;e[284]!==Gt||e[285]!==be?(Kt=t.jsxs("div",{className:"bg-background min-h-screen pb-20",children:[be,Gt]}),e[284]=Gt,e[285]=be,e[286]=Kt):Kt=e[286];let Qs;e[287]===Symbol.for("react.memo_cache_sentinel")?(Qs=t.jsx(al,{className:"h-6 w-6"}),e[287]=Qs):Qs=e[287];const Hs=x?.title;let Yt;e[288]!==Hs?(Yt=t.jsxs(Ql,{className:"text-2xl font-black tracking-tight flex items-center gap-3 uppercase",children:[Qs," Editing Resource: ",Hs]}),e[288]=Hs,e[289]=Yt):Yt=e[289];const Gs=x?.order;let Wt;e[290]!==Gs?(Wt=t.jsxs("p",{className:"text-primary-foreground/70 font-medium italic mt-1",children:["Refining content for Lesson ",Gs]}),e[290]=Gs,e[291]=Wt):Wt=e[291];let Xt;e[292]!==Yt||e[293]!==Wt?(Xt=t.jsxs(Pl,{className:"p-8 bg-primary text-primary-foreground",children:[Yt,Wt]}),e[292]=Yt,e[293]=Wt,e[294]=Xt):Xt=e[294];let Jt;e[295]!==ie||e[296]!==x?(Jt=t.jsx("div",{className:"p-8 bg-card",children:x&&x.type==="text"?t.jsx(oa,{lessonId:x.id,initialContent:x.description||"",initialTitle:x.title||"Untitled Lesson",initialOrder:x.order||0,initialIsFreePreview:x.is_free_preview||!1,onSave:()=>{I(!1),le()}}):x&&["video","downloadable"].includes(x.type)?t.jsx(ia,{lessonId:x.id,lessonType:x.type,onUploadSuccess:re}):x?.type==="quiz"?t.jsx(ha,{lessonId:x.id,quizId:x.quiz?.id||null,lessonTitle:x.title,existingQuestions:ne(x),onQuizCreated:ie,onQuestionSaved:he}):t.jsxs("div",{className:"py-20 text-center",children:[t.jsx(ss,{className:"h-12 w-12 mx-auto text-muted-foreground/20 mb-4"}),t.jsx("p",{className:"text-muted-foreground font-bold italic",children:"Lesson configuration incomplete."})]})}),e[295]=ie,e[296]=x,e[297]=Jt):Jt=e[297];let Zt;e[298]!==Xt||e[299]!==Jt?(Zt=t.jsxs(Ll,{className:"max-w-4xl p-0 border-none rounded-3xl overflow-hidden shadow-3xl overflow-y-auto max-h-[90vh]",children:[Xt,Jt]}),e[298]=Xt,e[299]=Jt,e[300]=Zt):Zt=e[300];let es;e[301]!==E||e[302]!==Zt?(es=t.jsx($l,{open:E,onOpenChange:I,children:Zt}),e[301]=E,e[302]=Zt,e[303]=es):es=e[303];let Ps;return e[304]!==Kt||e[305]!==es||e[306]!==Y||e[307]!==X?(Ps=t.jsxs(zl,{title:Y,children:[X,Kt,es]}),e[304]=Kt,e[305]=es,e[306]=Y,e[307]=X,e[308]=Ps):Ps=e[308],Ps}function ga(r){return t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-2xl bg-muted/10 group hover:border-primary/30 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-background border flex items-center justify-center text-[10px] font-black",children:r.order}),t.jsx("span",{className:"font-bold",children:r.title})]}),t.jsx(is,{variant:"outline",className:Me("h-7 px-3 rounded-full text-[10px] font-bold tracking-widest uppercase",r.video?.path||r.downloadable_path?"bg-green-50 text-green-600 border-green-200":"bg-muted text-muted-foreground border-muted-foreground/10"),children:r.video?.path||r.downloadable_path?"Resource Ready":"Empty"})]},r.id)}function ba(r){return t.jsx(Ee,{value:r.id.toString(),className:"text-base py-3",children:r.name},r.id)}function ja(r){return r.quiz?.questions||[]}function _a(){$e.reload({only:["course"]})}function va(){$e.reload({only:["course"]}),Fe.success("Changes saved successfully.")}function ya(){return Fe.success("Lesson deleted successfully.")}function Na(r){confirm("Are you sure you want to delete this lesson? All associated content will be lost.")&&$e.delete($s("instructor.lessons.destroy",r),{onSuccess:ya,preserveScroll:!0})}function wa(r,e){return r.order-e.order}export{or as default};
