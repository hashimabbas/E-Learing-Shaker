import{c as le,a as ie,r as Q,j as s,b as se,H as re}from"./app-DyKQlprP.js";import{A as W,a as Y,b as Z,c as ne}from"./app-layout-CNoPMChV.js";import{B as P}from"./button-DPAe4nkm.js";import{C as ce,a as oe,b as de,c as me}from"./card-B-ZoIeNY.js";import{T as xe}from"./textarea-C45VYLx8.js";import{S as he,a as ue,b as pe,c as $,d as fe}from"./select-Da2nNzwb.js";import{T as K,a as A,b as je,c as C,d as ge,e as ve}from"./table-BBdTMGo9.js";import{D as be,a as Ne,b as we,c as Se,d as ye,e as Ae}from"./dialog-Dh2j6-74.js";import{B as Ce}from"./badge-BuGvogzK.js";import{L as q}from"./label-CfWfEvQV.js";import{L as _e}from"./pagination-DYcRELgn.js";import{E as De}from"./eye-7oHpDKcT.js";import{X as ke}from"./sheet-CgJcP9pL.js";import{C as Re}from"./check-BLgxyM_v.js";/* empty css            */import"./index-Db6oHuYG.js";import"./index-RQsC1uI6.js";import"./index-Dc5gxj5P.js";import"./users-3NLWVyAt.js";import"./index-81r5FwrH.js";import"./chevron-down-Cb4dscRe.js";import"./chevron-left-0xez-OXc.js";import"./ellipsis-BieWi4_S.js";const ee=i=>i.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);function ss(i){const e=le.c(61),{applications:l,filters:te}=i;let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={status:"",admin_notes:""},e[0]=_):_=e[0];const{data:r,setData:n,processing:c,reset:z}=ie(_),[a,M]=Q.useState(null),[U,D]=Q.useState(!1),ae=Te;let k;e[1]!==n?(k=t=>{M(t),n("admin_notes",t.admin_notes||""),D(!0)},e[1]=n,e[2]=k):k=e[2];const X=k;let R;e[3]!==r||e[4]!==z||e[5]!==a?(R=t=>{a&&confirm(`Are you sure you want to mark this application as ${t}?`)&&se.patch(route("admin.applications.update",a.id),{status:t,admin_notes:r.admin_notes},{onSuccess:()=>{D(!1),z(),M(null)},preserveScroll:!0})},e[3]=r,e[4]=z,e[5]=a,e[6]=R):R=e[6];const o=R;let T;e[7]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(re,{title:"Instructor Applications"}),e[7]=T):T=e[7];let F;e[8]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("div",{className:"flex items-center justify-between space-y-2",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Instructor Applications"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and manage requests to become an instructor."})]})}),e[8]=F):F=e[8];let I;e[9]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("div",{children:s.jsx(ce,{children:"Applications"})}),e[9]=I):I=e[9];const G=te.status||"all";let B;e[10]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(he,{className:"w-[180px]",children:s.jsx(ue,{placeholder:"Filter by Status"})}),e[10]=B):B=e[10];let E;e[11]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs(pe,{children:[s.jsx($,{value:"all",children:"All Statuses"}),s.jsx($,{value:"pending",children:"Pending"}),s.jsx($,{value:"approved",children:"Approved"}),s.jsx($,{value:"rejected",children:"Rejected"})]}),e[11]=E):E=e[11];let d;e[12]!==G?(d=s.jsx(oe,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[I,s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(fe,{onValueChange:ae,defaultValue:G,children:[B,E]})})]})}),e[12]=G,e[13]=d):d=e[13];let H;e[14]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(je,{children:s.jsxs(K,{children:[s.jsx(C,{children:"Applicant"}),s.jsx(C,{children:"Specialties"}),s.jsx(C,{children:"Status"}),s.jsx(C,{children:"Submitted"}),s.jsx(C,{className:"text-right",children:"Action"})]})}),e[14]=H):H=e[14];let m;e[15]!==l.data||e[16]!==X?(m=l.data.length>0?l.data.map(t=>s.jsxs(K,{children:[s.jsx(A,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(W,{children:[s.jsx(Y,{src:t.user.profile_photo_url,alt:t.user.name}),s.jsx(Z,{children:ee(t.user.name)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:t.user.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:t.user.email})]})]})}),s.jsx(A,{className:"max-w-xs truncate text-sm text-muted-foreground",children:t.specialties}),s.jsx(A,{children:s.jsx(Ce,{variant:t.status==="approved"?"default":t.status==="rejected"?"destructive":"secondary",className:t.status==="approved"?"bg-green-600 hover:bg-green-700":t.status==="pending"?"bg-yellow-500 hover:bg-yellow-600 text-white":"",children:t.status})}),s.jsx(A,{className:"text-sm text-muted-foreground",children:new Date(t.created_at).toLocaleDateString()}),s.jsx(A,{className:"text-right",children:s.jsxs(P,{variant:"outline",size:"sm",onClick:()=>X(t),children:[s.jsx(De,{className:"mr-2 h-4 w-4"})," Review"]})})]},t.id)):s.jsx(K,{children:s.jsx(A,{colSpan:5,className:"text-center h-24 text-muted-foreground",children:"No applications found."})}),e[15]=l.data,e[16]=X,e[17]=m):m=e[17];let x;e[18]!==m?(x=s.jsxs(ge,{children:[H,s.jsx(ve,{children:m})]}),e[18]=m,e[19]=x):x=e[19];let h;e[20]!==l.links?(h=s.jsx("div",{className:"mt-4",children:s.jsx(_e,{links:l.links})}),e[20]=l.links,e[21]=h):h=e[21];let u;e[22]!==x||e[23]!==h?(u=s.jsxs(de,{children:[x,h]}),e[22]=x,e[23]=h,e[24]=u):u=e[24];let p;e[25]!==d||e[26]!==u?(p=s.jsxs(me,{children:[d,u]}),e[25]=d,e[26]=u,e[27]=p):p=e[27];let L;e[28]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(be,{children:"Review Application"}),e[28]=L):L=e[28];const J=a?.user.name;let f;e[29]!==J?(f=s.jsxs(Ne,{children:[L,s.jsxs(we,{children:["Review the details submitted by ",J,"."]})]}),e[29]=J,e[30]=f):f=e[30];let j;e[31]!==r||e[32]!==a||e[33]!==n?(j=a&&s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(q,{children:"Applicant"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md",children:[s.jsxs(W,{className:"h-8 w-8",children:[s.jsx(Y,{src:a.user.profile_photo_url}),s.jsx(Z,{children:ee(a.user.name)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:a.user.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:a.user.email})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(q,{children:"Specialties"}),s.jsx("div",{className:"p-3 bg-muted rounded-md text-sm",children:a.specialties})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(q,{children:"Bio / Experience"}),s.jsx("div",{className:"p-3 bg-muted rounded-md text-sm whitespace-pre-wrap max-h-[200px] overflow-y-auto",children:a.bio})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(q,{htmlFor:"notes",children:"Admin Notes (Optional)"}),s.jsx(xe,{id:"notes",placeholder:"Add notes about this decision...",value:r.admin_notes,onChange:t=>n("admin_notes",t.target.value)})]})]}),e[31]=r,e[32]=a,e[33]=n,e[34]=j):j=e[34];let g;e[35]!==c||e[36]!==a?.status||e[37]!==o?(g=a?.status!=="rejected"&&s.jsxs(P,{variant:"destructive",onClick:()=>o("rejected"),disabled:c,className:"w-full sm:w-auto",children:[s.jsx(ke,{className:"mr-2 h-4 w-4"})," Reject"]}),e[35]=c,e[36]=a?.status,e[37]=o,e[38]=g):g=e[38];let v;e[39]!==g?(v=s.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:g}),e[39]=g,e[40]=v):v=e[40];let O;e[41]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(P,{variant:"outline",onClick:()=>D(!1),className:"w-full sm:w-auto",children:"Cancel"}),e[41]=O):O=e[41];let b;e[42]!==c||e[43]!==a?.status||e[44]!==o?(b=a?.status!=="approved"&&s.jsxs(P,{onClick:()=>o("approved"),disabled:c,className:"bg-green-600 hover:bg-green-700 text-white w-full sm:w-auto",children:[s.jsx(Re,{className:"mr-2 h-4 w-4"})," Approve Application"]}),e[42]=c,e[43]=a?.status,e[44]=o,e[45]=b):b=e[45];let N;e[46]!==b?(N=s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[O,b]}),e[46]=b,e[47]=N):N=e[47];let w;e[48]!==v||e[49]!==N?(w=s.jsxs(Se,{className:"gap-2 sm:justify-between",children:[v,N]}),e[48]=v,e[49]=N,e[50]=w):w=e[50];let S;e[51]!==f||e[52]!==j||e[53]!==w?(S=s.jsxs(ye,{className:"sm:max-w-[600px]",children:[f,j,w]}),e[51]=f,e[52]=j,e[53]=w,e[54]=S):S=e[54];let y;e[55]!==U||e[56]!==S?(y=s.jsx(Ae,{open:U,onOpenChange:D,children:S}),e[55]=U,e[56]=S,e[57]=y):y=e[57];let V;return e[58]!==p||e[59]!==y?(V=s.jsxs(ne,{children:[T,s.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:[F,p,y]})]}),e[58]=p,e[59]=y,e[60]=V):V=e[60],V}function Te(i){se.get(route("admin.applications.index"),{status:i==="all"?void 0:i},{preserveState:!0})}export{ss as default};
