import{c as G,r as P,j as s,L as J}from"./app-D3ECR5dI.js";import{I as K}from"./input-DMvoubU2.js";import{B as M,c as O}from"./button-DvDxtjvw.js";import{c as q,b as Q}from"./card-Dd4qGrt9.js";import{s as T}from"./sheet-DZP83l67.js";import{P as V}from"./PublicLayout-DrFNiVSa.js";import{S as W}from"./search-E4GtNTnD.js";import{S as X}from"./star-DVT5fPTy.js";/* empty css            */import"./index-0lehUnII.js";import"./index-CqKaeWZh.js";import"./index-Dc5gxj5P.js";import"./menu-Poe-709l.js";function fe(r){const e=G.c(48),{courses:b,categories:j,canRegister:Z}=r;let y;e[0]!==b?(y=b===void 0?[]:b,e[0]=b,e[1]=y):y=e[1];const F=y;let N;e[2]!==j?(N=j===void 0?[]:j,e[2]=j,e[3]=N):N=e[3];const a=N,z=a[0],[o,D]=P.useState(""),[t,R]=P.useState(z?.slug??null);let w;if(e[4]!==F||e[5]!==o||e[6]!==t){let l;e[8]!==o||e[9]!==t?(l=m=>{const H=!t||m.category?.slug===t,U=m.title?.toLowerCase().includes(o.toLowerCase());return H&&U},e[8]=o,e[9]=t,e[10]=l):l=e[10],w=F.filter(l),e[4]=F,e[5]=o,e[6]=t,e[7]=w}else w=e[7];const i=w;let v;e[11]!==a||e[12]!==t?(v=a.find(l=>l.slug===t)||null,e[11]=a,e[12]=t,e[13]=v):v=e[13];const $=v;let C,S;e[14]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Explore all courses"}),S=s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Learn new skills from top instructors"}),e[14]=C,e[15]=S):(C=e[14],S=e[15]);let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=l=>D(l.target.value),e[16]=k):k=e[16];let n;e[17]!==o?(n=s.jsx(K,{placeholder:"Search courses...",value:o,onChange:k,className:"sm:rounded-r-none sm:border-r-0 flex-1"}),e[17]=o,e[18]=n):n=e[18];let _;e[19]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(M,{className:"sm:rounded-l-none px-4 py-2 sm:py-0 mt-2 sm:mt-0",children:s.jsx(W,{className:"w-5 h-5"})}),e[19]=_):_=e[19];let c;e[20]!==n?(c=s.jsx("div",{className:"relative min-h-[200px] sm:h-56 md:h-72 rounded-lg overflow-hidden shadow-xl bg-gradient-to-r from-blue-600 to-teal-500 mb-6 sm:mb-10",children:s.jsx("div",{className:"absolute inset-0 p-4 sm:p-6 md:p-14 flex items-center",children:s.jsxs(q,{className:"max-w-md w-full p-4 sm:p-6 shadow-2xl",children:[C,S,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row",children:[n,_]})]})})}),e[20]=n,e[21]=c):c=e[21];let L;e[22]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Browse by category"}),e[22]=L):L=e[22];let d;if(e[23]!==a||e[24]!==t){let l;e[26]!==t?(l=m=>s.jsx("button",{onClick:()=>R(m.slug),className:O("inline-block py-2.5 px-3 sm:px-4 font-medium rounded-t-md transition-colors text-sm sm:text-base shrink-0",m.slug===t?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-foreground"),children:m.name},m.slug),e[26]=t,e[27]=l):l=e[27],d=a.map(l),e[23]=a,e[24]=t,e[25]=d}else d=e[25];let E;e[28]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("button",{onClick:()=>R(null),className:"inline-block py-2.5 px-3 sm:px-4 font-medium text-primary text-sm sm:text-base shrink-0",children:"All Courses"}),e[28]=E):E=e[28];let x;e[29]!==d?(x=s.jsxs("div",{className:"border-b pb-2 overflow-x-auto scrollbar-hide whitespace-nowrap sticky top-14 sm:top-16 bg-white dark:bg-gray-900 z-40 -mx-4 px-4 sm:mx-0 sm:px-0",children:[d,E]}),e[29]=d,e[30]=x):x=e[30];const I=$?`Courses in ${$.name}`:"All Courses";let f;e[31]!==I?(f=s.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:I}),e[31]=I,e[32]=f):f=e[32];let A;e[33]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4 sm:mb-6 max-w-2xl",children:"High-quality courses curated for you."}),e[33]=A):A=e[33];let h;e[34]!==i?(h=i.map(Y),e[34]=i,e[35]=h):h=e[35];let p;e[36]!==i.length?(p=i.length===0&&s.jsx("p",{className:"col-span-full text-muted-foreground",children:"No courses found."}),e[36]=i.length,e[37]=p):p=e[37];let u;e[38]!==h||e[39]!==p?(u=s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4",children:[h,p]}),e[38]=h,e[39]=p,e[40]=u):u=e[40];let g;e[41]!==f||e[42]!==u?(g=s.jsxs("div",{className:"py-8 sm:py-12",children:[f,A,u]}),e[41]=f,e[42]=u,e[43]=g):g=e[43];let B;return e[44]!==c||e[45]!==x||e[46]!==g?(B=s.jsx(s.Fragment,{children:s.jsx(V,{title:"All Courses",children:s.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:s.jsx("main",{className:"pt-16 sm:pt-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[c,L,x,g]})})})})}),e[44]=c,e[45]=x,e[46]=g,e[47]=B):B=e[47],B}function Y(r){return s.jsx(J,{href:T("courses.show",{course:r.slug}),children:s.jsx(q,{className:"h-full transition-all hover:-translate-y-0.5 hover:shadow-xl",children:s.jsxs(Q,{className:"p-3 sm:p-4",children:[s.jsx("div",{className:"h-20 sm:h-24 bg-muted rounded-md mb-2 sm:mb-3"}),s.jsx("p",{className:"font-semibold text-sm line-clamp-2",children:r.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r.instructor?.name}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(X,{className:"w-3 h-3 fill-yellow-500 text-yellow-500 mr-1"}),r.average_rating?.toFixed(1)??"0.0"]}),s.jsx("span",{className:"font-bold text-primary",children:r.price>0?`USD ${r.price}`:"Free"})]})]})})},r.id)}export{fe as default};
